(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},bl={};var z0;function Vb(){if(z0)return bl;z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=e,bl.jsx=i,bl.jsxs=i,bl}var P0;function kb(){return P0||(P0=1,kd.exports=Vb()),kd.exports}var T=kb(),Ud={exports:{}},Se={};var B0;function Ub(){if(B0)return Se;B0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ne={};function me(O,Q,te){this.props=O,this.context=Q,this.refs=ne,this.updater=te||J}me.prototype.isReactComponent={},me.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},me.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function we(){}we.prototype=me.prototype;function ye(O,Q,te){this.props=O,this.context=Q,this.refs=ne,this.updater=te||J}var Je=ye.prototype=new we;Je.constructor=ye,se(Je,me.prototype),Je.isPureReactComponent=!0;var ht=Array.isArray;function Ve(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,Q,te){var re=te.ref;return{$$typeof:s,type:O,key:Q,ref:re!==void 0?re:null,props:te}}function V(O,Q){return C(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(te){return Q[te]})}var x=/\/+/g;function Ge(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function St(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ve,Ve):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,te,re,ve){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(be){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case s:case e:Ue=!0;break;case S:return Ue=O._init,H(Ue(O._payload),Q,te,re,ve)}}if(Ue)return ve=ve(O),Ue=re===""?"."+Ge(O,0):re,ht(ve)?(te="",Ue!=null&&(te=Ue.replace(x,"$&/")+"/"),H(ve,Q,te,"",function(ie){return ie})):ve!=null&&(N(ve)&&(ve=V(ve,te+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+Ue)),Q.push(ve)),1;Ue=0;var vt=re===""?".":re+":";if(ht(O))for(var ut=0;ut<O.length;ut++)re=O[ut],be=vt+Ge(re,ut),Ue+=H(re,Q,te,be,ve);else if(ut=F(O),typeof ut=="function")for(O=ut.call(O),ut=0;!(re=O.next()).done;)re=re.value,be=vt+Ge(re,ut++),Ue+=H(re,Q,te,be,ve);else if(be==="object"){if(typeof O.then=="function")return H(St(O),Q,te,re,ve);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ee(O,Q,te){if(O==null)return O;var re=[],ve=0;return H(O,re,"","",function(be){return Q.call(te,be,ve++)}),re}function fe(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(te){(O._status===0||O._status===-1)&&(O._status=1,O._result=te)},function(te){(O._status===0||O._status===-1)&&(O._status=2,O._result=te)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var ke=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ke={map:ee,forEach:function(O,Q,te){ee(O,function(){Q.apply(this,arguments)},te)},count:function(O){var Q=0;return ee(O,function(){Q++}),Q},toArray:function(O){return ee(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=A,Se.Children=Ke,Se.Component=me,Se.Fragment=i,Se.Profiler=l,Se.PureComponent=ye,Se.StrictMode=a,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,Q,te){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=se({},O.props),ve=O.key;if(Q!=null)for(be in Q.key!==void 0&&(ve=""+Q.key),Q)!w.call(Q,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Q.ref===void 0||(re[be]=Q[be]);var be=arguments.length-2;if(be===1)re.children=te;else if(1<be){for(var Ue=Array(be),vt=0;vt<be;vt++)Ue[vt]=arguments[vt+2];re.children=Ue}return C(O.type,ve,re)},Se.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,Q,te){var re,ve={},be=null;if(Q!=null)for(re in Q.key!==void 0&&(be=""+Q.key),Q)w.call(Q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=Q[re]);var Ue=arguments.length-2;if(Ue===1)ve.children=te;else if(1<Ue){for(var vt=Array(Ue),ut=0;ut<Ue;ut++)vt[ut]=arguments[ut+2];ve.children=vt}if(O&&O.defaultProps)for(re in Ue=O.defaultProps,Ue)ve[re]===void 0&&(ve[re]=Ue[re]);return C(O,be,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:y,render:O}},Se.isValidElement=N,Se.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:fe}},Se.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},Se.startTransition=function(O){var Q=I.T,te={};I.T=te;try{var re=O(),ve=I.S;ve!==null&&ve(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ve,ke)}catch(be){ke(be)}finally{Q!==null&&te.types!==null&&(Q.types=te.types),I.T=Q}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(O){return I.H.use(O)},Se.useActionState=function(O,Q,te){return I.H.useActionState(O,Q,te)},Se.useCallback=function(O,Q){return I.H.useCallback(O,Q)},Se.useContext=function(O){return I.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,Q){return I.H.useDeferredValue(O,Q)},Se.useEffect=function(O,Q){return I.H.useEffect(O,Q)},Se.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(O,Q,te){return I.H.useImperativeHandle(O,Q,te)},Se.useInsertionEffect=function(O,Q){return I.H.useInsertionEffect(O,Q)},Se.useLayoutEffect=function(O,Q){return I.H.useLayoutEffect(O,Q)},Se.useMemo=function(O,Q){return I.H.useMemo(O,Q)},Se.useOptimistic=function(O,Q){return I.H.useOptimistic(O,Q)},Se.useReducer=function(O,Q,te){return I.H.useReducer(O,Q,te)},Se.useRef=function(O){return I.H.useRef(O)},Se.useState=function(O){return I.H.useState(O)},Se.useSyncExternalStore=function(O,Q,te){return I.H.useSyncExternalStore(O,Q,te)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.3",Se}var q0;function Rm(){return q0||(q0=1,Ud.exports=Ub()),Ud.exports}var Xe=Rm(),Ld={exports:{}},Sl={},jd={exports:{}},zd={};var H0;function Lb(){return H0||(H0=1,(function(s){function e(H,ee){var fe=H.length;H.push(ee);e:for(;0<fe;){var ke=fe-1>>>1,Ke=H[ke];if(0<l(Ke,ee))H[ke]=ee,H[fe]=Ke,fe=ke;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ee=H[0],fe=H.pop();if(fe!==ee){H[0]=fe;e:for(var ke=0,Ke=H.length,O=Ke>>>1;ke<O;){var Q=2*(ke+1)-1,te=H[Q],re=Q+1,ve=H[re];if(0>l(te,fe))re<Ke&&0>l(ve,te)?(H[ke]=ve,H[re]=fe,ke=re):(H[ke]=te,H[Q]=fe,ke=Q);else if(re<Ke&&0>l(ve,fe))H[ke]=ve,H[re]=fe,ke=re;else break e}}return ee}function l(H,ee){var fe=H.sortIndex-ee.sortIndex;return fe!==0?fe:H.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],S=1,A=null,M=3,F=!1,J=!1,se=!1,ne=!1,me=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function Je(H){for(var ee=i(_);ee!==null;){if(ee.callback===null)a(_);else if(ee.startTime<=H)a(_),ee.sortIndex=ee.expirationTime,e(g,ee);else break;ee=i(_)}}function ht(H){if(se=!1,Je(H),!J)if(i(g)!==null)J=!0,Ve||(Ve=!0,U());else{var ee=i(_);ee!==null&&St(ht,ee.startTime-H)}}var Ve=!1,I=-1,w=5,C=-1;function V(){return ne?!0:!(s.unstable_now()-C<w)}function N(){if(ne=!1,Ve){var H=s.unstable_now();C=H;var ee=!0;try{e:{J=!1,se&&(se=!1,we(I),I=-1),F=!0;var fe=M;try{t:{for(Je(H),A=i(g);A!==null&&!(A.expirationTime>H&&V());){var ke=A.callback;if(typeof ke=="function"){A.callback=null,M=A.priorityLevel;var Ke=ke(A.expirationTime<=H);if(H=s.unstable_now(),typeof Ke=="function"){A.callback=Ke,Je(H),ee=!0;break t}A===i(g)&&a(g),Je(H)}else a(g);A=i(g)}if(A!==null)ee=!0;else{var O=i(_);O!==null&&St(ht,O.startTime-H),ee=!1}}break e}finally{A=null,M=fe,F=!1}ee=void 0}}finally{ee?U():Ve=!1}}}var U;if(typeof ye=="function")U=function(){ye(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ge=x.port2;x.port1.onmessage=N,U=function(){Ge.postMessage(null)}}else U=function(){me(N,0)};function St(H,ee){I=me(function(){H(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var ee=3;break;default:ee=M}var fe=M;M=ee;try{return H()}finally{M=fe}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=M;M=H;try{return ee()}finally{M=fe}},s.unstable_scheduleCallback=function(H,ee,fe){var ke=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ke+fe:ke):fe=ke,H){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=fe+Ke,H={id:S++,callback:ee,priorityLevel:H,startTime:fe,expirationTime:Ke,sortIndex:-1},fe>ke?(H.sortIndex=fe,e(_,H),i(g)===null&&H===i(_)&&(se?(we(I),I=-1):se=!0,St(ht,fe-ke))):(H.sortIndex=Ke,e(g,H),J||F||(J=!0,Ve||(Ve=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var ee=M;return function(){var fe=M;M=ee;try{return H.apply(this,arguments)}finally{M=fe}}}})(zd)),zd}var G0;function jb(){return G0||(G0=1,jd.exports=Lb()),jd.exports}var Pd={exports:{}},ln={};var F0;function zb(){if(F0)return ln;F0=1;var s=Rm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ln.createPortal=function(g,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,S)},ln.flushSync=function(g){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=S,a.d.f()}},ln.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},ln.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},ln.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):S==="script"&&a.d.X(g,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ln.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},ln.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin);a.d.L(g,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ln.preloadModule=function(g,_){if(typeof g=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},ln.requestFormReset=function(g){a.d.r(g)},ln.unstable_batchedUpdates=function(g,_){return g(_)},ln.useFormState=function(g,_,S){return d.H.useFormState(g,_,S)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var K0;function Pb(){if(K0)return Pd.exports;K0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=zb(),Pd.exports}var Q0;function Bb(){if(Q0)return Sl;Q0=1;var s=jb(),e=Rm(),i=Pb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),we=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case me:return"Profiler";case ne:return"StrictMode";case ht:return"Suspense";case Ve:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ye:return t.displayName||"Context";case we:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Ge(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Ge(t(n))}catch{}}return null}var St=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ke=[],Ke=-1;function O(t){return{current:t}}function Q(t){0>Ke||(t.current=ke[Ke],ke[Ke]=null,Ke--)}function te(t,n){Ke++,ke[Ke]=t.current,t.current=n}var re=O(null),ve=O(null),be=O(null),Ue=O(null);function vt(t,n){switch(te(be,n),te(ve,t),te(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?l0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=l0(n),t=u0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(re),te(re,t)}function ut(){Q(re),Q(ve),Q(be)}function ie(t){t.memoizedState!==null&&te(Ue,t);var n=re.current,r=u0(n,t.type);n!==r&&(te(ve,t),te(re,r))}function W(t){ve.current===t&&(Q(re),Q(ve)),Ue.current===t&&(Q(Ue),_l._currentValue=fe)}var oe,Ne;function De(t){if(oe===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);oe=n&&n[1]||"",Ne=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+t+Ne}var qe=!1;function Et(t,n){if(!t||qe)return"";qe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var P=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){P=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){P=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{qe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?De(r):""}function ot(t,n){switch(t.tag){case 26:case 27:case 5:return De(t.type);case 16:return De("Lazy");case 13:return t.child!==n&&n!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Et(t.type,!1);case 11:return Et(t.type.render,!1);case 1:return Et(t.type,!0);case 31:return De("Activity");default:return""}}function Pt(t){try{var n="",r=null;do n+=ot(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ce=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,Yt=s.unstable_cancelCallback,jn=s.unstable_shouldYield,bs=s.unstable_requestPaint,Xt=s.unstable_now,Rn=s.unstable_getCurrentPriorityLevel,To=s.unstable_ImmediatePriority,bo=s.unstable_UserBlockingPriority,Ss=s.unstable_NormalPriority,Lh=s.unstable_LowPriority,ru=s.unstable_IdlePriority,au=s.log,ou=s.unstable_setDisableYieldValue,ei=null,$t=null;function zn(t){if(typeof au=="function"&&ou(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ei,t)}catch{}}var At=Math.clz32?Math.clz32:uu,lu=Math.log,oa=Math.LN2;function uu(t){return t>>>=0,t===0?32:31-(lu(t)/oa|0)|0}var pi=256,Sr=262144,It=4194304;function yi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=yi(o):(p&=E,p!==0?h=yi(p):r||(r=E&~t,r!==0&&(h=yi(r))))):(E=o&~f,E!==0?h=yi(E):p!==0?h=yi(p):r||(r=o&~t,r!==0&&(h=yi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ti(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function vi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-At(r),Y=1<<G;E[G]=0,R[G]=-1;var P=z[G];if(P!==null)for(z[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&wr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function wr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-At(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function So(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-At(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Ao(t,n){var r=n&-n;return r=(r&42)!==0?1:xr(r),(r&(t.suspendedLanes|n))!==0?0:r}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:O0(t.type))}function ni(t,n){var r=ee.p;try{return ee.p=t,n()}finally{ee.p=r}}var ii=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ii,Gt="__reactProps$"+ii,Ei="__reactContainer$"+ii,la="__reactEvents$"+ii,Ph="__reactListeners$"+ii,fu="__reactHandles$"+ii,du="__reactResources$"+ii,Ti="__reactMarker$"+ii;function ua(t){delete t[Nt],delete t[Gt],delete t[la],delete t[Ph],delete t[fu]}function bi(t){var n=t[Nt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[Nt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=p0(t);t!==null;){if(r=t[Nt])return r;t=p0(t)}return n}t=r,r=t.parentNode}return null}function Pn(t){if(t=t[Nt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[Ti]=!0}var wo=new Set,xo={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(xo[t]=n,t=0;t<n.length;t++)wo.add(n[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},Io={};function mu(t){return ce.call(Io,t)?!0:ce.call(Co,t)?!1:Ro.test(t)?Io[t]=!0:(Co[t]=!0,!1)}function ca(t,n,r){if(mu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function In(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ot(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=No(t,n,""+t[n])}}function Rr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=As(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function yn(t){return t.replace(Cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ha(t,n,r,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Do(t,p,Ft(n)):r!=null?Do(t,p,Ft(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ft(E):t.removeAttribute("name")}function gu(t,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),et(t)}function Do(t,n,r){n==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ws(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function xs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(St(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),et(t)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||yu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Mo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Oo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(t,f,n[f])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var Vo=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,Ri=null;function Ir(t){var n=Pn(t);if(n&&(t=n.stateNode)){var r=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ha(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Gt]||null;if(!h)throw Error(a(90));ha(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Rr(o)}break e;case"textarea":pu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ws(t,!!r.multiple,n,!1)}}}var ma=!1;function Is(t,n,r){if(ma)return t(n,r);ma=!0;try{var o=t(n);return o}finally{if(ma=!1,(Cs!==null||Ri!==null)&&(hc(),Cs&&(n=Cs,t=Ri,Ri=Cs=null,Ir(n),t)))for(n=0;n<t.length;n++)Ir(t[n])}}function ri(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Gt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(qn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Nr=!1}var Ci=null,ko=null,Dr=null;function Uo(){if(Dr)return Dr;var t,n=ko,r=n.length,o,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Dr=h.slice(t,1<o?1-o:void 0)}function Or(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ai(){return!1}function Zt(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ai,this.isPropagationStopped=ai,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Zt(Qi),Ns=A({},Qi,{view:0,detail:0}),Lo=Zt(Ns),Ds,ga,Ni,pa=A({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ds=t.screenX-Ni.screenX,ga=t.screenY-Ni.screenY):ga=Ds=0,Ni=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),jo=Zt(pa),Mr=A({},pa,{dataTransfer:0}),vu=Zt(Mr),Eu=A({},Ns,{relatedTarget:0}),Vr=Zt(Eu),zo=A({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Zt(zo),ya=A({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bu=Zt(ya),Su=A({},Qi,{data:0}),Di=Zt(Su),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xu[t])?!!n[t]:!1}function Os(){return Ru}var mn=A({},Ns,{key:function(t){if(t.key){var n=Au[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cu=Zt(mn),Iu=A({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Zt(Iu),u=A({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Zt(u),v=A({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Zt(v),L=A({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Zt(L),Z=A({},Qi,{newState:0,oldState:0}),xe=Zt(Z),wt=[9,13,27,32],$e=qn&&"CompositionEvent"in window,gt=null;qn&&"documentMode"in document&&(gt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!gt,Oi=qn&&(!$e||gt&&8<gt&&11>=gt),oi=" ",li=!1;function kr(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function sT(t,n){switch(t){case"compositionend":return _a(n);case"keypress":return n.which!==32?null:(li=!0,oi);case"textInput":return t=n.data,t===oi&&li?null:t;default:return null}}function rT(t,n){if(va)return t==="compositionend"||!$e&&kr(t,n)?(t=Uo(),Dr=ko=Ci=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var aT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!aT[t.type]:n==="textarea"}function Eg(t,n,r,o){Cs?Ri?Ri.push(o):Ri=[o]:Cs=o,n=_c(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Po=null,Bo=null;function oT(t){n0(t,0)}function Nu(t){var n=Cn(t);if(Rr(n))return t}function Tg(t,n){if(t==="change")return n}var bg=!1;if(qn){var Bh;if(qn){var qh="oninput"in document;if(!qh){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),qh=typeof Sg.oninput=="function"}Bh=qh}else Bh=!1;bg=Bh&&(!document.documentMode||9<document.documentMode)}function Ag(){Po&&(Po.detachEvent("onpropertychange",wg),Bo=Po=null)}function wg(t){if(t.propertyName==="value"&&Nu(Bo)){var n=[];Eg(n,Bo,t,Bn(t)),Is(oT,n)}}function lT(t,n,r){t==="focusin"?(Ag(),Po=n,Bo=r,Po.attachEvent("onpropertychange",wg)):t==="focusout"&&Ag()}function uT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Bo)}function cT(t,n){if(t==="click")return Nu(n)}function hT(t,n){if(t==="input"||t==="change")return Nu(n)}function fT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Nn=typeof Object.is=="function"?Object.is:fT;function qo(t,n){if(Nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ce.call(n,h)||!Nn(t[h],n[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rg(t,n){var r=xg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xg(r)}}function Cg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=xi(t.document)}return n}function Hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var dT=qn&&"documentMode"in document&&11>=document.documentMode,Ea=null,Gh=null,Ho=null,Fh=!1;function Ng(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fh||Ea==null||Ea!==xi(o)||(o=Ea,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=_c(Gh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Ea)))}function Ur(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ta={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Kh={},Dg={};qn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Lr(t){if(Kh[t])return Kh[t];if(!Ta[t])return t;var n=Ta[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dg)return Kh[t]=n[r];return t}var Og=Lr("animationend"),Mg=Lr("animationiteration"),Vg=Lr("animationstart"),mT=Lr("transitionrun"),gT=Lr("transitionstart"),pT=Lr("transitioncancel"),kg=Lr("transitionend"),Ug=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function ui(t,n){Ug.set(t,n),Ai(n,[t])}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],ba=0,Yh=0;function Ou(){for(var t=ba,n=Yh=ba=0;n<t;){var r=Gn[n];Gn[n++]=null;var o=Gn[n];Gn[n++]=null;var h=Gn[n];Gn[n++]=null;var f=Gn[n];if(Gn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Lg(r,h,f)}}function Mu(t,n,r,o){Gn[ba++]=t,Gn[ba++]=n,Gn[ba++]=r,Gn[ba++]=o,Yh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Xh(t,n,r,o){return Mu(t,n,r,o),Vu(t)}function jr(t,n){return Mu(t,null,null,n),Vu(t)}function Lg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-At(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Vu(t){if(50<hl)throw hl=0,rd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Sa={};function yT(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,o){return new yT(t,n,r,o)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function jg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")$h(t)&&(p=1);else if(typeof t=="string")p=bb(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Dn(31,r,n,h),t.elementType=C,t.lanes=f,t;case se:return zr(r.children,h,f,n);case ne:p=8,h|=24;break;case me:return t=Dn(12,r,n,h|2),t.elementType=me,t.lanes=f,t;case ht:return t=Dn(13,r,n,h),t.elementType=ht,t.lanes=f,t;case Ve:return t=Dn(19,r,n,h),t.elementType=Ve,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:p=10;break e;case we:p=9;break e;case Je:p=11;break e;case I:p=14;break e;case w:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Dn(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function zr(t,n,r,o){return t=Dn(7,t,o,n),t.lanes=r,t}function Zh(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function zg(t){var n=Dn(18,null,null,0);return n.stateNode=t,n}function Jh(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Pg=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var r=Pg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Pt(n)},Pg.set(t,n),n)}return{value:t,source:n,stack:Pt(n)}}var Aa=[],wa=0,Uu=null,Go=0,Kn=[],Qn=0,Ms=null,Mi=1,Vi="";function $i(t,n){Aa[wa++]=Go,Aa[wa++]=Uu,Uu=t,Go=n}function Bg(t,n,r){Kn[Qn++]=Mi,Kn[Qn++]=Vi,Kn[Qn++]=Ms,Ms=t;var o=Mi;t=Vi;var h=32-At(o)-1;o&=~(1<<h),r+=1;var f=32-At(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Mi=1<<32-At(n)+h|r<<h|o,Vi=f+t}else Mi=1<<f|r<<h|o,Vi=t}function Wh(t){t.return!==null&&($i(t,1),Bg(t,1,0))}function ef(t){for(;t===Uu;)Uu=Aa[--wa],Aa[wa]=null,Go=Aa[--wa],Aa[wa]=null;for(;t===Ms;)Ms=Kn[--Qn],Kn[Qn]=null,Vi=Kn[--Qn],Kn[Qn]=null,Mi=Kn[--Qn],Kn[Qn]=null}function qg(t,n){Kn[Qn++]=Mi,Kn[Qn++]=Vi,Kn[Qn++]=Ms,Mi=n.id,Vi=n.overflow,Ms=t}var Jt=null,ft=null,He=!1,Vs=null,Yn=!1,tf=Error(a(519));function ks(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Fn(n,t)),tf}function Hg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Nt]=t,n[Gt]=o,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(r=0;r<dl.length;r++)Me(dl[r],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),gu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),xs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||a0(n.textContent,r)?(o.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),o.onScroll!=null&&Me("scroll",n),o.onScrollEnd!=null&&Me("scrollend",n),o.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||ks(t,!0)}function Gg(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Jt=Jt.return}}function xa(t){if(t!==Jt)return!1;if(!He)return Gg(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ed(t.type,t.memoizedProps)),r=!r),r&&ft&&ks(t),Gg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=g0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=g0(t)}else n===27?(n=ft,Xs(t.type)?(t=wd,wd=null,ft=t):ft=n):ft=Jt?$n(t.stateNode.nextSibling):null;return!0}function Pr(){ft=Jt=null,He=!1}function nf(){var t=Vs;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Vs=null),t}function Fo(t){Vs===null?Vs=[t]:Vs.push(t)}var sf=O(null),Br=null,Zi=null;function Us(t,n,r){te(sf,n._currentValue),n._currentValue=r}function Ji(t){t._currentValue=sf.current,Q(sf)}function rf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function af(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),rf(f.return,r,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),rf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ra(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Nn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&af(n,t,r,o),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qr(t){Br=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Fg(Br,t)}function ju(t,n){return Br===null&&qr(t),Fg(t,n)}function Fg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Zi===null){if(t===null)throw Error(a(308));Zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Zi=Zi.next=n;return r}var _T=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},vT=s.unstable_scheduleCallback,ET=s.unstable_NormalPriority,Mt={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new _T,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&vT(ET,function(){t.controller.abort()})}var Qo=null,lf=0,Ca=0,Ia=null;function TT(t,n){if(Qo===null){var r=Qo=[];lf=0,Ca=hd(),Ia={status:"pending",value:void 0,then:function(o){r.push(o)}}}return lf++,n.then(Kg,Kg),n}function Kg(){if(--lf===0&&Qo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Qo;Qo=null,Ca=0,Ia=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function bT(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Qg=H.S;H.S=function(t,n){Ny=Xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&TT(t,n),Qg!==null&&Qg(t,n)};var Hr=O(null);function uf(){var t=Hr.current;return t!==null?t:lt.pooledCache}function zu(t,n){n===null?te(Hr,Hr.current):te(Hr,n.pool)}function Yg(){var t=uf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Na=Error(a(460)),cf=Error(a(474)),Pu=Error(a(542)),Bu={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(si,si),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jg(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jg(t),t}throw Fr=n,Na}}function Gr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Fr=r,Na):r}}var Fr=null;function Zg(){if(Fr===null)throw Error(a(459));var t=Fr;return Fr=null,t}function Jg(t){if(t===Na||t===Pu)throw Error(a(483))}var Da=null,Yo=0;function qu(t){var n=Yo;return Yo+=1,Da===null&&(Da=[]),$g(Da,t,n)}function Xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wg(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Xi(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,j,K){return D===null||D.tag!==6?(D=Zh(j,k.mode,K),D.return=k,D):(D=h(D,j),D.return=k,D)}function R(k,D,j,K){var de=j.type;return de===se?G(k,D,j.props.children,K,j.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Gr(de)===D.type)?(D=h(D,j.props),Xo(D,j),D.return=k,D):(D=ku(j.type,j.key,j.props,null,k.mode,K),Xo(D,j),D.return=k,D)}function z(k,D,j,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Jh(j,k.mode,K),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function G(k,D,j,K,de){return D===null||D.tag!==7?(D=zr(j,k.mode,K,de),D.return=k,D):(D=h(D,j),D.return=k,D)}function Y(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Zh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return j=ku(D.type,D.key,D.props,null,k.mode,j),Xo(j,D),j.return=k,j;case J:return D=Jh(D,k.mode,j),D.return=k,D;case w:return D=Gr(D),Y(k,D,j)}if(St(D)||U(D))return D=zr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return Y(k,qu(D),j);if(D.$$typeof===ye)return Y(k,ju(k,D),j);Hu(k,D)}return null}function P(k,D,j,K){var de=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:E(k,D,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return j.key===de?R(k,D,j,K):null;case J:return j.key===de?z(k,D,j,K):null;case w:return j=Gr(j),P(k,D,j,K)}if(St(j)||U(j))return de!==null?null:G(k,D,j,K,null);if(typeof j.then=="function")return P(k,D,qu(j),K);if(j.$$typeof===ye)return P(k,D,ju(k,j),K);Hu(k,j)}return null}function q(k,D,j,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(j)||null,E(D,k,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?j:K.key)||null,R(D,k,K,de);case J:return k=k.get(K.key===null?j:K.key)||null,z(D,k,K,de);case w:return K=Gr(K),q(k,D,j,K,de)}if(St(K)||U(K))return k=k.get(j)||null,G(D,k,K,de,null);if(typeof K.then=="function")return q(k,D,j,qu(K),de);if(K.$$typeof===ye)return q(k,D,j,ju(D,K),de);Hu(D,K)}return null}function le(k,D,j,K){for(var de=null,Qe=null,ue=D,Ce=D=0,je=null;ue!==null&&Ce<j.length;Ce++){ue.index>Ce?(je=ue,ue=null):je=ue.sibling;var Ye=P(k,ue,j[Ce],K);if(Ye===null){ue===null&&(ue=je);break}t&&ue&&Ye.alternate===null&&n(k,ue),D=f(Ye,D,Ce),Qe===null?de=Ye:Qe.sibling=Ye,Qe=Ye,ue=je}if(Ce===j.length)return r(k,ue),He&&$i(k,Ce),de;if(ue===null){for(;Ce<j.length;Ce++)ue=Y(k,j[Ce],K),ue!==null&&(D=f(ue,D,Ce),Qe===null?de=ue:Qe.sibling=ue,Qe=ue);return He&&$i(k,Ce),de}for(ue=o(ue);Ce<j.length;Ce++)je=q(ue,k,Ce,j[Ce],K),je!==null&&(t&&je.alternate!==null&&ue.delete(je.key===null?Ce:je.key),D=f(je,D,Ce),Qe===null?de=je:Qe.sibling=je,Qe=je);return t&&ue.forEach(function(er){return n(k,er)}),He&&$i(k,Ce),de}function pe(k,D,j,K){if(j==null)throw Error(a(151));for(var de=null,Qe=null,ue=D,Ce=D=0,je=null,Ye=j.next();ue!==null&&!Ye.done;Ce++,Ye=j.next()){ue.index>Ce?(je=ue,ue=null):je=ue.sibling;var er=P(k,ue,Ye.value,K);if(er===null){ue===null&&(ue=je);break}t&&ue&&er.alternate===null&&n(k,ue),D=f(er,D,Ce),Qe===null?de=er:Qe.sibling=er,Qe=er,ue=je}if(Ye.done)return r(k,ue),He&&$i(k,Ce),de;if(ue===null){for(;!Ye.done;Ce++,Ye=j.next())Ye=Y(k,Ye.value,K),Ye!==null&&(D=f(Ye,D,Ce),Qe===null?de=Ye:Qe.sibling=Ye,Qe=Ye);return He&&$i(k,Ce),de}for(ue=o(ue);!Ye.done;Ce++,Ye=j.next())Ye=q(ue,k,Ce,Ye.value,K),Ye!==null&&(t&&Ye.alternate!==null&&ue.delete(Ye.key===null?Ce:Ye.key),D=f(Ye,D,Ce),Qe===null?de=Ye:Qe.sibling=Ye,Qe=Ye);return t&&ue.forEach(function(Mb){return n(k,Mb)}),He&&$i(k,Ce),de}function at(k,D,j,K){if(typeof j=="object"&&j!==null&&j.type===se&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case F:e:{for(var de=j.key;D!==null;){if(D.key===de){if(de=j.type,de===se){if(D.tag===7){r(k,D.sibling),K=h(D,j.props.children),K.return=k,k=K;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Gr(de)===D.type){r(k,D.sibling),K=h(D,j.props),Xo(K,j),K.return=k,k=K;break e}r(k,D);break}else n(k,D);D=D.sibling}j.type===se?(K=zr(j.props.children,k.mode,K,j.key),K.return=k,k=K):(K=ku(j.type,j.key,j.props,null,k.mode,K),Xo(K,j),K.return=k,k=K)}return p(k);case J:e:{for(de=j.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){r(k,D.sibling),K=h(D,j.children||[]),K.return=k,k=K;break e}else{r(k,D);break}else n(k,D);D=D.sibling}K=Jh(j,k.mode,K),K.return=k,k=K}return p(k);case w:return j=Gr(j),at(k,D,j,K)}if(St(j))return le(k,D,j,K);if(U(j)){if(de=U(j),typeof de!="function")throw Error(a(150));return j=de.call(j),pe(k,D,j,K)}if(typeof j.then=="function")return at(k,D,qu(j),K);if(j.$$typeof===ye)return at(k,D,ju(k,j),K);Hu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,j),K.return=k,k=K):(r(k,D),K=Zh(j,k.mode,K),K.return=k,k=K),p(k)):r(k,D)}return function(k,D,j,K){try{Yo=0;var de=at(k,D,j,K);return Da=null,de}catch(ue){if(ue===Na||ue===Pu)throw ue;var Qe=Dn(29,ue,null,k.mode);return Qe.lanes=K,Qe.return=k,Qe}}}var Kr=Wg(!0),ep=Wg(!1),Ls=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Vu(t),Lg(t,null,r),n}return Mu(t,o,n,r),Vu(t)}function $o(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,So(t,r)}}function df(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var mf=!1;function Zo(){if(mf){var t=Ia;if(t!==null)throw t}}function Jo(t,n,r,o){mf=!1;var h=t.updateQueue;Ls=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;p=0,G=z=R=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Le&P)===P:(o&P)===P){P!==0&&P===Ca&&(mf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,pe=E;P=n;var at=r;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){Y=le.call(at,Y,P);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,P=typeof le=="function"?le.call(at,Y,P):le,P==null)break e;Y=A({},Y,P);break e;case 2:Ls=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=Y):G=G.next=q,p|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Gs|=p,t.lanes=p,t.memoizedState=Y}}function tp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function np(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)tp(r[t],n)}var Oa=O(null),Gu=O(0);function ip(t,n){t=os,te(Gu,t),te(Oa,n),os=t|n.baseLanes}function gf(){te(Gu,os),te(Oa,Oa.current)}function pf(){os=Gu.current,Q(Oa),Q(Gu)}var On=O(null),Xn=null;function Ps(t){var n=t.alternate;te(xt,xt.current&1),te(On,t),Xn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Xn=t)}function yf(t){te(xt,xt.current),te(On,t),Xn===null&&(Xn=t)}function sp(t){t.tag===22?(te(xt,xt.current),te(On,t),Xn===null&&(Xn=t)):Bs()}function Bs(){te(xt,xt.current),te(On,On.current)}function Mn(t){Q(On),Xn===t&&(Xn=null),Q(xt)}var xt=O(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sd(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,Re=null,st=null,Vt=null,Ku=!1,Ma=!1,Qr=!1,Qu=0,Wo=0,Va=null,ST=0;function Tt(){throw Error(a(321))}function _f(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Nn(t[r],n[r]))return!1;return!0}function vf(t,n,r,o,h,f){return Wi=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Bp:Vf,Qr=!1,f=r(o,h),Qr=!1,Ma&&(f=ap(n,r,o,h)),rp(t),f}function rp(t){H.H=nl;var n=st!==null&&st.next!==null;if(Wi=0,Vt=st=Re=null,Ku=!1,Wo=0,Va=null,n)throw Error(a(300));t===null||kt||(t=t.dependencies,t!==null&&Lu(t)&&(kt=!0))}function ap(t,n,r,o){Re=t;var h=0;do{if(Ma&&(Va=null),Wo=0,Ma=!1,25<=h)throw Error(a(301));if(h+=1,Vt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=qp,f=n(r,o)}while(Ma);return f}function AT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Re.flags|=1024),n}function Ef(){var t=Qu!==0;return Qu=0,t}function Tf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function bf(t){if(Ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ku=!1}Wi=0,Vt=st=Re=null,Ma=!1,Wo=Qu=0,Va=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Re.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Rt(){if(st===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=Vt===null?Re.memoizedState:Vt.next;if(n!==null)Vt=n,st=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Vt===null?Re.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=Wo;return Wo+=1,Va===null&&(Va=[]),t=$g(Va,t,n),n=Re,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Bp:Vf),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===ye)return Wt(t)}throw Error(a(438,String(t)))}function Sf(t){var n=null,r=Re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Yu(),Re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function es(t,n){return typeof n=="function"?n(t):n}function $u(t){var n=Rt();return Af(n,st,t)}function Af(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Le&Y)===Y:(Wi&Y)===Y){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ca&&(G=!0);else if((Wi&P)===P){z=z.next,P===Ca&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,p=f):R=R.next=Y,Re.lanes|=P,Gs|=P;Y=z.action,Qr&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else P={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=P,p=f):R=R.next=P,Re.lanes|=Y,Gs|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=E,!Nn(f,t.memoizedState)&&(kt=!0,G&&(r=Ia,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function wf(t){var n=Rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Nn(f,n.memoizedState)||(kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function op(t,n,r){var o=Re,h=Rt(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Nn((st||h).memoizedState,r);if(p&&(h.memoizedState=r,kt=!0),h=h.queue,Cf(cp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,ka(9,{destroy:void 0},up.bind(null,o,h,r,n),null),lt===null)throw Error(a(349));f||(Wi&127)!==0||lp(o,n,r)}return r}function lp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Re.updateQueue,n===null?(n=Yu(),Re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function up(t,n,r,o){n.value=r,n.getSnapshot=o,hp(n)&&fp(t)}function cp(t,n,r){return r(function(){hp(n)&&fp(t)})}function hp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Nn(t,r)}catch{return!0}}function fp(t){var n=jr(t,2);n!==null&&Sn(n,t,2)}function xf(t){var n=gn();if(typeof t=="function"){var r=t;if(t=r(),Qr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n}function dp(t,n,r,o){return t.baseState=r,Af(t,st,typeof o=="function"?o:es)}function wT(t,n,r,o,h){if(Wu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,mp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function mp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,o),R=H.S;R!==null&&R(p,E),gp(t,n,E)}catch(z){Rf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,o),gp(t,n,f)}catch(z){Rf(t,n,z)}}function gp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){pp(t,n,o)},function(o){return Rf(t,n,o)}):pp(t,n,r)}function pp(t,n,r){n.status="fulfilled",n.value=r,yp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,mp(t,r)))}function Rf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,yp(n),n=n.next;while(n!==o)}t.action=null}function yp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _p(t,n){return n}function vp(t,n){if(He){var r=lt.formState;if(r!==null){e:{var o=Re;if(He){if(ft){t:{for(var h=ft,f=Yn;h.nodeType!==8;){if(!f){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=$n(h.nextSibling),o=h.data==="F!";break e}}ks(o)}o=!1}o&&(n=r[0])}}return r=gn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:n},r.queue=o,r=jp.bind(null,Re,o),o.dispatch=r,o=xf(!1),f=Mf.bind(null,Re,!1,o.queue),o=gn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=wT.bind(null,Re,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Ep(t){var n=Rt();return Tp(n,st,t)}function Tp(t,n,r){if(n=Af(t,n,_p)[0],t=$u(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===Na?Pu:p}else o=n;n=Rt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Re.flags|=2048,ka(9,{destroy:void 0},xT.bind(null,h,r),null)),[o,f,t]}function xT(t,n){t.action=n}function bp(t){var n=Rt(),r=st;if(r!==null)return Tp(n,r,t);Rt(),n=n.memoizedState,r=Rt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function ka(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Yu(),Re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Sp(){return Rt().memoizedState}function Zu(t,n,r,o){var h=gn();Re.flags|=t,h.memoizedState=ka(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ju(t,n,r,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;st!==null&&o!==null&&_f(o,st.memoizedState.deps)?h.memoizedState=ka(n,f,r,o):(Re.flags|=t,h.memoizedState=ka(1|n,f,r,o))}function Ap(t,n){Zu(8390656,8,t,n)}function Cf(t,n){Ju(2048,8,t,n)}function RT(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Yu(),Re.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function wp(t){var n=Rt().memoizedState;return RT({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function xp(t,n){return Ju(4,2,t,n)}function Rp(t,n){return Ju(4,4,t,n)}function Cp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ip(t,n,r){r=r!=null?r.concat([t]):null,Ju(4,4,Cp.bind(null,n,t),r)}function If(){}function Np(t,n){var r=Rt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Dp(t,n){var r=Rt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=t(),Qr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[o,n],o}function Nf(t,n,r){return r===void 0||(Wi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Oy(),Re.lanes|=t,Gs|=t,r)}function Op(t,n,r,o){return Nn(r,n)?r:Oa.current!==null?(t=Nf(t,r,o),Nn(t,n)||(kt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Le&261930)===0?(kt=!0,t.memoizedState=r):(t=Oy(),Re.lanes|=t,Gs|=t,n)}function Mp(t,n,r,o,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Mf(t,!1,n,r);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=bT(R,o);tl(t,n,G,Un(t))}else tl(t,n,o,Un(t))}catch(Y){tl(t,n,{then:function(){},status:"rejected",reason:Y},Un())}finally{ee.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function CT(){}function Df(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Vp(t).queue;Mp(t,h,n,fe,r===null?CT:function(){return kp(t),r(o)})}function Vp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:fe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function kp(t){var n=Vp(t);n.next===null&&(n=t.alternate.memoizedState),tl(t,n.next.queue,{},Un())}function Of(){return Wt(_l)}function Up(){return Rt().memoizedState}function Lp(){return Rt().memoizedState}function IT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Un();t=js(r);var o=zs(n,t,r);o!==null&&(Sn(o,n,r),$o(o,n,r)),n={cache:of()},t.payload=n;return}n=n.return}}function NT(t,n,r){var o=Un();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wu(t)?zp(n,r):(r=Xh(t,n,r,o),r!==null&&(Sn(r,t,o),Pp(r,n,o)))}function jp(t,n,r){var o=Un();tl(t,n,r,o)}function tl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))zp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,Nn(E,p))return Mu(t,n,h,0),lt===null&&Ou(),!1}catch{}if(r=Xh(t,n,h,o),r!==null)return Sn(r,t,o),Pp(r,n,o),!0}return!1}function Mf(t,n,r,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(a(479))}else n=Xh(t,r,o,2),n!==null&&Sn(n,t,2)}function Wu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function zp(t,n){Ma=Ku=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Pp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,So(t,r)}}var nl={readContext:Wt,use:Xu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};nl.useEffectEvent=Tt;var Bp={readContext:Wt,use:Xu,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:Ap,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zu(4194308,4,Cp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var r=gn();n=n===void 0?null:n;var o=t();if(Qr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=gn();if(r!==void 0){var h=r(n);if(Qr){zn(!0);try{r(n)}finally{zn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=NT.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=xf(t);var n=t.queue,r=jp.bind(null,Re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:If,useDeferredValue:function(t,n){var r=gn();return Nf(r,t,n)},useTransition:function(){var t=xf(!1);return t=Mp.bind(null,Re,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Re,h=gn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),lt===null)throw Error(a(349));(Le&127)!==0||lp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ap(cp.bind(null,o,f,t),[t]),o.flags|=2048,ka(9,{destroy:void 0},up.bind(null,o,f,r,n),null),r},useId:function(){var t=gn(),n=lt.identifierPrefix;if(He){var r=Vi,o=Mi;r=(o&~(1<<32-At(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=ST++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Of,useFormState:vp,useActionState:vp,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mf.bind(null,Re,!0,r),r.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return gn().memoizedState=IT.bind(null,Re)},useEffectEvent:function(t){var n=gn(),r={impl:t};return n.memoizedState=r,function(){if((Ze&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vf={readContext:Wt,use:Xu,useCallback:Np,useContext:Wt,useEffect:Cf,useImperativeHandle:Ip,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:Dp,useReducer:$u,useRef:Sp,useState:function(){return $u(es)},useDebugValue:If,useDeferredValue:function(t,n){var r=Rt();return Op(r,st.memoizedState,t,n)},useTransition:function(){var t=$u(es)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:op,useId:Up,useHostTransitionStatus:Of,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var r=Rt();return dp(r,st,t,n)},useMemoCache:Sf,useCacheRefresh:Lp};Vf.useEffectEvent=wp;var qp={readContext:Wt,use:Xu,useCallback:Np,useContext:Wt,useEffect:Cf,useImperativeHandle:Ip,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:Dp,useReducer:wf,useRef:Sp,useState:function(){return wf(es)},useDebugValue:If,useDeferredValue:function(t,n){var r=Rt();return st===null?Nf(r,t,n):Op(r,st.memoizedState,t,n)},useTransition:function(){var t=wf(es)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:op,useId:Up,useHostTransitionStatus:Of,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var r=Rt();return st!==null?dp(r,st,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Lp};qp.useEffectEvent=wp;function kf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Un(),h=js(o);h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,o),n!==null&&(Sn(n,t,o),$o(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Un(),h=js(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,o),n!==null&&(Sn(n,t,o),$o(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Un(),o=js(r);o.tag=2,n!=null&&(o.callback=n),n=zs(t,o,r),n!==null&&(Sn(n,t,r),$o(n,t,r))}};function Hp(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(r,o)||!qo(h,f):!0}function Gp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function Yr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Fp(t){Du(t)}function Kp(t){console.error(t)}function Qp(t){Du(t)}function ec(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Yp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(t,n,r){return r=js(r),r.tag=3,r.payload={element:null},r.callback=function(){ec(t,n)},r}function Xp(t){return t=js(t),t.tag=3,t}function $p(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Yp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Yp(n,r,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function DT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ra(n,r,h,!0),r=On.current,r!==null){switch(r.tag){case 31:case 13:return Xn===null?fc():r.alternate===null&&bt===0&&(bt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Bu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ld(t,o,h)),!1;case 22:return r.flags|=65536,o===Bu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ld(t,o,h)),!1}throw Error(a(435,r.tag))}return ld(t,o,h),fc(),!1}if(He)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(t=Error(a(422),{cause:o}),Fo(Fn(t,r)))):(o!==tf&&(n=Error(a(423),{cause:o}),Fo(Fn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Fn(o,r),h=Lf(t.stateNode,o,h),df(t,h),bt!==4&&(bt=2)),!1;var f=Error(a(520),{cause:o});if(f=Fn(f,r),cl===null?cl=[f]:cl.push(f),bt!==4&&(bt=2),n===null)return!0;o=Fn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Lf(r.stateNode,o,t),df(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Xp(h),$p(h,t,r,o),df(r,h),!1}r=r.return}while(r!==null);return!1}var jf=Error(a(461)),kt=!1;function en(t,n,r,o){n.child=t===null?ep(n,null,r,o):Kr(n,t.child,r,o)}function Zp(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return qr(n),o=vf(t,n,r,p,f,h),E=Ef(),t!==null&&!kt?(Tf(t,n,h),ts(t,n,h)):(He&&E&&Wh(n),n.flags|=1,en(t,n,o,h),n.child)}function Jp(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Wp(t,n,f,o,h)):(t=ku(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:qo,r(p,o)&&t.ref===n.ref)return ts(t,n,h)}return n.flags|=1,t=Xi(f,o),t.ref=n.ref,t.return=n,n.child=t}function Wp(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(qo(f,o)&&t.ref===n.ref)if(kt=!1,n.pendingProps=o=f,Kf(t,h))(t.flags&131072)!==0&&(kt=!0);else return n.lanes=t.lanes,ts(t,n,h)}return zf(t,n,r,o,h)}function ey(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ty(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?ip(n,f):gf(),sp(n);else return o=n.lanes=536870912,ty(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(zu(n,f.cachePool),ip(n,f),Bs(),n.memoizedState=null):(t!==null&&zu(n,null),gf(),Bs());return en(t,n,h,r),n.child}function il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(t,n,r,o,h){var f=uf();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&zu(n,null),gf(),sp(n),t!==null&&Ra(t,n,o,!0),n.childLanes=h,null}function tc(t,n){return n=ic({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ny(t,n,r){return Kr(n,t.child,null,r),t=tc(n,n.pendingProps),t.flags|=2,Mn(n),n.memoizedState=null,t}function OT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=tc(n,o),n.lanes=536870912,il(null,t);if(yf(n),(t=ft)?(t=m0(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=zg(t),r.return=n,n.child=r,Jt=n,ft=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return tc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=ny(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(kt||Ra(t,n,r,!1),h=(r&t.childLanes)!==0,kt||h){if(o=lt,o!==null&&(p=Ao(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,jr(t,p),Sn(o,t,p),jf;fc(),n=ny(t,n,r)}else t=f.treeContext,ft=$n(p.nextSibling),Jt=n,He=!0,Vs=null,Yn=!1,t!==null&&qg(n,t),n=tc(n,o),n.flags|=4096;return n}return t=Xi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function nc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function zf(t,n,r,o,h){return qr(n),r=vf(t,n,r,o,void 0,h),o=Ef(),t!==null&&!kt?(Tf(t,n,h),ts(t,n,h)):(He&&o&&Wh(n),n.flags|=1,en(t,n,r,h),n.child)}function iy(t,n,r,o,h,f){return qr(n),n.updateQueue=null,r=ap(n,o,r,h),rp(t),o=Ef(),t!==null&&!kt?(Tf(t,n,f),ts(t,n,f)):(He&&o&&Wh(n),n.flags|=1,en(t,n,r,f),n.child)}function sy(t,n,r,o,h){if(qr(n),n.stateNode===null){var f=Sa,p=r.contextType;typeof p=="object"&&p!==null&&(f=Wt(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Wt(p):Sa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(kf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=Yr(r,E);f.props=R;var z=f.context,G=r.contextType;p=Sa,typeof G=="object"&&G!==null&&(p=Wt(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Gp(n,f,o,p),Ls=!1;var P=n.memoizedState;f.state=P,Jo(n,o,f,h),Zo(),z=n.memoizedState,E||P!==z||Ls?(typeof Y=="function"&&(kf(n,r,Y,o),z=n.memoizedState),(R=Ls||Hp(n,r,R,o,P,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(t,n),p=n.memoizedProps,G=Yr(r,p),f.props=G,Y=n.pendingProps,P=f.context,z=r.contextType,R=Sa,typeof z=="object"&&z!==null&&(R=Wt(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||P!==R)&&Gp(n,f,o,R),Ls=!1,P=n.memoizedState,f.state=P,Jo(n,o,f,h),Zo();var q=n.memoizedState;p!==Y||P!==q||Ls||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof E=="function"&&(kf(n,r,E,o),q=n.memoizedState),(G=Ls||Hp(n,r,G,o,P,q,R)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,nc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Kr(n,t.child,null,h),n.child=Kr(n,null,r,h)):en(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ts(t,n,h),t}function ry(t,n,r,o){return Pr(),n.flags|=256,en(t,n,r,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:Yg()}}function qf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=kn),t}function ay(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Ps(n):Bs(),(t=ft)?(t=m0(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=zg(t),r.return=n,n.child=r,Jt=n,ft=null)):t=null,t===null)throw ks(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Bs(),h=n.mode,E=ic({mode:"hidden",children:E},h),o=zr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(r),o.childLanes=qf(t,p,r),n.memoizedState=Pf,il(null,o)):(Ps(n),Hf(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Gf(t,n,r)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),E=o.fallback,h=n.mode,o=ic({mode:"visible",children:o.children},h),E=zr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Kr(n,t.child,null,r),o=n.child,o.memoizedState=Bf(r),o.childLanes=qf(t,p,r),n.memoizedState=Pf,n=il(null,o));else if(Ps(n),Ad(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=Gf(t,n,r)}else if(kt||Ra(t,n,r,!1),p=(r&t.childLanes)!==0,kt||p){if(p=lt,p!==null&&(o=Ao(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,jr(t,o),Sn(p,t,o),jf;Sd(E)||fc(),n=Gf(t,n,r)}else Sd(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ft=$n(E.nextSibling),Jt=n,He=!0,Vs=null,Yn=!1,t!==null&&qg(n,t),n=Hf(n,o.children),n.flags|=4096);return n}return h?(Bs(),E=o.fallback,h=n.mode,R=t.child,z=R.sibling,o=Xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Xi(z,E):(E=zr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Bf(r):(h=E.cachePool,h!==null?(R=Mt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Yg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=qf(t,p,r),n.memoizedState=Pf,il(t.child,o)):(Ps(n),r=t.child,t=r.sibling,r=Xi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Hf(t,n){return n=ic({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ic(t,n){return t=Dn(22,t,null,n),t.lanes=0,t}function Gf(t,n,r){return Kr(n,t.child,null,r),t=Hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function oy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),rf(t.return,n,r)}function Ff(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function ly(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=xt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,te(xt,p),en(t,n,o,r),o=He?Go:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,r,n);else if(t.tag===19)oy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Fu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Ff(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Ff(n,!0,r,null,f,o);break;case"together":Ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ts(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ra(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Xi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function MT(t,n,r){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),Us(n,Mt,t.memoizedState.cache),Pr();break;case 27:case 5:ie(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ps(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ay(t,n,r):(Ps(n),t=ts(t,n,r),t!==null?t.sibling:null);Ps(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ra(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ly(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(xt,xt.current),o)break;return null;case 22:return n.lanes=0,ey(t,n,r,n.pendingProps);case 24:Us(n,Mt,t.memoizedState.cache)}return ts(t,n,r)}function uy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)kt=!0;else{if(!Kf(t,r)&&(n.flags&128)===0)return kt=!1,MT(t,n,r);kt=(t.flags&131072)!==0}else kt=!1,He&&(n.flags&1048576)!==0&&Bg(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Gr(n.elementType),n.type=t,typeof t=="function")$h(t)?(o=Yr(t,o),n.tag=1,n=sy(null,n,t,o,r)):(n.tag=0,n=zf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=Zp(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=Jp(null,n,t,o,r);break e}}throw n=Ge(t)||t,Error(a(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Yr(o,n.pendingProps),sy(t,n,o,h,r);case 3:e:{if(vt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(t,n),Jo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Us(n,Mt,o),o!==f.cache&&af(n,[Mt],r,!0),Zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ry(t,n,o,r);break e}else if(o!==h){h=Fn(Error(a(424)),n),Fo(h),n=ry(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=$n(t.firstChild),Jt=n,He=!0,Vs=null,Yn=!0,r=ep(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pr(),o===h){n=ts(t,n,r);break e}en(t,n,o,r)}n=n.child}return n;case 26:return nc(t,n),t===null?(r=E0(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,o=vc(be.current).createElement(r),o[Nt]=n,o[Gt]=t,tn(o,r,t),Dt(o),n.stateNode=o):n.memoizedState=E0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ie(n),t===null&&He&&(o=n.stateNode=y0(n.type,n.pendingProps,be.current),Jt=n,Yn=!0,h=ft,Xs(n.type)?(wd=h,ft=$n(o.firstChild)):ft=h),en(t,n,n.pendingProps.children,r),nc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=o=ft)&&(o=ub(o,n.type,n.pendingProps,Yn),o!==null?(n.stateNode=o,Jt=n,ft=$n(o.firstChild),Yn=!1,h=!0):h=!1),h||ks(n)),ie(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Ed(h,f)?o=null:p!==null&&Ed(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(t,n,AT,null,null,r),_l._currentValue=h),nc(t,n),en(t,n,o,r),n.child;case 6:return t===null&&He&&((t=r=ft)&&(r=cb(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Jt=n,ft=null,t=!0):t=!1),t||ks(n)),null;case 13:return ay(t,n,r);case 4:return vt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Kr(n,null,o,r):en(t,n,o,r),n.child;case 11:return Zp(t,n,n.type,n.pendingProps,r);case 7:return en(t,n,n.pendingProps,r),n.child;case 8:return en(t,n,n.pendingProps.children,r),n.child;case 12:return en(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),en(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=Wt(h),o=o(h),n.flags|=1,en(t,n,o,r),n.child;case 14:return Jp(t,n,n.type,n.pendingProps,r);case 15:return Wp(t,n,n.type,n.pendingProps,r);case 19:return ly(t,n,r);case 31:return OT(t,n,r);case 22:return ey(t,n,r,n.pendingProps);case 24:return qr(n),o=Wt(Mt),t===null?(h=uf(),h===null&&(h=lt,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},hf(n),Us(n,Mt,h)):((t.lanes&r)!==0&&(ff(t,n),Jo(n,null,null,r),Zo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,Mt,o)):(o=f.cache,Us(n,Mt,o),o!==h.cache&&af(n,[Mt],r,!0))),en(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ns(t){t.flags|=4}function Qf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Fr=Bu,cf}else t.flags&=-16777217}function cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w0(n))if(Uy())t.flags|=8192;else throw Fr=Bu,cf}function sc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?cu():536870912,t.lanes|=n,za|=n)}function sl(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function VT(t,n,r){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return dt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ji(Mt),ut(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xa(n)?ns(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),dt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ns(n),f!==null?(dt(n),cy(n,f)):(dt(n),Qf(n,h,null,o,r))):f?f!==t.memoizedState?(ns(n),dt(n),cy(n,f)):(dt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ns(n),dt(n),Qf(n,h,t,o,r)),null;case 27:if(W(n),r=be.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ns(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}t=re.current,xa(n)?Hg(n):(t=y0(h,o,r),n.stateNode=t,ns(n))}return dt(n),null;case 5:if(W(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ns(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}if(f=re.current,xa(n))Hg(n);else{var p=vc(be.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Nt]=n,f[Gt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ns(n)}}return dt(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ns(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=be.current,xa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||a0(t.nodeValue,r)),t||ks(n,!0)}else t=vc(t).createTextNode(o),t[Nt]=n,n.stateNode=t}return dt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=xa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Nt]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),t=!1}else r=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return dt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else h=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),sc(n,n.updateQueue),dt(n),null);case 4:return ut(),t===null&&gd(n.stateNode.containerInfo),dt(n),null;case 10:return Ji(n.type),dt(n),null;case 19:if(Q(xt),o=n.memoizedState,o===null)return dt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,sl(o,!1),t=f.updateQueue,n.updateQueue=t,sc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)jg(r,t),r=r.sibling;return te(xt,xt.current&1|2),He&&$i(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Xt()>uc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,sc(n,t),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!He)return dt(n),null}else 2*Xt()-o.renderingStartTime>uc&&r!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,r=xt.current,te(xt,h?r&1|2:r&1),He&&$i(n,o.treeForkCount),t):(dt(n),null);case 22:case 23:return Mn(n),pf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),r=n.updateQueue,r!==null&&sc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Q(Hr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ji(Mt),dt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kT(t,n){switch(ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(Mt),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return W(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(xt),null;case 4:return ut(),null;case 10:return Ji(n.type),null;case 22:case 23:return Mn(n),pf(),t!==null&&Q(Hr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(Mt),null;case 25:return null;default:return null}}function hy(t,n){switch(ef(n),n.tag){case 3:Ji(Mt),ut();break;case 26:case 27:case 5:W(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:Q(xt);break;case 10:Ji(n.type);break;case 22:case 23:Mn(n),pf(),t!==null&&Q(Hr);break;case 24:Ji(Mt)}}function rl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){nt(n,n.return,E)}}function qs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(G){nt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){nt(n,n.return,G)}}function fy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{np(n,r)}catch(o){nt(t,t.return,o)}}}function dy(t,n,r){r.props=Yr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){nt(t,n,o)}}function al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){nt(t,n,h)}}function ki(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){nt(t,n,h)}else r.current=null}function my(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){nt(t,t.return,h)}}function Yf(t,n,r){try{var o=t.stateNode;ib(o,t.type,r,n),o[Gt]=n}catch(h){nt(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=si));else if(o!==4&&(o===27&&Xs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,r),t=t.sibling;t!==null;)$f(t,n,r),t=t.sibling}function rc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Xs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(rc(t,n,r),t=t.sibling;t!==null;)rc(t,n,r),t=t.sibling}function py(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,r),n[Nt]=t,n[Gt]=r}catch(f){nt(t,t.return,f)}}var is=!1,Ut=!1,Zf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function UT(t,n){if(t=t.containerInfo,_d=xc,t=Ig(t),Hh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,R=-1,z=0,G=0,Y=t,P=null;t:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(R=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)P=Y,Y=q;for(;;){if(Y===t)break t;if(P===r&&++z===h&&(E=p),P===f&&++G===o&&(R=p),(q=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:t,selectionRange:r},xc=!1,Kt=n;Kt!==null;)if(n=Kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Kt=t;else for(;Kt!==null;){switch(n=Kt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var le=Yr(r.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){nt(r,r.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)bd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Kt=t;break}Kt=n.return}}function _y(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:rs(t,r),o&4&&rl(5,r);break;case 1:if(rs(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){nt(r,r.return,p)}else{var h=Yr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){nt(r,r.return,p)}}o&64&&fy(r),o&512&&al(r,r.return);break;case 3:if(rs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{np(t,n)}catch(p){nt(r,r.return,p)}}break;case 27:n===null&&o&4&&py(r);case 26:case 5:rs(t,r),n===null&&o&4&&my(r),o&512&&al(r,r.return);break;case 12:rs(t,r);break;case 31:rs(t,r),o&4&&Ty(t,r);break;case 13:rs(t,r),o&4&&by(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=FT.bind(null,r),hb(t,r))));break;case 22:if(o=r.memoizedState!==null||is,!o){n=n!==null&&n.memoizedState!==null||Ut,h=is;var f=Ut;is=o,(Ut=n)&&!f?as(t,r,(r.subtreeFlags&8772)!==0):rs(t,r),is=h,Ut=f}break;case 30:break;default:rs(t,r)}}function vy(t){var n=t.alternate;n!==null&&(t.alternate=null,vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ua(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,vn=!1;function ss(t,n,r){for(r=r.child;r!==null;)Ey(t,n,r),r=r.sibling}function Ey(t,n,r){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ei,r)}catch{}switch(r.tag){case 26:Ut||ki(r,n),ss(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ut||ki(r,n);var o=pt,h=vn;Xs(r.type)&&(pt=r.stateNode,vn=!1),ss(t,n,r),gl(r.stateNode),pt=o,vn=h;break;case 5:Ut||ki(r,n);case 6:if(o=pt,h=vn,pt=null,ss(t,n,r),pt=o,vn=h,pt!==null)if(vn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(r.stateNode)}catch(f){nt(r,n,f)}else try{pt.removeChild(r.stateNode)}catch(f){nt(r,n,f)}break;case 18:pt!==null&&(vn?(t=pt,f0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Qa(t)):f0(pt,r.stateNode));break;case 4:o=pt,h=vn,pt=r.stateNode.containerInfo,vn=!0,ss(t,n,r),pt=o,vn=h;break;case 0:case 11:case 14:case 15:qs(2,r,n),Ut||qs(4,r,n),ss(t,n,r);break;case 1:Ut||(ki(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&dy(r,n,o)),ss(t,n,r);break;case 21:ss(t,n,r);break;case 22:Ut=(o=Ut)||r.memoizedState!==null,ss(t,n,r),Ut=o;break;default:ss(t,n,r)}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(r){nt(n,n.return,r)}}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(r){nt(n,n.return,r)}}function LT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new yy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new yy),n;default:throw Error(a(435,t.tag))}}function ac(t,n){var r=LT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=KT.bind(null,t,o);o.then(h,h)}})}function En(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){pt=E.stateNode,vn=!1;break e}break;case 5:pt=E.stateNode,vn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,vn=!0;break e}E=E.return}if(pt===null)throw Error(a(160));Ey(f,p,h),pt=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,t),n=n.sibling}var ci=null;function Sy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),Tn(t),o&4&&(qs(3,t,t.return),rl(3,t),qs(5,t,t.return));break;case 1:En(n,t),Tn(t),o&512&&(Ut||r===null||ki(r,r.return)),o&64&&is&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ci;if(En(n,t),Tn(t),o&512&&(Ut||r===null||ki(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,r),f[Nt]=t,Dt(f),o=f;break e;case"link":var p=S0("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),tn(f,o,r),h.head.appendChild(f);break;case"meta":if(p=S0("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(o),tn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Nt]=t,Dt(f),o=f}t.stateNode=o}else A0(h,t.type,t.stateNode);else t.stateNode=b0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?A0(h,t.type,t.stateNode):b0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,r.memoizedProps)}break;case 27:En(n,t),Tn(t),o&512&&(Ut||r===null||ki(r,r.return)),r!==null&&o&4&&Yf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(En(n,t),Tn(t),o&512&&(Ut||r===null||ki(r,r.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(le){nt(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Yf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(En(n,t),Tn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(le){nt(t,t.return,le)}}break;case 3:if(bc=null,h=ci,ci=Ec(n.containerInfo),En(n,t),ci=h,Tn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(le){nt(t,t.return,le)}Zf&&(Zf=!1,Ay(t));break;case 4:o=ci,ci=Ec(t.stateNode.containerInfo),En(n,t),Tn(t),ci=o;break;case 12:En(n,t),Tn(t);break;case 31:En(n,t),Tn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ac(t,o)));break;case 13:En(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(lc=Xt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ac(t,o)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=is,G=Ut;if(is=z||h,Ut=G||R,En(n,t),Ut=G,is=z,Tn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||is||Ut||Xr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(le){nt(R,R.return,le)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(le){nt(R,R.return,le)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?d0(q,!0):d0(R.stateNode,!1)}catch(le){nt(R,R.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ac(t,r))));break;case 19:En(n,t),Tn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ac(t,o)));break;case 30:break;case 21:break;default:En(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(gy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Xf(t);rc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(_n(p,""),r.flags&=-33);var E=Xf(t);rc(t,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Xf(t);$f(t,z,R);break;default:throw Error(a(161))}}catch(G){nt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(t,n.alternate,n),n=n.sibling}function Xr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Xr(n);break;case 1:ki(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dy(n,n.return,r),Xr(n);break;case 27:gl(n.stateNode);case 26:case 5:ki(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}t=t.sibling}}function as(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:as(h,f,r),rl(4,f);break;case 1:if(as(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){nt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)tp(R[h],E)}catch(z){nt(o,o.return,z)}}r&&p&64&&fy(f),al(f,f.return);break;case 27:py(f);case 26:case 5:as(h,f,r),r&&o===null&&p&4&&my(f),al(f,f.return);break;case 12:as(h,f,r);break;case 31:as(h,f,r),r&&p&4&&Ty(h,f);break;case 13:as(h,f,r),r&&p&4&&by(h,f);break;case 22:f.memoizedState===null&&as(h,f,r),al(f,f.return);break;case 30:break;default:as(h,f,r)}n=n.sibling}}function Jf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ko(r))}function Wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t))}function hi(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(t,n,r,o),n=n.sibling}function wy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,r,o),h&2048&&rl(9,n);break;case 1:hi(t,n,r,o);break;case 3:hi(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){hi(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){nt(n,n.return,R)}}else hi(t,n,r,o);break;case 31:hi(t,n,r,o);break;case 13:hi(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?hi(t,n,r,o):ol(t,n):f._visibility&2?hi(t,n,r,o):(f._visibility|=2,Ua(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(p,n);break;case 24:hi(t,n,r,o),h&2048&&Wf(n.alternate,n);break;default:hi(t,n,r,o)}}function Ua(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ua(f,p,E,R,h),rl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ua(f,p,E,R,h):ol(f,p):(G._visibility|=2,Ua(f,p,E,R,h)),h&&z&2048&&Jf(p.alternate,p);break;case 24:Ua(f,p,E,R,h),h&&z&2048&&Wf(p.alternate,p);break;default:Ua(f,p,E,R,h)}n=n.sibling}}function ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:ol(r,o),h&2048&&Jf(o.alternate,o);break;case 24:ol(r,o),h&2048&&Wf(o.alternate,o);break;default:ol(r,o)}n=n.sibling}}var ll=8192;function La(t,n,r){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)xy(t,n,r),t=t.sibling}function xy(t,n,r){switch(t.tag){case 26:La(t,n,r),t.flags&ll&&t.memoizedState!==null&&Sb(r,ci,t.memoizedState,t.memoizedProps);break;case 5:La(t,n,r);break;case 3:case 4:var o=ci;ci=Ec(t.stateNode.containerInfo),La(t,n,r),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,La(t,n,r),ll=o):La(t,n,r));break;default:La(t,n,r)}}function Ry(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Kt=o,Iy(o,t)}Ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&qs(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,oc(t)):ul(t);break;default:ul(t)}}function oc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Kt=o,Iy(o,t)}Ry(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),oc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,oc(n));break;default:oc(n)}t=t.sibling}}function Iy(t,n){for(;Kt!==null;){var r=Kt;switch(r.tag){case 0:case 11:case 15:qs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Kt=o;else e:for(r=t;Kt!==null;){o=Kt;var h=o.sibling,f=o.return;if(vy(o),o===r){Kt=null;break e}if(h!==null){h.return=f,Kt=h;break e}Kt=f}}}var jT={getCacheForType:function(t){var n=Wt(Mt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Wt(Mt).controller.signal}},zT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,Oe=null,Le=0,tt=0,Vn=null,Hs=!1,ja=!1,ed=!1,os=0,bt=0,Gs=0,$r=0,td=0,kn=0,za=0,cl=null,bn=null,nd=!1,lc=0,Ny=0,uc=1/0,cc=null,Fs=null,Bt=0,Ks=null,Pa=null,ls=0,id=0,sd=null,Dy=null,hl=0,rd=null;function Un(){return(Ze&2)!==0&&Le!==0?Le&-Le:H.T!==null?hd():hu()}function Oy(){if(kn===0)if((Le&536870912)===0||He){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),kn=t}else kn=536870912;return t=On.current,t!==null&&(t.flags|=32),kn}function Sn(t,n,r){(t===lt&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Qs(t,Le,kn,!1)),Ar(t,r),((Ze&2)===0||t!==lt)&&(t===lt&&((Ze&2)===0&&($r|=r),bt===4&&Qs(t,Le,kn,!1)),Ui(t))}function My(t,n,r){if((Ze&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ti(t,n),h=o?qT(t,n):od(t,n,!0),f=o;do{if(h===0){ja&&!o&&Qs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!PT(r)){h=od(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=cl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ba(E,p).flags|=256),p=od(E,p,!1),p!==2){if(ed&&!R){E.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break e}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ba(t,0),Qs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,kn,!Hs);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=lc+300-Xt(),10<h)){if(Qs(o,n,kn,!Hs),_i(o,0,!0)!==0)break e;ls=n,o.timeoutHandle=c0(Vy.bind(null,o,r,bn,cc,nd,n,kn,$r,za,Hs,f,"Throttled",-0,0),h);break e}Vy(o,r,bn,cc,nd,n,kn,$r,za,Hs,f,null,-0,0)}}break}while(!0);Ui(t)}function Vy(t,n,r,o,h,f,p,E,R,z,G,Y,P,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},xy(n,f,Y);var le=(f&62914560)===f?lc-Xt():(f&4194048)===f?Ny-Xt():0;if(le=Ab(Y,le),le!==null){ls=f,t.cancelPendingCommit=le(qy.bind(null,t,n,f,r,o,h,p,E,R,G,Y,null,P,q)),Qs(t,f,p,!z);return}}qy(t,n,f,r,o,h,p,E,R)}function PT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(t,n,r,o){n&=~td,n&=~$r,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-At(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&wr(t,r,n)}function hc(){return(Ze&6)===0?(fl(0),!1):!0}function ad(){if(Oe!==null){if(tt===0)var t=Oe.return;else t=Oe,Zi=Br=null,bf(t),Da=null,Yo=0,t=Oe;for(;t!==null;)hy(t.alternate,t),t=t.return;Oe=null}}function Ba(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ab(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ls=0,ad(),lt=t,Oe=r=Xi(t.current,null),Le=n,tt=0,Vn=null,Hs=!1,ja=ti(t,n),ed=!1,za=kn=td=$r=Gs=bt=0,bn=cl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-At(o),f=1<<h;n|=t[h],o&=~f}return os=n,Ou(),r}function ky(t,n){Re=null,H.H=nl,n===Na||n===Pu?(n=Zg(),tt=3):n===cf?(n=Zg(),tt=4):tt=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vn=n,Oe===null&&(bt=1,ec(t,Fn(n,t.current)))}function Uy(){var t=On.current;return t===null?!0:(Le&4194048)===Le?Xn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Xn:!1}function Ly(){var t=H.H;return H.H=nl,t===null?nl:t}function jy(){var t=H.A;return H.A=jT,t}function fc(){bt=4,Hs||(Le&4194048)!==Le&&On.current!==null||(ja=!0),(Gs&134217727)===0&&($r&134217727)===0||lt===null||Qs(lt,Le,kn,!1)}function od(t,n,r){var o=Ze;Ze|=2;var h=Ly(),f=jy();(lt!==t||Le!==n)&&(cc=null,Ba(t,n)),n=!1;var p=bt;e:do try{if(tt!==0&&Oe!==null){var E=Oe,R=Vn;switch(tt){case 8:ad(),p=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var z=tt;if(tt=0,Vn=null,qa(t,E,R,z),r&&ja){p=0;break e}break;default:z=tt,tt=0,Vn=null,qa(t,E,R,z)}}BT(),p=bt;break}catch(G){ky(t,G)}while(!0);return n&&t.shellSuspendCounter++,Zi=Br=null,Ze=o,H.H=h,H.A=f,Oe===null&&(lt=null,Le=0,Ou()),p}function BT(){for(;Oe!==null;)zy(Oe)}function qT(t,n){var r=Ze;Ze|=2;var o=Ly(),h=jy();lt!==t||Le!==n?(cc=null,uc=Xt()+500,Ba(t,n)):ja=ti(t,n);e:do try{if(tt!==0&&Oe!==null){n=Oe;var f=Vn;t:switch(tt){case 1:tt=0,Vn=null,qa(t,n,f,1);break;case 2:case 9:if(Xg(f)){tt=0,Vn=null,Py(n);break}n=function(){tt!==2&&tt!==9||lt!==t||(tt=7),Ui(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Xg(f)?(tt=0,Vn=null,Py(n)):(tt=0,Vn=null,qa(t,n,f,7));break;case 5:var p=null;switch(Oe.tag){case 26:p=Oe.memoizedState;case 5:case 27:var E=Oe;if(p?w0(p):E.stateNode.complete){tt=0,Vn=null;var R=E.sibling;if(R!==null)Oe=R;else{var z=E.return;z!==null?(Oe=z,dc(z)):Oe=null}break t}}tt=0,Vn=null,qa(t,n,f,5);break;case 6:tt=0,Vn=null,qa(t,n,f,6);break;case 8:ad(),bt=6;break e;default:throw Error(a(462))}}HT();break}catch(G){ky(t,G)}while(!0);return Zi=Br=null,H.H=o,H.A=h,Ze=r,Oe!==null?0:(lt=null,Le=0,Ou(),bt)}function HT(){for(;Oe!==null&&!jn();)zy(Oe)}function zy(t){var n=uy(t.alternate,t,os);t.memoizedProps=t.pendingProps,n===null?dc(t):Oe=n}function Py(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=iy(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=iy(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:bf(n);default:hy(r,n),n=Oe=jg(n,os),n=uy(r,n,os)}t.memoizedProps=t.pendingProps,n===null?dc(t):Oe=n}function qa(t,n,r,o){Zi=Br=null,bf(n),Da=null,Yo=0;var h=n.return;try{if(DT(t,h,n,r,Le)){bt=1,ec(t,Fn(r,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;bt=1,ec(t,Fn(r,t.current)),Oe=null;return}n.flags&32768?(He||o===1?t=!0:ja||(Le&536870912)!==0?t=!1:(Hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=On.current,o!==null&&o.tag===13&&(o.flags|=16384))),By(n,t)):dc(n)}function dc(t){var n=t;do{if((n.flags&32768)!==0){By(n,Hs);return}t=n.return;var r=VT(n.alternate,n,os);if(r!==null){Oe=r;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);bt===0&&(bt=5)}function By(t,n){do{var r=kT(t.alternate,t);if(r!==null){r.flags&=32767,Oe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=r}while(t!==null);bt=6,Oe=null}function qy(t,n,r,o,h,f,p,E,R){t.cancelPendingCommit=null;do mc();while(Bt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,zh(t,r,f,p,E,R),t===lt&&(Oe=lt=null,Le=0),Pa=n,Ks=t,ls=r,id=f,sd=h,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QT(Ss,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=ee.p,ee.p=2,p=Ze,Ze|=4;try{UT(t,n,r)}finally{Ze=p,ee.p=h,H.T=o}}Bt=1,Hy(),Gy(),Fy()}}function Hy(){if(Bt===1){Bt=0;var t=Ks,n=Pa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=ee.p;ee.p=2;var h=Ze;Ze|=4;try{Sy(n,t);var f=vd,p=Ig(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Cg(E.ownerDocument.documentElement,E)){if(R!==null&&Hh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var q=P.getSelection(),le=E.textContent.length,pe=Math.min(R.start,le),at=R.end===void 0?pe:Math.min(R.end,le);!q.extend&&pe>at&&(p=at,at=pe,pe=p);var k=Rg(E,pe),D=Rg(E,at);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=Y.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),pe>at?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}xc=!!_d,vd=_d=null}finally{Ze=h,ee.p=o,H.T=r}}t.current=n,Bt=2}}function Gy(){if(Bt===2){Bt=0;var t=Ks,n=Pa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=ee.p;ee.p=2;var h=Ze;Ze|=4;try{_y(t,n.alternate,n)}finally{Ze=h,ee.p=o,H.T=r}}Bt=3}}function Fy(){if(Bt===4||Bt===3){Bt=0,bs();var t=Ks,n=Pa,r=ls,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Pa=Ks=null,Ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Fi(r),n=n.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=ee.p,ee.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,ee.p=h}}(ls&3)!==0&&mc(),Ui(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===rd?hl++:(hl=0,rd=t):hl=0,fl(0)}}function Ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ko(n)))}function mc(){return Hy(),Gy(),Fy(),Qy()}function Qy(){if(Bt!==5)return!1;var t=Ks,n=id;id=0;var r=Fi(ls),o=H.T,h=ee.p;try{ee.p=32>r?32:r,H.T=null,r=sd,sd=null;var f=Ks,p=ls;if(Bt=0,Pa=Ks=null,ls=0,(Ze&6)!==0)throw Error(a(331));var E=Ze;if(Ze|=4,Cy(f.current),wy(f,f.current,p,r),Ze=E,fl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ei,f)}catch{}return!0}finally{ee.p=h,H.T=o,Ky(t,n)}}function Yy(t,n,r){n=Fn(r,n),n=Lf(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(Ar(t,2),Ui(t))}function nt(t,n,r){if(t.tag===3)Yy(t,t,r);else for(;n!==null;){if(n.tag===3){Yy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=Fn(r,t),r=Xp(2),o=zs(n,r,2),o!==null&&($p(r,o,n,t),Ar(o,2),Ui(o));break}}n=n.return}}function ld(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new zT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(ed=!0,h.add(r),t=GT.bind(null,t,n,r),n.then(t,t))}function GT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,lt===t&&(Le&r)===r&&(bt===4||bt===3&&(Le&62914560)===Le&&300>Xt()-lc?(Ze&2)===0&&Ba(t,0):td|=r,za===Le&&(za=0)),Ui(t)}function Xy(t,n){n===0&&(n=cu()),t=jr(t,n),t!==null&&(Ar(t,n),Ui(t))}function FT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Xy(t,r)}function KT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Xy(t,r)}function QT(t,n){return Ie(t,n)}var gc=null,Ha=null,ud=!1,pc=!1,cd=!1,Ys=0;function Ui(t){t!==Ha&&t.next===null&&(Ha===null?gc=Ha=t:Ha=Ha.next=t),pc=!0,ud||(ud=!0,XT())}function fl(t,n){if(!cd&&pc){cd=!0;do for(var r=!1,o=gc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Wy(o,f))}else f=Le,f=_i(o,o===lt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ti(o,f)||(r=!0,Wy(o,f));o=o.next}while(r);cd=!1}}function YT(){$y()}function $y(){pc=ud=!1;var t=0;Ys!==0&&rb()&&(t=Ys);for(var n=Xt(),r=null,o=gc;o!==null;){var h=o.next,f=Zy(o,n);f===0?(o.next=null,r===null?gc=h:r.next=h,h===null&&(Ha=r)):(r=o,(t!==0||(f&3)!==0)&&(pc=!0)),o=h}Bt!==0&&Bt!==5||fl(t),Ys!==0&&(Ys=0)}function Zy(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-At(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=jh(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=lt,r=Le,r=_i(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Yt(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ti(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Yt(o),Fi(r)){case 2:case 8:r=bo;break;case 32:r=Ss;break;case 268435456:r=ru;break;default:r=Ss}return o=Jy.bind(null,t),r=Ie(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Yt(o),t.callbackPriority=2,t.callbackNode=null,2}function Jy(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mc()&&t.callbackNode!==r)return null;var o=Le;return o=_i(t,t===lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(My(t,o,n),Zy(t,Xt()),t.callbackNode!=null&&t.callbackNode===r?Jy.bind(null,t):null)}function Wy(t,n){if(mc())return null;My(t,n,!0)}function XT(){ob(function(){(Ze&6)!==0?Ie(To,YT):$y()})}function hd(){if(Ys===0){var t=Ca;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Ys=t}return Ys}function e0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function t0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $T(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=e0((h[Gt]||null).action),p=o.submitter;p&&(n=(n=p[Gt]||null)?e0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ii("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var R=p?t0(h,p):new FormData(h);Df(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?t0(h,p):new FormData(h),Df(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var fd=0;fd<Qh.length;fd++){var dd=Qh[fd],ZT=dd.toLowerCase(),JT=dd[0].toUpperCase()+dd.slice(1);ui(ZT,"on"+JT)}ui(Og,"onAnimationEnd"),ui(Mg,"onAnimationIteration"),ui(Vg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(mT,"onTransitionRun"),ui(gT,"onTransitionStart"),ui(pT,"onTransitionCancel"),ui(kg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function n0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){Du(G)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){Du(G)}h.currentTarget=null,f=R}}}}function Me(t,n){var r=n[la];r===void 0&&(r=n[la]=new Set);var o=t+"__bubble";r.has(o)||(i0(n,t,2,!1),r.add(o))}function md(t,n,r){var o=0;n&&(o|=4),i0(r,t,o,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[yc]){t[yc]=!0,wo.forEach(function(r){r!=="selectionchange"&&(WT.has(r)||md(r,!1,t),md(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yc]||(n[yc]=!0,md("selectionchange",!1,n))}}function i0(t,n,r,o){switch(O0(n)){case 2:var h=Rb;break;case 8:h=Cb;break;default:h=Nd}r=h.bind(null,n,r,t),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function pd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=bi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Is(function(){var z=f,G=Bn(r),Y=[];e:{var P=Ug.get(t);if(P!==void 0){var q=Ii,le=t;switch(t){case"keypress":if(Or(r)===0)break e;case"keydown":case"keyup":q=Cu;break;case"focusin":le="focus",q=Vr;break;case"focusout":le="blur",q=Vr;break;case"beforeblur":case"afterblur":q=Vr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Og:case Mg:case Vg:q=Tu;break;case kg:q=b;break;case"scroll":case"scrollend":q=Lo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Yi;break;case"toggle":case"beforetoggle":q=xe}var pe=(n&4)!==0,at=!pe&&(t==="scroll"||t==="scrollend"),k=pe?P!==null?P+"Capture":null:P;pe=[];for(var D=z,j;D!==null;){var K=D;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||k===null||(K=ri(D,k),K!=null&&pe.push(ml(D,K,j))),at)break;D=D.return}0<pe.length&&(P=new q(P,le,null,r,G),Y.push({event:P,listeners:pe}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==Vo&&(le=r.relatedTarget||r.fromElement)&&(bi(le)||le[Ei]))break e;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(le=r.relatedTarget||r.toElement,q=z,le=le?bi(le):null,le!==null&&(at=c(le),pe=le.tag,le!==at||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(q=null,le=z),q!==le)){if(pe=jo,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Yi,K="onPointerLeave",k="onPointerEnter",D="pointer"),at=q==null?P:Cn(q),j=le==null?P:Cn(le),P=new pe(K,D+"leave",q,r,G),P.target=at,P.relatedTarget=j,K=null,bi(G)===z&&(pe=new pe(k,D+"enter",le,r,G),pe.target=j,pe.relatedTarget=at,K=pe),at=K,q&&le)t:{for(pe=eb,k=q,D=le,j=0,K=k;K;K=pe(K))j++;K=0;for(var de=D;de;de=pe(de))K++;for(;0<j-K;)k=pe(k),j--;for(;0<K-j;)D=pe(D),K--;for(;j--;){if(k===D||D!==null&&k===D.alternate){pe=k;break t}k=pe(k),D=pe(D)}pe=null}else pe=null;q!==null&&s0(Y,P,q,pe,!1),le!==null&&at!==null&&s0(Y,at,le,pe,!0)}}e:{if(P=z?Cn(z):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var Qe=Tg;else if(vg(P))if(bg)Qe=hT;else{Qe=uT;var ue=lT}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&fa(z.elementType)&&(Qe=Tg):Qe=cT;if(Qe&&(Qe=Qe(t,z))){Eg(Y,Qe,r,G);break e}ue&&ue(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&Do(P,"number",P.value)}switch(ue=z?Cn(z):window,t){case"focusin":(vg(ue)||ue.contentEditable==="true")&&(Ea=ue,Gh=z,Ho=null);break;case"focusout":Ho=Gh=Ea=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Ng(Y,r,G);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":Ng(Y,r,G)}var Ce;if($e)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else va?kr(t,r)&&(je="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(je="onCompositionStart");je&&(Oi&&r.locale!=="ko"&&(va||je!=="onCompositionStart"?je==="onCompositionEnd"&&va&&(Ce=Uo()):(Ci=G,ko="value"in Ci?Ci.value:Ci.textContent,va=!0)),ue=_c(z,je),0<ue.length&&(je=new Di(je,t,null,r,G),Y.push({event:je,listeners:ue}),Ce?je.data=Ce:(Ce=_a(r),Ce!==null&&(je.data=Ce)))),(Ce=Hn?sT(t,r):rT(t,r))&&(je=_c(z,"onBeforeInput"),0<je.length&&(ue=new Di("onBeforeInput","beforeinput",null,r,G),Y.push({event:ue,listeners:je}),ue.data=Ce)),$T(Y,t,z,r,G)}n0(Y,n)})}function ml(t,n,r){return{instance:t,listener:n,currentTarget:r}}function _c(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ri(t,r),h!=null&&o.unshift(ml(t,h,f)),h=ri(t,n),h!=null&&o.push(ml(t,h,f))),t.tag===3)return o;t=t.return}return[]}function eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s0(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=ri(r,f),z!=null&&p.unshift(ml(r,z,R))):h||(z=ri(r,f),z!=null&&p.push(ml(r,z,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function r0(t){return(typeof t=="string"?t:""+t).replace(tb,`
`).replace(nb,"")}function a0(t,n){return n=r0(n),r0(t)===n}function rt(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(t,""+o);break;case"className":In(t,"class",o);break;case"tabIndex":In(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,r,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){In(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=da(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=da(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=si);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=da(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ca(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ca(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_u.get(r)||r,ca(t,r,o))}}function yd(t,n,r,o,h,f){switch(r){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?_n(t,o):(typeof o=="number"||typeof o=="bigint")&&_n(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Gt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ca(t,r,o)}}}function tn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,f,p,r,null)}}h&&rt(t,n,"srcSet",r.srcSet,r,null),o&&rt(t,n,"src",r.src,r,null);return;case"input":Me("invalid",t);var E=f=p=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:rt(t,n,o,G,r,null)}}gu(t,f,E,R,z,p,h,!1);return;case"select":Me("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:rt(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!o,n!=null?ws(t,!!o,n,!1):r!=null&&ws(t,!!o,r,!0);return;case"textarea":Me("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:rt(t,n,p,E,r,null)}xs(t,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":rt(t,n,R,o,r,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<dl.length;o++)Me(dl[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,z,o,r,null)}return;default:if(fa(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&yd(t,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&rt(t,n,E,o,r,null))}function ib(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,z=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||rt(t,n,q,null,o,Y)}}for(var P in o){var q=o[P];if(Y=r[P],o.hasOwnProperty(P)&&(q!=null||Y!=null))switch(P){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&rt(t,n,P,q,o,Y)}}ha(t,p,E,R,z,G,f,h);return;case"select":q=p=E=P=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||rt(t,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&rt(t,n,h,f,o,R)}n=E,r=p,o=q,P!=null?ws(t,!!r,P,!1):!!o!=!!r&&(n!=null?ws(t,!!r,n,!0):ws(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:rt(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,n,p,h,o,f)}pu(t,P,q);return;case"option":for(var le in r)P=r[le],r.hasOwnProperty(le)&&P!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:rt(t,n,le,null,o,P));for(R in o)P=o[R],q=r[R],o.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null)&&(R==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":rt(t,n,R,P,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in r)P=r[pe],r.hasOwnProperty(pe)&&P!=null&&!o.hasOwnProperty(pe)&&rt(t,n,pe,null,o,P);for(z in o)if(P=o[z],q=r[z],o.hasOwnProperty(z)&&P!==q&&(P!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:rt(t,n,z,P,o,q)}return;default:if(fa(n)){for(var at in r)P=r[at],r.hasOwnProperty(at)&&P!==void 0&&!o.hasOwnProperty(at)&&yd(t,n,at,void 0,o,P);for(G in o)P=o[G],q=r[G],!o.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||yd(t,n,G,P,o,q);return}}for(var k in r)P=r[k],r.hasOwnProperty(k)&&P!=null&&!o.hasOwnProperty(k)&&rt(t,n,k,null,o,P);for(Y in o)P=o[Y],q=r[Y],!o.hasOwnProperty(Y)||P===q||P==null&&q==null||rt(t,n,Y,P,o,q)}function o0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&o0(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&o0(Y)&&(R=R.responseEnd,p+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _d=null,vd=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function l0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ed(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function rb(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var c0=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(t){return h0.resolve(null).then(t).catch(lb)}:c0;function lb(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function f0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Qa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")gl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,gl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&gl(t.ownerDocument.body);r=h}while(r);Qa(n)}function d0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),ua(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ub(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function cb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$n(t.nextSibling),t===null))return null;return t}function m0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wd=null;function g0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return $n(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function p0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function y0(t,n,r){switch(n=vc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function gl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ua(t)}var Zn=new Map,_0=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=ee.d;ee.d={f:fb,r:db,D:mb,C:gb,L:pb,m:yb,X:vb,S:_b,M:Eb};function fb(){var t=us.f(),n=hc();return t||n}function db(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?kp(n):us.r(t)}var Ga=typeof document>"u"?null:document;function v0(t,n,r){var o=Ga;if(o&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),_0.has(h)||(_0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function mb(t){us.D(t),v0("dns-prefetch",t,null)}function gb(t,n){us.C(t,n),v0("preconnect",t,n)}function pb(t,n,r){us.L(t,n,r);var o=Ga;if(o&&t&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+yn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+yn(r.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(n){case"style":f=Fa(t);break;case"script":f=Ka(t)}Zn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Zn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),tn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function yb(t,n){us.m(t,n);var r=Ga;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(t)}if(!Zn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Zn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yl(f)))return}o=r.createElement("link"),tn(o,"link",t),Dt(o),r.head.appendChild(o)}}}function _b(t,n,r){us.S(t,n,r);var o=Ga;if(o&&t){var h=Si(o).hoistableStyles,f=Fa(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(pl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Zn.get(f))&&xd(t,r);var R=p=o.createElement("link");Dt(R),tn(R,"link",t),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function vb(t,n){us.X(t,n);var r=Ga;if(r&&t){var o=Si(r).hoistableScripts,h=Ka(t),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(t=A({src:t,async:!0},n),(n=Zn.get(h))&&Rd(t,n),f=r.createElement("script"),Dt(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Eb(t,n){us.M(t,n);var r=Ga;if(r&&t){var o=Si(r).hoistableScripts,h=Ka(t),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Zn.get(h))&&Rd(t,n),f=r.createElement("script"),Dt(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function E0(t,n,r,o){var h=(h=be.current)?Ec(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Fa(r.href),r=Si(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Fa(r.href);var f=Si(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(pl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Zn.set(t,r),f||Tb(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(r),r=Si(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Fa(t){return'href="'+yn(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function T0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Tb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",r),Dt(n),t.head.appendChild(n))}function Ka(t){return'[src="'+yn(t)+'"]'}function yl(t){return"script[async]"+t}function b0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+yn(r.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),tn(o,"style",h),Tc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Fa(r.href);var f=t.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;o=T0(r),(h=Zn.get(h))&&xd(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),tn(f,"link",o),n.state.loading|=4,Tc(f,r.precedence,t),n.instance=f;case"script":return f=Ka(r.src),(h=t.querySelector(yl(f)))?(n.instance=h,Dt(h),h):(o=r,(h=Zn.get(f))&&(o=A({},r),Rd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),tn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tc(o,r.precedence,t));return n.instance}function Tc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bc=null;function S0(t,n,r){if(bc===null){var o=new Map,h=bc=new Map;h.set(r,o)}else h=bc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ti]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function A0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function bb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Sb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Fa(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Sc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Dt(f);return}f=n.ownerDocument||n,o=T0(o),(h=Zn.get(h))&&xd(o,h),f=f.createElement("link"),Dt(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),tn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Sc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Cd=0;function Ab(t,n){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Cd===0&&(Cd=62500*sb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Cd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function wc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,n.forEach(wb,t),Ac=null,Sc.call(t))}function wb(t,n){if(!(n.state.loading&4)){var r=Ac.get(t);if(r)var o=r.get(null);else{r=new Map,Ac.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=Sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _l={$$typeof:ye,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function xb(t,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function x0(t,n,r,o,h,f,p,E,R,z,G,Y){return t=new xb(t,n,r,p,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=of(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},hf(f),t}function R0(t){return t?(t=Sa,t):Sa}function C0(t,n,r,o,h,f){h=R0(h),o.context===null?o.context=h:o.pendingContext=h,o=js(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=zs(t,o,n),r!==null&&(Sn(r,t,n),$o(r,t,n))}function I0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Id(t,n){I0(t,n),(t=t.alternate)&&I0(t,n)}function N0(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&Sn(n,t,67108864),Id(t,67108864)}}function D0(t){if(t.tag===13||t.tag===31){var n=Un();n=xr(n);var r=jr(t,n);r!==null&&Sn(r,t,n),Id(t,n)}}var xc=!0;function Rb(t,n,r,o){var h=H.T;H.T=null;var f=ee.p;try{ee.p=2,Nd(t,n,r,o)}finally{ee.p=f,H.T=h}}function Cb(t,n,r,o){var h=H.T;H.T=null;var f=ee.p;try{ee.p=8,Nd(t,n,r,o)}finally{ee.p=f,H.T=h}}function Nd(t,n,r,o){if(xc){var h=Dd(o);if(h===null)pd(t,n,o,Rc,r),M0(t,o);else if(Nb(h,t,n,r,o))o.stopPropagation();else if(M0(t,o),n&4&&-1<Ib.indexOf(t)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=yi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-At(p);E.entanglements[1]|=R,p&=~R}Ui(f),(Ze&6)===0&&(uc=Xt()+500,fl(0))}}break;case 31:case 13:E=jr(f,2),E!==null&&Sn(E,f,2),hc(),Id(f,2)}if(f=Dd(o),f===null&&pd(t,n,o,Rc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(t,n,o,null,r)}}function Dd(t){return t=Bn(t),Od(t)}var Rc=null;function Od(t){if(Rc=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Rc=t,null}function O0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rn()){case To:return 2;case bo:return 8;case Ss:case Lh:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Md=!1,$s=null,Zs=null,Js=null,vl=new Map,El=new Map,Ws=[],Ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M0(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Pn(n),n!==null&&N0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Nb(t,n,r,o,h){switch(n){case"focusin":return $s=Tl($s,t,n,r,o,h),!0;case"dragenter":return Zs=Tl(Zs,t,n,r,o,h),!0;case"mouseover":return Js=Tl(Js,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,t,n,r,o,h)),!0}return!1}function V0(t){var n=bi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ni(t.priority,function(){D0(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,ni(t.priority,function(){D0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Dd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Vo=o,r.target.dispatchEvent(o),Vo=null}else return n=Pn(r),n!==null&&N0(n),t.blockedOn=r,!1;n.shift()}return!0}function k0(t,n,r){Cc(t)&&r.delete(n)}function Db(){Md=!1,$s!==null&&Cc($s)&&($s=null),Zs!==null&&Cc(Zs)&&(Zs=null),Js!==null&&Cc(Js)&&(Js=null),vl.forEach(k0),El.forEach(k0)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Db)))}var Nc=null;function U0(t){Nc!==t&&(Nc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Od(o||r)===null)continue;break}var f=Pn(r);f!==null&&(t.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Qa(t){function n(R){return Ic(R,t)}$s!==null&&Ic($s,t),Zs!==null&&Ic(Zs,t),Js!==null&&Ic(Js,t),vl.forEach(n),El.forEach(n);for(var r=0;r<Ws.length;r++){var o=Ws[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)V0(r),r.blockedOn===null&&Ws.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Gt]||null;if(typeof f=="function")p||U0(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Gt]||null)E=p.formAction;else if(Od(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),U0(r)}}}function L0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(t){this._internalRoot=t}Dc.prototype.render=Vd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Un();C0(r,o,t,n,null,null)},Dc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;C0(t.current,2,null,t,null,null),hc(),n[Ei]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var n=hu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ws.length&&n!==0&&n<Ws[r].priority;r++);Ws.splice(r,0,t),r===0&&V0(t)}};var j0=e.version;if(j0!=="19.2.3")throw Error(a(527,j0,"19.2.3"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Ob={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{ei=Oc.inject(Ob),$t=Oc}catch{}}return Sl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Fp,f=Kp,p=Qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=x0(t,1,!1,null,null,r,o,null,h,f,p,L0),t[Ei]=n.current,gd(t),new Vd(n)},Sl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Fp,p=Kp,E=Qp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=x0(t,1,!0,n,r??null,o,h,R,f,p,E,L0),n.context=R0(null),r=n.current,o=Un(),o=xr(o),h=js(o),h.callback=null,zs(r,h,o),r=o,n.current.lanes=r,Ar(n,r),Ui(n),t[Ei]=n.current,gd(t),new Dc(n)},Sl.version="19.2.3",Sl}var Y0;function qb(){if(Y0)return Ld.exports;Y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=Bb(),Ld.exports}var Hb=qb();const Gb=()=>{};var X0={};const Iv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Fb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,S=c>>2,A=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,F=_&63;g||(F=64,d||(M=64)),a.push(i[S],i[A],i[M],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Iv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Fb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||A==null)throw new Kb;const M=c<<2|y>>4;if(a.push(M),_!==64){const F=y<<4&240|_>>2;if(a.push(F),A!==64){const J=_<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Kb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(s){const e=Iv(s);return Nv.encodeByteArray(e,!0)},$c=function(s){return Qb(s).replace(/\./g,"")},Dv=function(s){try{return Nv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Xb=()=>Yb().__FIREBASE_DEFAULTS__,$b=()=>{if(typeof process>"u"||typeof X0>"u")return;const s=X0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Zb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Dv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return Gb()||Xb()||$b()||Zb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ov=s=>yh()?.emulatorHosts?.[s],Jb=s=>{const e=Ov(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Mv=()=>yh()?.config,Vv=s=>yh()?.[`_${s}`];class Wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(s){return(await fetch(s,{credentials:"include"})).ok}function eS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$c(JSON.stringify(i)),$c(JSON.stringify(d)),""].join(".")}const Il={};function tS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?s.emulator.push(e):s.prod.push(e);return s}function nS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let $0=!1;function Uv(s,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Il[s]===e||Il[s]||$0)return;Il[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=tS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{$0=!0,d()},M}function S(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=nS(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),ne=document.getElementById(se)||document.createElement("a"),me=i("preprendIcon"),we=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ye=M.element;y(ye),S(ne,se);const Je=_();g(we,me),ye.append(we,J,ne,Je),document.body.appendChild(ye)}c?(J.innerText="Preview backend disconnected.",we.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(we.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function sS(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function oS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lS(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function uS(){return!sS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cS(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const fS="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=fS,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?dS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Ts(l,y,a)}}function dS(s,e){return s.replace(mS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const mS=/\{\$([^}]+)}/g;function gS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function mr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(Z0(c)&&Z0(d)){if(!mr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Z0(s){return s!==null&&typeof s=="object"}function Ql(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function pS(s,e){const i=new yS(s,e);return i.subscribe.bind(i)}class yS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");_S(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _S(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}function pn(s){return s&&s._delegate?s._delegate:s}class ea{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class vS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Wb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TS(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ES(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(s){return s===Zr?void 0:s}function TS(s){return s.instantiationMode==="EAGER"}class bS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const SS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},AS=ze.INFO,wS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},xS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=wS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=AS,this._logHandler=xS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const RS=(s,e)=>e.some(i=>s instanceof i);let J0,W0;function CS(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return W0||(W0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,nm=new WeakMap,jv=new WeakMap,qd=new WeakMap,Im=new WeakMap;function NS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ur(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Lv.set(i,s)}).catch(()=>{}),Im.set(e,s),e}function DS(s){if(nm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});nm.set(s,e)}let im={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return nm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||jv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function OS(s){im=s(im)}function MS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hd(this),e,...i);return jv.set(a,e.sort?e.sort():[e]),ur(a)}:IS().includes(s)?function(...e){return s.apply(Hd(this),e),ur(Lv.get(this))}:function(...e){return ur(s.apply(Hd(this),e))}}function VS(s){return typeof s=="function"?MS(s):(s instanceof IDBTransaction&&DS(s),RS(s,CS())?new Proxy(s,im):s)}function ur(s){if(s instanceof IDBRequest)return NS(s);if(qd.has(s))return qd.get(s);const e=VS(s);return e!==s&&(qd.set(s,e),Im.set(e,s)),e}const Hd=s=>Im.get(s);function kS(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),y=ur(d);return a&&d.addEventListener("upgradeneeded",g=>{a(ur(d.result),g.oldVersion,g.newVersion,ur(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const US=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],Gd=new Map;function e_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=LS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||US.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Gd.set(e,c),c}OS(s=>({...s,get:(e,i,a)=>e_(e,i)||s.get(e,i,a),has:(e,i)=>!!e_(e,i)||s.has(e,i)}));class jS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function zS(s){return s.getComponent()?.type==="VERSION"}const sm="@firebase/app",t_="0.14.7";const ms=new Cm("@firebase/app"),PS="@firebase/app-compat",BS="@firebase/analytics-compat",qS="@firebase/analytics",HS="@firebase/app-check-compat",GS="@firebase/app-check",FS="@firebase/auth",KS="@firebase/auth-compat",QS="@firebase/database",YS="@firebase/data-connect",XS="@firebase/database-compat",$S="@firebase/functions",ZS="@firebase/functions-compat",JS="@firebase/installations",WS="@firebase/installations-compat",eA="@firebase/messaging",tA="@firebase/messaging-compat",nA="@firebase/performance",iA="@firebase/performance-compat",sA="@firebase/remote-config",rA="@firebase/remote-config-compat",aA="@firebase/storage",oA="@firebase/storage-compat",lA="@firebase/firestore",uA="@firebase/ai",cA="@firebase/firestore-compat",hA="firebase",fA="12.8.0";const rm="[DEFAULT]",dA={[sm]:"fire-core",[PS]:"fire-core-compat",[qS]:"fire-analytics",[BS]:"fire-analytics-compat",[GS]:"fire-app-check",[HS]:"fire-app-check-compat",[FS]:"fire-auth",[KS]:"fire-auth-compat",[QS]:"fire-rtdb",[YS]:"fire-data-connect",[XS]:"fire-rtdb-compat",[$S]:"fire-fn",[ZS]:"fire-fn-compat",[JS]:"fire-iid",[WS]:"fire-iid-compat",[eA]:"fire-fcm",[tA]:"fire-fcm-compat",[nA]:"fire-perf",[iA]:"fire-perf-compat",[sA]:"fire-rc",[rA]:"fire-rc-compat",[aA]:"fire-gcs",[oA]:"fire-gcs-compat",[lA]:"fire-fst",[cA]:"fire-fst-compat",[uA]:"fire-vertex","fire-js":"fire-js",[hA]:"fire-js-all"};const Zc=new Map,mA=new Map,am=new Map;function n_(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ro(s){const e=s.name;if(am.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,s);for(const i of Zc.values())n_(i,s);for(const i of mA.values())n_(i,s);return!0}function Nm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Jn(s){return s==null?!1:s.settings!==void 0}const gA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Kl("app","Firebase",gA);class pA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const go=fA;function zv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:rm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw cr.create("bad-app-name",{appName:String(l)});if(i||(i=Mv()),!i)throw cr.create("no-options");const c=Zc.get(l);if(c){if(mr(i,c.options)&&mr(a,c.config))return c;throw cr.create("duplicate-app",{appName:l})}const d=new bS(l);for(const g of am.values())d.addComponent(g);const y=new pA(i,a,d);return Zc.set(l,y),y}function Pv(s=rm){const e=Zc.get(s);if(!e&&s===rm&&Mv())return zv();if(!e)throw cr.create("no-app",{appName:s});return e}function hr(s,e,i){let a=dA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ro(new ea(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const yA="firebase-heartbeat-database",_A=1,Ul="firebase-heartbeat-store";let Fd=null;function Bv(){return Fd||(Fd=kS(yA,_A,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),Fd}async function vA(s){try{const i=(await Bv()).transaction(Ul),a=await i.objectStore(Ul).get(qv(s));return await i.done,a}catch(e){if(e instanceof Ts)ms.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function i_(s,e){try{const a=(await Bv()).transaction(Ul,"readwrite");await a.objectStore(Ul).put(e,qv(s)),await a.done}catch(i){if(i instanceof Ts)ms.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function qv(s){return`${s.name}!${s.options.appId}`}const EA=1024,TA=30;class bA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>TA){const l=wA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s_(),{heartbeatsToSend:i,unsentEntries:a}=SA(this._heartbeatsCache.heartbeats),l=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ms.warn(e),""}}}function s_(){return new Date().toISOString().substring(0,10)}function SA(s,e=EA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),r_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),r_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class AA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cS()?hS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function r_(s){return $c(JSON.stringify({version:2,heartbeats:s})).length}function wA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function xA(s){ro(new ea("platform-logger",e=>new jS(e),"PRIVATE")),ro(new ea("heartbeat",e=>new bA(e),"PRIVATE")),hr(sm,t_,s),hr(sm,t_,"esm2020"),hr("fire-js","")}xA("");var RA="firebase",CA="12.8.0";hr(RA,CA,"app");function Hv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IA=Hv,Gv=new Kl("auth","Firebase",Hv());const Jc=new Cm("@firebase/auth");function NA(s,...e){Jc.logLevel<=ze.WARN&&Jc.warn(`Auth (${go}): ${s}`,...e)}function zc(s,...e){Jc.logLevel<=ze.ERROR&&Jc.error(`Auth (${go}): ${s}`,...e)}function gs(s,...e){throw Dm(s,...e)}function ji(s,...e){return Dm(s,...e)}function Fv(s,e,i){const a={...IA(),[e]:i};return new Kl("auth","Firebase",a).create(e,{appName:s.name})}function ds(s){return Fv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Gv.create(s,...e)}function Ee(s,e,...i){if(!s)throw Dm(e,...i)}function cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zc(e),new Error(e)}function ps(s,e){s||cs(e)}function om(){return typeof self<"u"&&self.location?.href||""}function DA(){return a_()==="http:"||a_()==="https:"}function a_(){return typeof self<"u"&&self.location?.protocol||null}function OA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DA()||aS()||"connection"in navigator)?navigator.onLine:!0}function MA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Yl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ps(i>e,"Short delay should be less than long delay!"),this.isMobile=iS()||oS()}get(){return OA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,e){ps(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UA=new Yl(3e4,6e4);function Xl(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function po(s,e,i,a,l={}){return Qv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Ql({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return rS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&mo(s.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await Yv(s,s.config.apiHost,i,y),_)})}async function Qv(s,e,i){s._canInitEmulator=!1;const a={...VA,...e};try{const l=new LA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Mc(s,"user-disabled",d);const S=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fv(s,S,_);gs(s,S)}}catch(l){if(l instanceof Ts)throw l;gs(s,"network-request-failed",{message:String(l)})}}async function Mm(s,e,i,a,l={}){const c=await po(s,e,i,a,l);return"mfaPendingCredential"in c&&gs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Om(s.config,l):`${s.config.apiScheme}://${l}`;return kA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class LA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),UA.get())})}}function Mc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ji(s,e,a);return l.customData._tokenResponse=i,l}async function jA(s,e){return po(s,"POST","/v1/accounts:delete",e)}async function Wc(s,e){return po(s,"POST","/v1/accounts:lookup",e)}function Nl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zA(s,e=!1){const i=pn(s),a=await i.getIdToken(e),l=Vm(a);Ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Nl(Kd(l.auth_time)),issuedAtTime:Nl(Kd(l.iat)),expirationTime:Nl(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function Vm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Dv(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function o_(s){const e=Vm(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ll(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ts&&PA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function PA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class BA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(s){const e=s.auth,i=await s.getIdToken(),a=await Ll(s,Wc(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Xv(l.providerUserInfo):[],d=HA(s.providerData,c),y=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=y?g:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function qA(s){const e=pn(s);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HA(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Xv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GA(s,e){const i=await Qv(s,{},async()=>{const a=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Yv(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&mo(s.emulatorConfig.host)&&(g.credentials="include"),Kv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function FA(s,e){return po(s,"POST","/v2/accounts:revokeToken",Xl(s,e))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=o_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await GA(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Wa;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return cs("not implemented")}}function tr(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new BA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return zA(this,e)}reload(){return qA(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await Ll(this,jA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:J,stsTokenManager:se}=i;Ee(A&&se,e,"internal-error");const ne=Wa.fromJSON(this.name,se);Ee(typeof A=="string",e,"internal-error"),tr(a,e.name),tr(l,e.name),Ee(typeof M=="boolean",e,"internal-error"),Ee(typeof F=="boolean",e,"internal-error"),tr(c,e.name),tr(d,e.name),tr(y,e.name),tr(g,e.name),tr(_,e.name),tr(S,e.name);const me=new fi({uid:A,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ne,createdAt:_,lastLoginAt:S});return J&&Array.isArray(J)&&(me.providerData=J.map(we=>({...we}))),g&&(me._redirectEventId=g),me}static async _fromIdTokenResponse(e,i,a=!1){const l=new Wa;l.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await eh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new Wa;y.updateFromIdToken(a);const g=new fi({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const l_=new Map;function hs(s){ps(s instanceof Function,"Expected a class definition");let e=l_.get(s);return e?(ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,l_.set(s,e),e)}class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}$v.type="NONE";const u_=$v;function Pc(s,e,i){return`firebase:${s}:${e}:${i}`}class eo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Wc(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new eo(hs(u_),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||hs(u_);const d=Pc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const M=await Wc(e,{idToken:S}).catch(()=>{});if(!M)break;A=await fi._fromGetAccountInfoResponse(e,M,S)}else A=fi._fromJSON(e,S);_!==c&&(y=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new eo(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new eo(c,e,a))}}function c_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n1(e))return"Blackberry";if(i1(e))return"Webos";if(Jv(e))return"Safari";if((e.includes("chrome/")||Wv(e))&&!e.includes("edge/"))return"Chrome";if(t1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Zv(s=dn()){return/firefox\//i.test(s)}function Jv(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wv(s=dn()){return/crios\//i.test(s)}function e1(s=dn()){return/iemobile/i.test(s)}function t1(s=dn()){return/android/i.test(s)}function n1(s=dn()){return/blackberry/i.test(s)}function i1(s=dn()){return/webos/i.test(s)}function km(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function KA(s=dn()){return km(s)&&!!window.navigator?.standalone}function QA(){return lS()&&document.documentMode===10}function s1(s=dn()){return km(s)||t1(s)||i1(s)||n1(s)||/windows phone/i.test(s)||e1(s)}function r1(s,e=[]){let i;switch(s){case"Browser":i=c_(dn());break;case"Worker":i=`${c_(dn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${go}/${a}`}class YA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function XA(s,e={}){return po(s,"GET","/v2/passwordPolicy",Xl(s,e))}const $A=6;class ZA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$A,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class JA{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=hs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Wc(this,{idToken:e}),a=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ds(this));const i=e?pn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XA(this),i=new ZA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await FA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&hs(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[hs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(s){return pn(s)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=pS(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WA(s){Um=s}function e2(s){return Um.loadJS(s)}function t2(){return Um.gapiScript}function n2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function i2(s,e){const i=Nm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(mr(c,e??{}))return l;gs(l,"already-initialized")}return i.initialize({options:e})}function s2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(hs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function r2(s,e,i){const a=$l(s);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=a1(e),{host:d,port:y}=a2(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(mr(_,a.config.emulator)&&mr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,mo(d)?(kv(`${c}//${d}${g}`),Uv("Auth",!0)):o2()}function a1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function a2(s){const e=a1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:f_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:f_(d)}}}function f_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function o2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class o1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,i){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function to(s,e){return Mm(s,"POST","/v1/accounts:signInWithIdp",Xl(s,e))}const l2="http://localhost";class ta extends o1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):gs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ta(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return to(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,to(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,to(e,i)}buildRequest(){const e={requestUri:l2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ql(i)}return e}}class l1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zl extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends Zl{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ta._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends Zl{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class or extends Zl{constructor(){super("twitter.com")}static credential(e,i){return ta._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return or.credential(i,a)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function u2(s,e){return Mm(s,"POST","/v1/accounts:signUp",Xl(s,e))}class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await fi._fromIdTokenResponse(e,a,l),d=d_(a);return new ys({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=d_(a);return new ys({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function d_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function c2(s){if(Jn(s.app))return Promise.reject(ds(s));const e=$l(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ys({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await u2(e,{returnSecureToken:!0}),a=await ys._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class th extends Ts{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new th(e,i,a,l)}}function u1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,c,e,a):c})}async function h2(s,e,i=!1){const a=await Ll(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ys._forOperation(s,"link",a)}async function f2(s,e,i=!1){const{auth:a}=s;if(Jn(a.app))return Promise.reject(ds(a));const l="reauthenticate";try{const c=await Ll(s,u1(a,l,e,s),i);Ee(c.idToken,a,"internal-error");const d=Vm(c.idToken);Ee(d,a,"internal-error");const{sub:y}=d;return Ee(s.uid===y,a,"user-mismatch"),ys._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gs(a,"user-mismatch"),c}}async function d2(s,e,i=!1){if(Jn(s.app))return Promise.reject(ds(s));const a="signIn",l=await u1(s,a,e),c=await ys._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function m2(s,e){return Mm(s,"POST","/v1/accounts:signInWithCustomToken",Xl(s,e))}async function g2(s,e){if(Jn(s.app))return Promise.reject(ds(s));const i=$l(s),a=await m2(i,{token:e,returnSecureToken:!0}),l=await ys._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function p2(s,e,i,a){return pn(s).onIdTokenChanged(e,i,a)}function y2(s,e,i){return pn(s).beforeAuthStateChanged(e,i)}function _2(s,e,i,a){return pn(s).onAuthStateChanged(e,i,a)}const nh="__sak";class c1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=1e3,E2=10;class h1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);QA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,E2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}h1.type="LOCAL";const T2=h1;class f1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}f1.type="SESSION";const d1=f1;function b2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await b2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Lm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class S2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Lm("",20);l.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function zi(){return window}function A2(s){zi().location.href=s}function m1(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function w2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x2(){return navigator?.serviceWorker?.controller||null}function R2(){return m1()?self:null}const g1="firebaseLocalStorageDb",C2=1,ih="firebaseLocalStorage",p1="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,e){return s.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function I2(){const s=indexedDB.deleteDatabase(g1);return new Jl(s).toPromise()}function um(){const s=indexedDB.open(g1,C2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ih,{keyPath:p1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ih)?e(a):(a.close(),await I2(),e(await um()))})})}async function m_(s,e,i){const a=vh(s,!0).put({[p1]:e,value:i});return new Jl(a).toPromise()}async function N2(s,e){const i=vh(s,!1).get(e),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function g_(s,e){const i=vh(s,!0).delete(e);return new Jl(i).toPromise()}const D2=800,O2=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>O2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(R2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w2(),!this.activeServiceWorker)return;this.sender=new S2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await m_(e,nh,"1"),await g_(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>m_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>N2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>g_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Jl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const M2=y1;new Yl(3e4,6e4);function V2(s,e){return e?hs(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jm extends o1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,i){return to(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function k2(s){return d2(s.auth,new jm(s),s.bypassAuthState)}function U2(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),f2(i,new jm(s),s.bypassAuthState)}async function L2(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),h2(i,new jm(s),s.bypassAuthState)}class _1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k2;case"linkViaPopup":case"linkViaRedirect":return L2;case"reauthViaPopup":case"reauthViaRedirect":return U2;default:gs(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const j2=new Yl(2e3,1e4);class Ja extends _1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j2.get())};e()}}Ja.currentPopupAction=null;const z2="pendingRedirect",Bc=new Map;class P2 extends _1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const a=await B2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B2(s,e){const i=G2(e),a=H2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function q2(s,e){Bc.set(s._key(),e)}function H2(s){return hs(s._redirectPersistence)}function G2(s){return Pc(z2,s.config.apiKey,s.name)}async function F2(s,e,i=!1){if(Jn(s.app))return Promise.reject(ds(s));const a=$l(s),l=V2(a,e),d=await new P2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const K2=600*1e3;class Q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!v1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K2&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(e))}saveEventToCache(e){this.cachedEventUids.add(p_(e)),this.lastProcessedEventTime=Date.now()}}function p_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function v1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Y2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(s);default:return!1}}async function X2(s,e={}){return po(s,"GET","/v1/projects",e)}const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z2=/^https?/;async function J2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await X2(s);for(const i of e)try{if(W2(i))return}catch{}gs(s,"unauthorized-domain")}function W2(s){const e=om(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Z2.test(i))return!1;if($2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const ew=new Yl(3e4,6e4);function y_(){const s=zi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function tw(s){return new Promise((e,i)=>{function a(){y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y_(),i(ji(s,"network-request-failed"))},timeout:ew.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)a();else{const l=n2("iframefcb");return zi()[l]=()=>{gapi.load?a():i(ji(s,"network-request-failed"))},e2(`${t2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw qc=null,e})}let qc=null;function nw(s){return qc=qc||tw(s),qc}const iw=new Yl(5e3,15e3),sw="__/auth/iframe",rw="emulator/auth/iframe",aw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ow=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lw(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Om(e,rw):`https://${s.config.authDomain}/${sw}`,a={apiKey:e.apiKey,appName:s.name,v:go},l=ow.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ql(a).slice(1)}`}async function uw(s){const e=await nw(s),i=zi().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:lw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ji(s,"network-request-failed"),y=zi().setTimeout(()=>{c(d)},iw.get());function g(){zi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const cw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hw=500,fw=600,dw="_blank",mw="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gw(s,e,i,a=hw,l=fw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...cw,width:a.toString(),height:l.toString(),top:c,left:d},_=dn().toLowerCase();i&&(y=Wv(_)?dw:i),Zv(_)&&(e=e||mw,g.scrollbars="yes");const S=Object.entries(g).reduce((M,[F,J])=>`${M}${F}=${J},`,"");if(KA(_)&&y!=="_self")return pw(e||"",y),new __(null);const A=window.open(e||"",y,S);Ee(A,s,"popup-blocked");try{A.focus()}catch{}return new __(A)}function pw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const yw="__/auth/handler",_w="emulator/auth/handler",vw=encodeURIComponent("fac");async function v_(s,e,i,a,l,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:go,eventId:l};if(e instanceof l1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",gS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof Zl){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const g=await s._getAppCheckToken(),_=g?`#${vw}=${encodeURIComponent(g)}`:"";return`${Ew(s)}?${Ql(y).slice(1)}${_}`}function Ew({config:s}){return s.emulator?Om(s,_w):`https://${s.authDomain}/${yw}`}const Qd="webStorageSupport";class Tw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=F2,this._overrideRedirectResult=q2}async _openPopup(e,i,a,l){ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await v_(e,i,a,om(),l);return gw(e,c,Lm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await v_(e,i,a,om(),l);return A2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ps(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await uw(e),a=new Q2(e);return i.register("authEvent",l=>(Ee(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=J2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return s1()||Jv()||km()}}const bw=Tw;var E_="@firebase/auth",T_="1.12.0";class Sw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Aw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ww(s){ro(new ea("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(s)},_=new JA(a,l,c,g);return s2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ro(new ea("auth-internal",e=>{const i=$l(e.getProvider("auth").getImmediate());return(a=>new Sw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(E_,T_,Aw(s)),hr(E_,T_,"esm2020")}const xw=300,Rw=Vv("authIdTokenMaxAge")||xw;let b_=null;const Cw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Rw)return;const l=i?.token;b_!==l&&(b_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Iw(s=Pv()){const e=Nm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=i2(s,{popupRedirectResolver:bw,persistence:[M2,T2,d1]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Cw(c.toString());y2(i,d,()=>d(i.currentUser)),p2(i,y=>d(y))}}const l=Ov("auth");return l&&r2(i,`http://${l}`),i}function Nw(){return document.getElementsByTagName("head")?.[0]??document}WA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=ji("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Nw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ww("Browser");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,E1;(function(){var s;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,U){for(var x=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)x[Ge-2]=arguments[Ge];return w.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],x;x=w+(U^C&(N^U))+V[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(N^w&(C^N))+V[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=N+(C^U&(w^C))+V[2]+606105819&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(w^N&(U^w))+V[3]+3250441966&4294967295,C=N+(x<<22&4294967295|x>>>10),x=w+(U^C&(N^U))+V[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(N^w&(C^N))+V[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=N+(C^U&(w^C))+V[6]+2821735955&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(w^N&(U^w))+V[7]+4249261313&4294967295,C=N+(x<<22&4294967295|x>>>10),x=w+(U^C&(N^U))+V[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(N^w&(C^N))+V[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=N+(C^U&(w^C))+V[10]+4294925233&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(w^N&(U^w))+V[11]+2304563134&4294967295,C=N+(x<<22&4294967295|x>>>10),x=w+(U^C&(N^U))+V[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(N^w&(C^N))+V[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=N+(C^U&(w^C))+V[14]+2792965006&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(w^N&(U^w))+V[15]+1236535329&4294967295,C=N+(x<<22&4294967295|x>>>10),x=w+(N^U&(C^N))+V[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(w^C))+V[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=N+(w^C&(U^w))+V[11]+643717713&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(N^U))+V[0]+3921069994&4294967295,C=N+(x<<20&4294967295|x>>>12),x=w+(N^U&(C^N))+V[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(w^C))+V[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=N+(w^C&(U^w))+V[15]+3634488961&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(N^U))+V[4]+3889429448&4294967295,C=N+(x<<20&4294967295|x>>>12),x=w+(N^U&(C^N))+V[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(w^C))+V[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=N+(w^C&(U^w))+V[3]+4107603335&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(N^U))+V[8]+1163531501&4294967295,C=N+(x<<20&4294967295|x>>>12),x=w+(N^U&(C^N))+V[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(w^C))+V[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=N+(w^C&(U^w))+V[7]+1735328473&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(N^U))+V[12]+2368359562&4294967295,C=N+(x<<20&4294967295|x>>>12),x=w+(C^N^U)+V[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^N)+V[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=N+(U^w^C)+V[11]+1839030562&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^w)+V[14]+4259657740&4294967295,C=N+(x<<23&4294967295|x>>>9),x=w+(C^N^U)+V[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^N)+V[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=N+(U^w^C)+V[7]+4139469664&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^w)+V[10]+3200236656&4294967295,C=N+(x<<23&4294967295|x>>>9),x=w+(C^N^U)+V[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^N)+V[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=N+(U^w^C)+V[3]+3572445317&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^w)+V[6]+76029189&4294967295,C=N+(x<<23&4294967295|x>>>9),x=w+(C^N^U)+V[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^N)+V[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=N+(U^w^C)+V[15]+530742520&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^w)+V[2]+3299628645&4294967295,C=N+(x<<23&4294967295|x>>>9),x=w+(N^(C|~U))+V[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~N))+V[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=N+(w^(U|~C))+V[14]+2878612391&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~w))+V[5]+4237533241&4294967295,C=N+(x<<21&4294967295|x>>>11),x=w+(N^(C|~U))+V[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~N))+V[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=N+(w^(U|~C))+V[10]+4293915773&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~w))+V[1]+2240044497&4294967295,C=N+(x<<21&4294967295|x>>>11),x=w+(N^(C|~U))+V[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~N))+V[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=N+(w^(U|~C))+V[6]+2734768916&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~w))+V[13]+1309151649&4294967295,C=N+(x<<21&4294967295|x>>>11),x=w+(N^(C|~U))+V[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~N))+V[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=N+(w^(U|~C))+V[2]+718787259&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=C;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<w;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<w;)if(V[N++]=I[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[w++]=this.g[C]>>>V&255;return I};function c(I,w){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==w||(C[N]=U,V=!1)}this.g=C}var y={};function g(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return ne(_(-I));const w=[];let C=1;for(let V=0;I>=C;V++)w[V]=I/C|0,C*=4294967296;return new d(w,0)}function S(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return ne(S(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=A;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const x=parseInt(I.substring(U,U+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(x))):(V=V.j(C),V=V.add(_(x)))}return V}var A=g(0),M=g(1),F=g(16777216);s=d.prototype,s.m=function(){if(se(this))return-ne(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(se(this))return"-"+ne(this).toString(I);const w=_(Math.pow(I,6));var C=this;let V="";for(;;){const N=Je(C,w).g;C=me(C,N.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,J(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function se(I){return I.h==-1}s.l=function(I){return I=me(this,I),se(I)?-1:J(I)?0:1};function ne(I){const w=I.g.length,C=[];for(let V=0;V<w;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}s.abs=function(){return se(this)?ne(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=w;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),x=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=x>>>16,U&=65535,x&=65535,C[N]=x<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function me(I,w){return I.add(ne(w))}s.j=function(I){if(J(this)||J(I))return A;if(se(this))return se(I)?ne(this).j(ne(I)):ne(ne(this).j(I));if(se(I))return ne(this.j(ne(I)));if(this.l(F)<0&&I.l(F)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,x=this.i(V)&65535,Ge=I.i(N)>>>16,St=I.i(N)&65535;C[2*V+2*N]+=x*St,we(C,2*V+2*N),C[2*V+2*N+1]+=U*St,we(C,2*V+2*N+1),C[2*V+2*N+1]+=x*Ge,we(C,2*V+2*N+1),C[2*V+2*N+2]+=U*Ge,we(C,2*V+2*N+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function we(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ye(I,w){this.g=I,this.h=w}function Je(I,w){if(J(w))throw Error("division by zero");if(J(I))return new ye(A,A);if(se(I))return w=Je(ne(I),w),new ye(ne(w.g),ne(w.h));if(se(w))return w=Je(I,ne(w)),new ye(ne(w.g),w.h);if(I.g.length>30){if(se(I)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(I)<=0;)C=ht(C),V=ht(V);var N=Ve(C,1),U=Ve(V,1);for(V=Ve(V,2),C=Ve(C,2);!J(V);){var x=U.add(V);x.l(I)<=0&&(N=N.add(C),U=x),V=Ve(V,1),C=Ve(C,1)}return w=me(I,N.j(w)),new ye(N,w)}for(N=A;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(C),x=U.j(w);se(x)||x.l(I)>0;)C-=V,U=_(C),x=U.j(w);J(U)&&(U=M),N=N.add(U),I=me(I,x)}return new ye(N,I)}s.B=function(I){return Je(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function ht(I){const w=I.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Ve(I,w){const C=w>>5;w%=32;const V=I.g.length-C,N=[];for(let U=0;U<V;U++)N[U]=w>0?I.i(U+C)>>>w|I.i(U+C+1)<<32-w:I.i(U+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,E1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,fr=d}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var T1,wl,b1,Hc,cm,S1,A1,w1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var Z=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)Z[xe-2]=arguments[xe];return m.prototype[L].apply(b,Z)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let Z=0;Z<B;Z++)u[v+Z]=L[Z]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function me(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class we{constructor(){this.h=this.g=null}add(m,v){const b=ye.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ye=new se(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,Ve=!1,I=new we,w=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(C)}};function C(){for(var u;u=me();){try{u.h.call(u.g)}catch(v){ne(v)}var m=ye;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ve=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Ge(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Ge,N),Ge.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),H=0;function ee(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ke(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=be(u,m,b,L);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new ee(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function be(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),vt={};function ut(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ut(u,m[B],v,b,L);return null}return v=Pt(v),u&&u[St]?u.J(m,v,y(b)?!!b.capture:!1,L):ie(u,m,v,!1,b,L)}function ie(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const Z=y(L)?!!L.capture:!!L;let xe=Et(u);if(xe||(u[Ue]=xe=new re(u)),v=xe.add(m,v,b,Z,B),v.proxy)return v;if(b=W(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=Z),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(De(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function W(){function u(v){return m.call(u.src,u.listener,v)}const m=qe;return u}function oe(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)oe(u,m[B],v,b,L);else b=y(b)?!!b.capture:!!b,v=Pt(v),u&&u[St]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=be(m,v,b,L),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Et(u))&&(m=u.g[m.toString()],u=-1,m&&(u=be(m,v,b,L)),(v=u>-1?m[u]:null)&&Ne(v))}function Ne(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[St])ve(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(De(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Et(m))?(ve(v,u),v.h==0&&(v.src=null,m[Ue]=null)):fe(u)}}}function De(u){return u in vt?vt[u]:vt[u]="on"+u}function qe(u,m){if(u.da)u=!0;else{m=new Ge(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ne(u),u=v.call(b,m)}return u}function Et(u){return u=u[Ue],u instanceof re?u:null}var ot="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pt(u){return typeof u=="function"?u:(u[ot]||(u[ot]=function(m){return u.handleEvent(m)}),u[ot])}function ce(){V.call(this),this.i=new re(this),this.M=this,this.G=null}A(ce,V),ce.prototype[St]=!0,ce.prototype.removeEventListener=function(u,m,v,b){oe(this,u,m,v,b)};function Ie(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),te(m,L)}L=!0;let B,Z;if(v)for(Z=v.length-1;Z>=0;Z--)B=m.g=v[Z],L=Yt(B,b,!0,m)&&L;if(B=m.g=u,L=Yt(B,b,!0,m)&&L,L=Yt(B,b,!1,m)&&L,v)for(Z=0;Z<v.length;Z++)B=m.g=v[Z],L=Yt(B,b,!1,m)&&L}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)fe(v[b]);delete u.g[m],u.h--}}this.G=null},ce.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ce.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Yt(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==v){const xe=Z.listener,wt=Z.ha||Z.src;Z.fa&&ve(u.i,Z),L=xe.call(wt,b)!==!1&&L}}return L&&!b.defaultPrevented}function jn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function bs(u){u.g=jn(()=>{u.g=null,u.i&&(u.i=!1,bs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:bs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(u){V.call(this),this.h=u,this.g={}}A(Rn,V);var To=[];function bo(u){ke(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ne(m)},u),u.g={}}Rn.prototype.N=function(){Rn.Z.N.call(this),bo(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=d.JSON.stringify,Lh=d.JSON.parse,ru=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function au(){}function ou(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){N.call(this,"d")}A($t,N);function zn(){N.call(this,"c")}A(zn,N);var At={},lu=null;function oa(){return lu=lu||new ce}At.Ia="serverreachability";function uu(u){N.call(this,At.Ia,u)}A(uu,N);function pi(u){const m=oa();Ie(m,new uu(m))}At.STAT_EVENT="statevent";function Sr(u,m){N.call(this,At.STAT_EVENT,u),this.stat=m}A(Sr,N);function It(u){const m=oa();Ie(m,new Sr(m,u))}At.Ja="timingevent";function yi(u,m){N.call(this,At.Ja,u),this.size=m}A(yi,N);function _i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function jh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var Z="",xe=B.split("&");for(let $e=0;$e<xe.length;$e++){var wt=xe[$e].split("=");if(wt.length>1){const gt=wt[0];wt=wt[1];const Hn=gt.split("_");Z=Hn.length>=2&&Hn[1]=="type"?Z+(gt+"="+wt+"&"):Z+(gt+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+Z})}function cu(u,m,v,b,L,B,Z){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+Z})}function vi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(b?" "+b:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Z=1;Z<b.length;Z++)b[Z]=""}}}}return Ss(B)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function xr(){}A(xr,au),xr.prototype.g=function(){return new XMLHttpRequest},Ao=new xr;function Fi(u){return encodeURIComponent(String(u))}function hu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ni(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Nt={},Gt={};function Ei(u,m,v){u.M=1,u.A=Rr(Ot(m)),u.u=v,u.R=!0,la(u,null)}function la(u,m){u.F=Date.now(),Ti(u),u.B=Ot(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),fa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ii,u.g=xu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Xt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(To[0]=L.toString()),L=To);for(let B=0;B<L.length;B++){const Z=ut(v,L[B],b||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pi(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ai(this.g),wt=this.g.ya(),$e=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||xe!=4||wt==7||(wt==8||$e<=0?pi(3):pi(2)),bi(this);var m=this.g.ca();this.X=m;var v=Ph(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var B=b;break t}}B=null}if(u=B)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,It(12),Cn(this),Pn(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<v.length;)if(gt=du(this,v),gt==Gt){xe==4&&(this.m=4,It(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Nt){this.m=4,It(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,gt,null),Si(this,gt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),Cn(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(Z),Z.P=!0,It(11))}}else vi(this.i,this.l,v,null),Si(this,v);xe==4&&Cn(this),this.o&&!this.K&&(xe==4?bu(this.j,this):(this.o=!1,Ti(this)))}else Qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Cn(this),Pn(this)}}}catch{}};function Ph(u){if(!fu(u))return u.g.la();const m=Zt(u.g);if(m==="")return"";let v="";const b=m.length,L=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),Pn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function fu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Gt:(v=Number(m.substring(v,b)),isNaN(v)?Nt:(b+=1,b+v>m.length?Gt:(m=m.slice(b,b+v),u.C=b+v,m)))}ni.prototype.cancel=function(){this.K=!0,Cn(this)};function Ti(u){u.T=Date.now()+u.H,ua(u,u.H)}function ua(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(_(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(pi(),It(17)),Cn(this),this.m=2,Pn(this)):ua(this,this.T-u)};function Pn(u){u.j.I==0||u.K||bu(u.j,u)}function Cn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ya(v),Ds(v);else break e;Vr(v),It(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(_(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&ya(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const gt=$e[0];if(!(gt<=v.K))if(v.K=gt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const Hn=$e[3];Hn!=null&&(v.ka=Hn,v.j.info("VER="+v.ka));const Oi=$e[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const oi=$e[5];oi!=null&&typeof oi=="number"&&oi>0&&(b=1.5*oi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const li=u.g;if(li){const kr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var B=b.h;B.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(b.G){const _a=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(b.wa=_a,et(b.J,b.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var Z=u;if(b.na=wu(b,b.L?b.ba:null,b.W),Z.L){Co(b.h,Z);var xe=Z,wt=b.O;wt&&(xe.H=wt),xe.D&&(bi(xe),Ti(xe)),b.g=Z}else Eu(b);v.i.length>0&&Ni(v)}else $e[0]!="stop"&&$e[0]!="close"||Di(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Di(v,7):Lo(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}pi(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof In?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,No(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(mu))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),As(this,m[4]),this.h=xi(m[5]||"",!0),No(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}In.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Cr(m,ha,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,ha,!0),"@"),u.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Cr(v,v.charAt(0)=="/"?Do:gu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Cr(v,pu)),u.join("")},In.prototype.resolve=function(u){const m=Ot(this);let v=!!u.j;v?Ft(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)As(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let Z=0;Z<L.length;){const xe=L[Z++];xe=="."?b&&Z==L.length&&B.push(""):xe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&Z==L.length&&B.push("")):(B.push(xe),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?No(m,_u(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ot(u){return new In(u)}function Ft(u,m,v){u.j=v?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof xs?(u.i=m,da(u.i,u.l)):(v||(m=Cr(m,ws)),u.i=new xs(m,u.l))}function et(u,m,v){u.i.set(m,v)}function Rr(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ha=/[#\/\?@]/g,gu=/[#\?:]/g,Do=/[#\?]/g,ws=/[#\?@]/g,pu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ca(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=xs.prototype,s.add=function(u,m){_n(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function yu(u,m){_n(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return _n(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Mo(u,m){_n(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return _n(this),this.i=null,u=Rs(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function fa(u,m,v){yu(u,m),v.length>0&&(u.i=null,u.g.set(Rs(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Fi(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let Z=L;v[B]!==""&&(Z+="="+Fi(v[B])),u.push(Z)}}return this.i=u.join("&")};function _u(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function da(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(yu(this,b),fa(this,L,v))},u)),u.j=m}function si(u,m){const v=new ti;if(d.Image){const b=new Image;b.onload=S(Bn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Bn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Bn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Bn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Vo(u,m){const v=new ti,b=new AbortController,L=setTimeout(()=>{b.abort(),Bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Bn(v,"TestPingServer: ok",!0,m):Bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Bn(v,"TestPingServer: error",!1,m)})}function Bn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Cs(){this.g=new ru}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ri,au),Ri.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,m){ce.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ir,ce),s=Ir.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ri(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Is(this):ri(this),this.readyState==3&&ma(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},s.Na=function(u){this.g&&(this.response=u,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qn(u){let m="";return ke(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Nr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=qn(v),typeof u=="string"?v!=null&&Fi(v):et(u,m,v))}function it(u){ce.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(it,ce);var Ci=/^https?$/i,ko=["POST","PUT"];s=it.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Dr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of v)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Dr(this,B)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Ki(u)}function Uo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),it.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),ai(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let Z=String(u.D).match(mu)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),b=!Ci.test(Z?Z.toLowerCase():"")}v=b}if(v)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=ai(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Uo(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ie(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function Zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=hu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ke(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){It(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=wu(this,null,this.W),Ni(this)};function Lo(u){if(ga(u),u.I==3){var m=u.V++,v=Ot(u.J);if(et(v,"SID",u.M),et(v,"RID",m),et(v,"TYPE","terminate"),Mr(u,v),m=new ni(u,u.j,m),m.M=2,m.A=Rr(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}Au(u)}function Ds(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ga(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!xo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ht||w(),Ve||(ht(),Ve=!0),I.add(m,u),u.D=0}}function pa(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(_(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ni(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),te(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=vu(this,L,m),v=Ot(this.J),et(v,"RID",u),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),Mr(this,v),B&&(this.R?m="headers="+Fi(qn(B))+"&"+m:this.u&&Nr(v,this.u,B)),Ro(this.h,L),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",m),et(v,"SID","null"),L.U=!0,Ei(L,v,null)):Ei(L,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||xo(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const b=Ot(u.J);et(b,"SID",u.M),et(b,"RID",v),et(b,"AID",u.K),Mr(u,b),u.u&&u.o&&Nr(b,u.u,u.o),v=new ni(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),Ei(v,b,m)}function Mr(u,m){u.H&&ke(u.H,function(v,b){et(m,b,v)}),u.l&&ke({},function(v,b){et(m,b,v)})}function vu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let xe=-1;for(;;){const wt=["count="+v];xe==-1?v>0?(xe=L[0].g,wt.push("ofs="+xe)):xe=0:wt.push("ofs="+xe);let $e=!0;for(let gt=0;gt<v;gt++){var B=L[gt].g;const Hn=L[gt].map;if(B-=xe,B<0)xe=Math.max(0,L[gt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var Z=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Oi,oi]of Z){let li=oi;y(oi)&&(li=Ss(oi)),wt.push(B+Oi+"="+encodeURIComponent(li))}}catch(Oi){throw wt.push(B+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(Hn)}}if($e){Z=wt.join("&");break e}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ht||w(),Ve||(ht(),Ve=!0),I.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(_(u.Da,u),Su(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ds(this),Tu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Rr(Ot(m)),v.u=null,v.R=!0,la(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Vr(this),It(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){ya(u),zo(u),u.g=null;var b=2}else if(wi(u.h,m))v=m.G,Co(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=oa(),Ie(b,new yi(b,v)),Ni(u)}else Eu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&pa(u,m)||b==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new In(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(b,"https"),Rr(b),L?si(b.toString(),v):Vo(b.toString(),v)}else It(2);u.I=0,u.l&&u.l.pa(m),Au(u),ga(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var b=v instanceof In?Ot(v):new In(v);if(b.g!="")m&&(b.g=m+"."+b.g),As(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new In(null);b&&Ft(B,b),m&&(B.g=m),L&&As(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&et(b,v,m),et(b,"VER",u.ka),Mr(u,b),b}function xu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new Ri({ab:v})):new it(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){ce.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yi(this)}A(mn,ce),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Lo(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ss(u),u=v);m.i.push(new Dt(m.Ya++,u)),m.I==3&&Ni(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,mn.Z.N.call(this)};function Cu(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Cu,$t);function Iu(){zn.call(this),this.status=1}A(Iu,zn);function Yi(u){this.g=u}A(Yi,Ru),Yi.prototype.ra=function(){Ie(this.g,"a")},Yi.prototype.qa=function(u){Ie(this.g,new Cu(u))},Yi.prototype.pa=function(u){Ie(this.g,new Iu)},Yi.prototype.oa=function(){Ie(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,w1=function(){return new Os},A1=function(){return oa()},S1=At,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Hc=wr,So.COMPLETE="complete",b1=So,ou.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ce.prototype.listen=ce.prototype.J,wl=ou,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,T1=it}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let yo="12.8.0";function Dw(s){yo=s}const na=new Cm("@firebase/firestore");function Ya(){return na.logLevel}function ae(s,...e){if(na.logLevel<=ze.DEBUG){const i=e.map(zm);na.debug(`Firestore (${yo}): ${s}`,...i)}}function _s(s,...e){if(na.logLevel<=ze.ERROR){const i=e.map(zm);na.error(`Firestore (${yo}): ${s}`,...i)}}function ao(s,...e){if(na.logLevel<=ze.WARN){const i=e.map(zm);na.warn(`Firestore (${yo}): ${s}`,...i)}}function zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _e(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,x1(s,a,i)}function x1(s,e,i){let a=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw _s(a),new Error(a)}function We(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||x1(e,l,a)}function Ae(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class R1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ow{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class Mw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Vw{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new dr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new dr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new R1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class kw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Uw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new kw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){We(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Pm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=jw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Pe(s,e){return s<e?-1:s>e?1:0}function hm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Yd(l)===Yd(c)?Pe(l,c):Yd(l)?1:-1}return Pe(s.length,e.length)}const zw=55296,Pw=57343;function Yd(s){const e=s.charCodeAt(0);return e>=zw&&e<=Pw}function oo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const w_="__name__";class Li{constructor(e,i,a){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&_e(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Li.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=Li.isNumericId(e),l=Li.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Li.extractNumericId(e).compare(Li.extractNumericId(i)):hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class yt extends Li{construct(e,i,a){return new yt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const Bw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Li{construct(e,i,a){return new an(e,i,a)}static isValidIdentifier(e){return Bw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w_}static keyField(){return new an([w_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new he($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new he($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new he($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(yt.fromString(e))}static fromName(e){return new ge(yt.fromString(e).popFirst(5))}static empty(){return new ge(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new yt(e.slice()))}}function qw(s,e,i){if(!i)throw new he($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Hw(s,e,i,a){if(e===!0&&a===!0)throw new he($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function x_(s){if(!ge.isDocumentKey(s))throw new he($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function C1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Bm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(s);throw new he($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Wl(s,e){if(!C1(s))throw new he($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he($.INVALID_ARGUMENT,i);return!0}const R_=-62135596800,C_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*C_);return new mt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<R_)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:jt("string",mt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new mt(0,0))}static max(){return new Te(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function Gw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(a===1e9?new mt(i+1,0):new mt(i,a));return new gr(l,ge.empty(),e)}function Fw(s){return new gr(s.readTime,s.key,jl)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(Te.min(),ge.empty(),jl)}static max(){return new gr(Te.max(),ge.empty(),jl)}}function Kw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:Pe(s.largestBatchId,e.largestBatchId))}const Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _o(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Qw)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((S=>{d[_]=S,++y,y===c&&a(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Xw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vo(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const qm=-1;function Th(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function $w(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const I1="";function Zw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=I_(e)),e=Jw(s.get(i),e);return I_(e)}function Jw(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case I1:i+="";break;default:i+=c}}return i}function I_(s){return s+I1+""}function N_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function N1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _t{constructor(e,i){this.comparator=e,this.root=i||rn.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??rn.RED,this.left=l??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new rn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return rn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new rn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ht(this.comparator);return i.data=e,i}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new Ht(an.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class D1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new D1("Invalid base64 string: "+c):c}})(e);return new on(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new on(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const Ww=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(s){if(We(!!s,39018),typeof s=="string"){let e=0;const i=Ww.exec(s);if(We(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yr(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}const O1="server_timestamp",M1="__type__",V1="__previous_value__",k1="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[M1]?.stringValue===O1}function bh(s){const e=s.mapValue.fields[V1];return Hm(e)?bh(e):e}function zl(s){const e=pr(s.mapValue.fields[k1].timestampValue);return new mt(e.seconds,e.nanos)}class ex{constructor(e,i,a,l,c,d,y,g,_,S,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=A}}const rh="(default)";class Pl{constructor(e,i){this.projectId=e,this.database=i||rh}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}function tx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new he($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(s.options.projectId,e)}const U1="__type__",nx="__max__",Uc={mapValue:{}},L1="__vector__",ah="value";function _r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:sx(s)?9007199254740991:ix(s)?10:11:_e(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=_r(s);if(i!==_r(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return zl(s).isEqual(zl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=pr(l.timestampValue),y=pr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return yr(l.bytesValue).isEqual(yr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ct(l.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ct(l.integerValue)===Ct(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ct(l.doubleValue),y=Ct(c.doubleValue);return d===y?sh(d)===sh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return oo(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(N_(d)!==N_(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Hi(d[g],y[g])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Bl(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function lo(s,e){if(s===e)return 0;const i=_r(s),a=_r(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Ct(c.integerValue||c.doubleValue),g=Ct(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,e);case 3:return O_(s.timestampValue,e.timestampValue);case 4:return O_(zl(s),zl(e));case 5:return hm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=yr(c),g=yr(d);return y.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const S=Pe(y[_],g[_]);if(S!==0)return S}return Pe(y.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Pe(Ct(c.latitude),Ct(d.latitude));return y!==0?y:Pe(Ct(c.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return M_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[ah]?.arrayValue,S=g[ah]?.arrayValue,A=Pe(_?.values?.length||0,S?.values?.length||0);return A!==0?A:M_(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},S=Object.keys(_);g.sort(),S.sort();for(let A=0;A<g.length&&A<S.length;++A){const M=hm(g[A],S[A]);if(M!==0)return M;const F=lo(y[g[A]],_[S[A]]);if(F!==0)return F}return Pe(g.length,S.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function O_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const i=pr(s),a=pr(e),l=Pe(i.seconds,a.seconds);return l!==0?l:Pe(i.nanos,a.nanos)}function M_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=lo(i[l],a[l]);if(c)return c}return Pe(i.length,a.length)}function uo(s){return fm(s)}function fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=pr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return yr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=fm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${fm(i.fields[d])}`;return l+"}"})(s.mapValue):_e(61005,{value:s})}function Gc(s){switch(_r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+Gc(e):16;case 5:return 2*s.stringValue.length;case 6:return yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Tr(a.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(s.mapValue);default:throw _e(13486,{value:s})}}function dm(s){return!!s&&"integerValue"in s}function Gm(s){return!!s&&"arrayValue"in s}function V_(s){return!!s&&"nullValue"in s}function k_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fc(s){return!!s&&"mapValue"in s}function ix(s){return(s?.mapValue?.fields||{})[U1]?.stringValue===L1}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Dl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Dl(s.arrayValue.values[i]);return e}return{...s}}function sx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===nx}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(i)}setAll(e){let i=an.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Dl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Tr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new xn(Dl(this.value))}}function j1(s){const e=[];return Tr(s.fields,((i,a)=>{const l=new an([i]);if(Fc(a)){const c=j1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Ln(e)}class fn{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new fn(e,0,Te.min(),Te.min(),Te.min(),xn.empty(),0)}static newFoundDocument(e,i,a,l){return new fn(e,1,i,Te.min(),a,l,0)}static newNoDocument(e,i){return new fn(e,2,i,Te.min(),Te.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new fn(e,3,i,Te.min(),Te.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,i){this.position=e,this.inclusive=i}}function U_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=lo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class lh{constructor(e,i="asc"){this.field=e,this.dir=i}}function rx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class z1{}class qt extends z1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new ox(e,i,a):i==="array-contains"?new cx(e,a):i==="in"?new hx(e,a):i==="not-in"?new fx(e,a):i==="array-contains-any"?new dx(e,a):new qt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new lx(e,a):new ux(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(lo(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(lo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends z1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return P1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(s){return s.op==="and"}function B1(s){return ax(s)&&P1(s)}function ax(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function mm(s){if(s instanceof qt)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(B1(s))return s.filters.map((e=>mm(e))).join(",");{const e=s.filters.map((i=>mm(i))).join(",");return`${s.op}(${e})`}}function q1(s,e){return s instanceof qt?(function(a,l){return l instanceof qt&&a.op===l.op&&a.field.isEqual(l.field)&&Hi(a.value,l.value)})(s,e):s instanceof Gi?(function(a,l){return l instanceof Gi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&q1(d,l.filters[y])),!0):!1})(s,e):void _e(19439)}function H1(s){return s instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${uo(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(H1).join(" ,")+"}"})(s):"Filter"}class ox extends qt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class lx extends qt{constructor(e,i){super(e,"in",i),this.keys=G1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class ux extends qt{constructor(e,i){super(e,"not-in",i),this.keys=G1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function G1(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class cx extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Gm(i)&&Bl(i.arrayValue,this.value)}}class hx extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class fx extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class dx extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bl(this.value.arrayValue,a)))}}class mx{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function j_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new mx(s,e,i,a,l,c,d)}function Fm(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>mm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>uo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>uo(a))).join(",")),e.Te=i}return e.Te}function Km(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!rx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!q1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!L_(s.startAt,e.startAt)&&L_(s.endAt,e.endAt)}function gm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Sh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gx(s,e,i,a,l,c,d,y){return new Sh(s,e,i,a,l,c,d,y)}function Ah(s){return new Sh(s)}function z_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function px(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function yx(s){return s.collectionGroup!==null}function Ol(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ht(an.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lh(c,a))})),i.has(an.keyField().canonicalString())||e.Ie.push(new lh(an.keyField(),a))}return e.Ie}function Pi(s){const e=Ae(s);return e.Ee||(e.Ee=_x(e,Ol(s))),e.Ee}function _x(s,e){if(s.limitType==="F")return j_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lh(l.field,c)}));const i=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return j_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function pm(s,e,i){return new Sh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function wh(s,e){return Km(Pi(s),Pi(e))&&s.limitType===e.limitType}function F1(s){return`${Fm(Pi(s))}|lt:${s.limitType}`}function Xa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>H1(l))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>uo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>uo(l))).join(",")),`Target(${a})`})(Pi(s))}; limitType=${s.limitType})`}function xh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Ol(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=U_(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Ol(a),l)||a.endAt&&!(function(d,y,g){const _=U_(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Ol(a),l))})(s,e)}function vx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function K1(s){return(e,i)=>{let a=!1;for(const l of Ol(s)){const c=Ex(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Ex(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?lo(g,_):_e(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:s.dir})}}class ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return N1(this.inner)}size(){return this.innerSize}}const Tx=new _t(ge.comparator);function vs(){return Tx}const Q1=new _t(ge.comparator);function xl(...s){let e=Q1;for(const i of s)e=e.insert(i.key,i);return e}function Y1(s){let e=Q1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Jr(){return Ml()}function X1(){return Ml()}function Ml(){return new ra((s=>s.toString()),((s,e)=>s.isEqual(e)))}const bx=new _t(ge.comparator),Sx=new Ht(ge.comparator);function Be(...s){let e=Sx;for(const i of s)e=e.add(i);return e}const Ax=new Ht(Pe);function wx(){return Ax}function Qm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function $1(s){return{integerValue:""+s}}function xx(s,e){return $w(e)?$1(e):Qm(s,e)}class Rh{constructor(){this._=void 0}}function Rx(s,e,i){return s instanceof uh?(function(l,c){const d={fields:{[M1]:{stringValue:O1},[k1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=bh(c)),c&&(d.fields[V1]=c),{mapValue:d}})(i,e):s instanceof co?J1(s,e):s instanceof ql?W1(s,e):(function(l,c){const d=Z1(l,c),y=P_(d)+P_(l.Ae);return dm(d)&&dm(l.Ae)?$1(y):Qm(l.serializer,y)})(s,e)}function Cx(s,e,i){return s instanceof co?J1(s,e):s instanceof ql?W1(s,e):i}function Z1(s,e){return s instanceof ch?(function(a){return dm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class uh extends Rh{}class co extends Rh{constructor(e){super(),this.elements=e}}function J1(s,e){const i=eE(e);for(const a of s.elements)i.some((l=>Hi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ql extends Rh{constructor(e){super(),this.elements=e}}function W1(s,e){let i=eE(e);for(const a of s.elements)i=i.filter((l=>!Hi(l,a)));return{arrayValue:{values:i}}}class ch extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function P_(s){return Ct(s.integerValue||s.doubleValue)}function eE(s){return Gm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Ix{constructor(e,i){this.field=e,this.transform=i}}function Nx(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof co&&l instanceof co||a instanceof ql&&l instanceof ql?oo(a.elements,l.elements,Hi):a instanceof ch&&l instanceof ch?Hi(a.Ae,l.Ae):a instanceof uh&&l instanceof uh})(s.transform,e.transform)}class Dx{constructor(e,i){this.version=e,this.transformResults=i}}class mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function tE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ym(s.key,mi.none()):new eu(s.key,s.data,mi.none());{const i=s.data,a=xn.empty();let l=new Ht(an.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new br(s.key,a,new Ln(l.toArray()),mi.none())}}function Ox(s,e,i){s instanceof eu?(function(l,c,d){const y=l.value.clone(),g=q_(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(l,c,d){if(!Kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=q_(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(nE(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Vl(s,e,i,a){return s instanceof eu?(function(c,d,y,g){if(!Kc(c.precondition,d))return y;const _=c.value.clone(),S=H_(c.fieldTransforms,g,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof br?(function(c,d,y,g){if(!Kc(c.precondition,d))return y;const _=H_(c.fieldTransforms,g,d),S=d.data;return S.setAll(nE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,y){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function Mx(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=Z1(a.transform,l||null);c!=null&&(i===null&&(i=xn.empty()),i.set(a.field,c))}return i||null}function B_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&oo(a,l,((c,d)=>Nx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class eu extends Ch{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class br extends Ch{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function nE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function q_(s,e,i){const a=new Map;We(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,Cx(d,y,i[l]))}return a}function H_(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Rx(c,d,e))}return a}class Ym extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kx{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Ox(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Vl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Vl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=X1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=tE(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Te.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((i,a)=>B_(i,a)))&&oo(this.baseMutations,e.baseMutations,((i,a)=>B_(i,a)))}}class Xm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return bx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Xm(e,i,a,l)}}class Ux{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Lx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Fe;function jx(s){switch(s){case $.OK:return _e(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function iE(s){if(s===void 0)return _s("GRPC error has no .code"),$.UNKNOWN;switch(s){case Lt.OK:return $.OK;case Lt.CANCELLED:return $.CANCELLED;case Lt.UNKNOWN:return $.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return $.INTERNAL;case Lt.UNAVAILABLE:return $.UNAVAILABLE;case Lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Lt.NOT_FOUND:return $.NOT_FOUND;case Lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Lt.ABORTED:return $.ABORTED;case Lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Lt.DATA_LOSS:return $.DATA_LOSS;default:return _e(39323,{code:s})}}(Fe=Lt||(Lt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function zx(){return new TextEncoder}const Px=new fr([4294967295,4294967295],0);function G_(s){const e=zx().encode(s),i=new E1;return i.update(e),new Uint8Array(i.digest())}function F_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fr([i,a],0),new fr([l,c],0)]}class $m{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(fr.fromNumber(a)));return l.compare(Px)===1&&(l=new fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=G_(e),[a,l]=F_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=G_(e),[a,l]=F_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ih(Te.min(),l,new _t(Pe),vs(),Be())}}class tu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new tu(a,i,Be(),Be(),Be())}}class Qc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class sE{constructor(e,i){this.targetId=e,this.Ce=i}}class rE{constructor(e,i,a=on.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class K_{constructor(){this.ve=0,this.Fe=Q_(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),a=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_e(38017,{changeType:c})}})),new tu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=Q_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Bx{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.He=Lc(),this.Je=Lc(),this.Ze=new _t(Pe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(gm(c))if(a===0){const d=new ge(c.path);this.et(i,d,fn.newNoDocument(d,Te.min()))}else We(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=yr(a).toUint8Array()}catch(g){if(g instanceof D1)return ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new $m(d,l,c)}catch(g){return ao(g instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&gm(y.target)){const g=new ge(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,fn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Be();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ih(e,i,this.Ze,this.je,a);return this.je=vs(),this.He=Lc(),this.Je=Lc(),this.Ze=new _t(Pe),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new K_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ht(Pe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ht(Pe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Lc(){return new _t(ge.comparator)}function Q_(){return new _t(ge.comparator)}const qx={asc:"ASCENDING",desc:"DESCENDING"},Hx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gx={and:"AND",or:"OR"};class Fx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(s,e){return s.useProto3Json||Th(e)?e:{value:e}}function hh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Kx(s,e){return hh(s,e.toTimestamp())}function Bi(s){return We(!!s,49232),Te.fromTimestamp((function(i){const a=pr(i);return new mt(a.seconds,a.nanos)})(s))}function Zm(s,e){return _m(s,e).canonicalString()}function _m(s,e){const i=(function(l){return new yt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function oE(s){const e=yt.fromString(s);return We(fE(e),10190,{key:e.toString()}),e}function vm(s,e){return Zm(s.databaseId,e.path)}function Xd(s,e){const i=oE(e);if(i.get(1)!==s.databaseId.projectId)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(uE(i))}function lE(s,e){return Zm(s.databaseId,e)}function Qx(s){const e=oE(s);return e.length===4?yt.emptyPath():uE(e)}function Em(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function uE(s){return We(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Y_(s,e,i){return{name:vm(s,e),fields:i.value.mapValue.fields}}function Yx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(We(S===void 0||typeof S=="string",58123),on.fromBase64String(S||"")):(We(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),on.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:iE(_.code);return new he(S,_.message||"")})(d);i=new rE(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xd(s,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):Te.min(),y=new xn({mapValue:{fields:a.document.fields}}),g=fn.newFoundDocument(l,c,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Qc(_,S,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Xd(s,a.document),c=a.readTime?Bi(a.readTime):Te.min(),d=fn.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Qc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Xd(s,a.document),c=a.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Lx(l,c),y=a.targetId;i=new sE(y,d)}}return i}function Xx(s,e){let i;if(e instanceof eu)i={update:Y_(s,e.key,e.value)};else if(e instanceof Ym)i={delete:vm(s,e.key)};else if(e instanceof br)i={update:Y_(s,e.key,e.data),updateMask:sR(e.fieldMask)};else{if(!(e instanceof Vx))return _e(16599,{dt:e.type});i={verify:vm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ch)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Kx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),i}function $x(s,e){return s&&s.length>0?(We(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Bi(l.updateTime):Bi(c);return d.isEqual(Te.min())&&(d=Bi(c)),new Dx(d,l.transformResults||[])})(i,e)))):[]}function Zx(s,e){return{documents:[lE(s,e.path)]}}function Jx(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=lE(s,l);const c=(function(_){if(_.length!==0)return hE(Gi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:$a(M.field),direction:tR(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=ym(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function Wx(s){let e=Qx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){We(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const M=cE(A);return M instanceof Gi&&B1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(J){return new lh(Za(J.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let M;return M=typeof A=="object"?A.value:A,Th(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(A){const M=!!A.before,F=A.values||[];return new oh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new oh(F,M)})(i.endAt)),gx(e,l,d,c,y,"F",g,_)}function eR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function cE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Za(i.unaryFilter.field);return qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Za(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qt.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>cE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(s):_e(30097,{filter:s})}function tR(s){return qx[s]}function nR(s){return Hx[s]}function iR(s){return Gx[s]}function $a(s){return{fieldPath:s.canonicalString()}}function Za(s){return an.fromServerFormat(s.fieldPath)}function hE(s){return s instanceof qt?(function(i){if(i.op==="=="){if(k_(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NAN"}};if(V_(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k_(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NAN"}};if(V_(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(i.field),op:nR(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const a=i.getFilters().map((l=>hE(l)));return a.length===1?a[0]:{compositeFilter:{op:iR(i.op),filters:a}}})(s):_e(54877,{filter:s})}function sR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function fE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function dE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class lr{constructor(e,i,a,l,c=Te.min(),d=Te.min(),y=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rR{constructor(e){this.yt=e}}function aR(s){const e=Wx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pm(e,e.limit,"L"):e}class oR{constructor(){this.Sn=new lR}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(gr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class lR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Ht(yt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ht(yt.comparator)).toArray()}}const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(mE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class ho{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ho(0)}static ar(){return new ho(-1)}}const $_="LruGarbageCollector",uR=1048576;function Z_([s,e],[i,a]){const l=Pe(s,i);return l===0?Pe(e,a):l}class cR{constructor(e){this.Pr=e,this.buffer=new Ht(Z_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae($_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vo(i)?ae($_,"Ignoring IndexedDB error during garbage collection: ",i):await _o(i)}await this.Ar(3e5)}))}}class fR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Eh.ce);const a=new cR(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(X_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,y,g,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,y=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Ya()<=ze.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function dR(s,e){return new fR(s,e)}class mR{constructor(){this.changes=new ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class pR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Vl(a.mutation,l,Ln.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Be()){const l=Jr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=xl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Jr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Be())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=vs();const d=Ml(),y=(function(){return Ml()})();return i.forEach(((g,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof br)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Vl(S.mutation,_,S.mutation.getFieldMask(),mt.now())):d.set(_.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new gR(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ml();let l=new _t(((d,y)=>d-y)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let S=a.get(g)||Ln.empty();S=y.applyToLocalView(_,S),a.set(g,S);const A=(l.get(y.batchId)||Be()).add(g);l=l.insert(y.batchId,A)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,S=g.value,A=X1();S.forEach((M=>{if(!c.has(M)){const F=tE(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return px(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):yx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(Jr());let y=jl,g=c;return d.next((_=>X.forEach(_,((S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{g=g.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Be()))).next((S=>({batchId:y,changes:Y1(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let l=xl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(g=>{const _=(function(A,M){return new Sh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((S=>{S.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,fn.newInvalidDocument(S)))}));let y=xl();return d.forEach(((g,_)=>{const S=c.get(g);S!==void 0&&Vl(S.mutation,_,Ln.empty(),mt.now()),xh(i,_)&&(y=y.insert(g,_))})),y}))}}class yR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:aR(l.bundledQuery),readTime:Bi(l.readTime)}})(i)),X.resolve()}}class _R{constructor(){this.overlays=new _t(ge.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Jr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=Jr(),c=i.length+1,d=new ge(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new _t(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=Jr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=Jr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=l)););return X.resolve(y)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ux(i,a));let c=this.Lr.get(i);c===void 0&&(c=Be(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class vR{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Jm{constructor(){this.kr=new Ht(Qt.Kr),this.qr=new Ht(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Qt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Qt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ge(new yt([])),a=new Qt(i,e),l=new Qt(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ge(new yt([])),a=new Qt(i,e),l=new Qt(i,e+1);let c=Be();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Qt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Qt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ge.comparator(e.key,i.key)||Pe(e.Hr,i.Hr)}static Ur(e,i){return Pe(e.Hr,i.Hr)||ge.comparator(e.key,i.key)}}class ER{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Qt.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kx(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Qt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?qm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ht(Pe);return i.forEach((l=>{const c=new Qt(l,0),d=new Qt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Qt(new ge(c),0);let y=new Ht(Pe);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){We(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Qt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Qt(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class TR{constructor(e){this.ti=e,this.docs=(function(){return new _t(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(e,i){let a=vs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():fn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=vs();const d=i.path,y=new ge(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:S}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Kw(Fw(S),a)<=0||(l.has(S.key)||xh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){_e(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new bR(this)}getSize(e){return X.resolve(this.size)}}class bR extends mR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class SR{constructor(e){this.persistence=e,this.ri=new ra((i=>Fm(i)),Km),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Jm,this.targetCount=0,this.oi=ho._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new ho(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class gE{constructor(e,i){this._i={},this.overlays={},this.ai=new Eh(0),this.ui=!1,this.ui=!0,this.ci=new vR,this.referenceDelegate=e(this),this.li=new SR(this),this.indexManager=new oR,this.remoteDocumentCache=(function(l){return new TR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new rR(i),this.Pi=new yR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _R,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new ER(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const l=new AR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class AR extends Yw{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Jm,this.Ai=null}static Vi(e){return new Wm(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ge.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Te.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class fh{constructor(e,i){this.persistence=e,this.fi=new ra((a=>Zw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=dR(this,i)}static Vi(e,i){return new fh(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Te.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gc(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=Be(),l=Be();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new eg(e,i.fromCache,a,l)}}class wR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uS()?8:Xw(dn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new wR;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Ya()<=ze.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ya()<=ze.DEBUG&&ae("QueryEngine","Query:",Xa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ya()<=ze.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):X.resolve())}gs(e,i){if(z_(i))return X.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=pm(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.bs(i,y);return this.Ss(i,_,d,g.readTime)?this.gs(e,pm(i,null,"F")):this.Ds(e,_,i,g)}))))})))))}ps(e,i,a,l){return z_(i)||l.isEqual(Te.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ya()<=ze.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xa(i)),this.Ds(e,d,i,Gw(l,jl)).next((y=>y)))}))}bs(e,i){let a=new Ht(K1(e));return i.forEach(((l,c)=>{xh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return Ya()<=ze.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Xa(i)),this.fs.getDocumentsMatchingQuery(e,i,gr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",RR=3e8;class CR{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new _t(Pe),this.Fs=new ra((c=>Fm(c)),Km),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function IR(s,e,i,a){return new CR(s,e,i,a)}async function pE(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Be();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function NR(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,S){const A=_.batch,M=A.keys();let F=X.resolve();return M.forEach((J=>{F=F.next((()=>S.getEntry(g,J))).next((se=>{const ne=_.docVersions.get(J);We(ne!==null,48541),se.version.compareTo(ne)<0&&(A.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),S.addEntry(se)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(g,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Be();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function yE(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function DR(s,e){const i=Ae(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];e.targetChanges.forEach(((S,A)=>{const M=l.get(A);if(!M)return;y.push(i.li.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(on.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),l=l.insert(A,F),(function(se,ne,me){return se.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=RR?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(M,F,S)&&y.push(i.li.updateTargetData(c,F))}));let g=vs(),_=Be();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(OR(c,d,e.documentUpdates).next((S=>{g=S.Bs,_=S.Ls}))),!a.isEqual(Te.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(S)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.vs=l,c)))}function OR(s,e,i){let a=Be(),l=Be();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=vs();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):ae(tg,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{Bs:d,Ls:l}}))}function MR(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function VR(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new lr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Tm(s,e,i){const a=Ae(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!vo(d))throw d;ae(tg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function J_(s,e,i){const a=Ae(s);let l=Te.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,S){const A=Ae(g),M=A.Fs.get(S);return M!==void 0?X.resolve(A.vs.get(M)):A.li.getTargetData(_,S)})(a,d,Pi(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:Te.min(),i?c:Be()))).next((y=>(kR(a,vx(e),y),{documents:y,ks:c})))))}function kR(s,e,i){let a=s.Ms.get(e)||Te.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class W_{constructor(){this.activeTargetIds=wx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UR{constructor(){this.vo=new W_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new W_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class LR{Mo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(ev,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function bm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const $d="RestConnection",jR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===rh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=bm(),y=this.Qo(e,i.toUriEncodedString());ae($d,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,c);const{host:_}=new URL(y),S=mo(_);return this.zo(e,y,g,a,S).then((A=>(ae($d,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw ao($d,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=jR[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class PR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",Al=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class no extends zR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!no.c_){const e=A1();Al(e,S1.STAT_EVENT,(i=>{i.stat===cm.PROXY?ae(un,"STAT_EVENT: detected buffering proxy"):i.stat===cm.NOPROXY&&ae(un,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(e,i,a,l,c){const d=bm();return new Promise(((y,g)=>{const _=new T1;_.setWithCredentials(!0),_.listenOnce(b1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const A=_.getResponseJson();ae(un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case Hc.TIMEOUT:ae(un,`RPC '${e}' ${d} timed out`),g(new he($.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=_.getStatus();if(ae(un,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const se=(function(me){const we=me.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(we)>=0?we:$.UNKNOWN})(J.status);g(new he(se,J.message))}else g(new he($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new he($.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(un,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);ae(un,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const l=bm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");ae(un,`Creating RPC '${e}' stream ${l}: ${_}`,y);const S=d.createWebChannel(_,y);this.I_(S);let A=!1,M=!1;const F=new PR({Ho:J=>{M?ae(un,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(A||(ae(un,`Opening RPC '${e}' stream ${l} transport.`),S.open(),A=!0),ae(un,`RPC '${e}' stream ${l} sending:`,J),S.send(J))},Jo:()=>S.close()});return Al(S,wl.EventType.OPEN,(()=>{M||(ae(un,`RPC '${e}' stream ${l} transport opened.`),F.i_())})),Al(S,wl.EventType.CLOSE,(()=>{M||(M=!0,ae(un,`RPC '${e}' stream ${l} transport closed`),F.o_(),this.E_(S))})),Al(S,wl.EventType.ERROR,(J=>{M||(M=!0,ao(un,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),F.o_(new he($.UNAVAILABLE,"The operation could not be completed")))})),Al(S,wl.EventType.MESSAGE,(J=>{if(!M){const se=J.data[0];We(!!se,16349);const ne=se,me=ne?.error||ne[0]?.error;if(me){ae(un,`RPC '${e}' stream ${l} received error:`,me);const we=me.status;let ye=(function(Ve){const I=Lt[Ve];if(I!==void 0)return iE(I)})(we),Je=me.message;ye===void 0&&(ye=$.INTERNAL,Je="Unknown error status: "+we+" with message "+me.message),M=!0,F.o_(new he(ye,Je)),S.close()}else ae(un,`RPC '${e}' stream ${l} received:`,se),F.__(se)}})),no.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return w1()}}function BR(s){return new no(s)}function Zd(){return typeof document<"u"?document:null}function Nh(s){return new Fx(s,!0)}no.c_=!1;class _E{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const nv="PersistentStream";class vE{constructor(e,i,a,l,c,d,y,g){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _E(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new he($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qR extends vE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Yx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Bi(d.readTime):Te.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=gm(g)?{documents:Zx(c,g)}:{query:Jx(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=aE(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Te.min())>0){y.readTime=hh(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=eR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Em(this.serializer),i.removeTarget=e,this.K_(i)}}class HR extends vE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=$x(e.writeResults,e.commitTime),a=Bi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Em(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Xx(this.serializer,a)))};this.K_(i)}}class GR{}class FR extends GR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,_m(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he($.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,_m(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KR(s,e,i,a){return new FR(s,e,i,a)}class QR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class YR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{aa(this)&&(ae(ia,"Restarting streams for network reachability change."),await(async function(g){const _=Ae(g);_.Ea.add(4),await nu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Va=new QR(a,l)}}async function Dh(s){if(aa(s))for(const e of s.Ra)await e(!0)}async function nu(s){for(const e of s.Ra)await e(!1)}function EE(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rg(i)?sg(i):Eo(i).O_()&&ig(i,e))}function ng(s,e){const i=Ae(s),a=Eo(i);i.Ia.delete(e),a.O_()&&TE(i,e),i.Ia.size===0&&(a.O_()?a.L_():aa(i)&&i.Va.set("Unknown"))}function ig(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Eo(s).Z_(e)}function TE(s,e){s.da.$e(e),Eo(s).X_(e)}function sg(s){s.da=new Bx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Eo(s).start(),s.Va.ua()}function rg(s){return aa(s)&&!Eo(s).x_()&&s.Ia.size>0}function aa(s){return Ae(s).Ea.size===0}function bE(s){s.da=void 0}async function XR(s){s.Va.set("Online")}async function $R(s){s.Ia.forEach(((e,i)=>{ig(s,e)}))}async function ZR(s,e){bE(s),rg(s)?(s.Va.ha(e),sg(s)):s.Va.set("Unknown")}async function JR(s,e,i){if(s.Va.set("Online"),e instanceof rE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,e)}catch(a){ae(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await dh(s,a)}else if(e instanceof Qc?s.da.Xe(e):e instanceof sE?s.da.st(e):s.da.tt(e),!i.isEqual(Te.min()))try{const a=await yE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const S=c.Ia.get(g);if(!S)return;c.Ia.set(g,S.withResumeToken(on.EMPTY_BYTE_STRING,S.snapshotVersion)),TE(c,g);const A=new lr(S.target,g,_,S.sequenceNumber);ig(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){ae(ia,"Failed to raise snapshot:",a),await dh(s,a)}}async function dh(s,e,i){if(!vo(e))throw e;s.Ea.add(1),await nu(s),s.Va.set("Offline"),i||(i=()=>yE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Dh(s)}))}function SE(s,e){return e().catch((i=>dh(s,i,e)))}async function Oh(s){const e=Ae(s),i=vr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;WR(e);)try{const l=await MR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,eC(e,l)}catch(l){await dh(e,l)}AE(e)&&wE(e)}function WR(s){return aa(s)&&s.Ta.length<10}function eC(s,e){s.Ta.push(e);const i=vr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function AE(s){return aa(s)&&!vr(s).x_()&&s.Ta.length>0}function wE(s){vr(s).start()}async function tC(s){vr(s).ra()}async function nC(s){const e=vr(s);for(const i of s.Ta)e.ea(i.mutations)}async function iC(s,e,i){const a=s.Ta.shift(),l=Xm.from(a,e,i);await SE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Oh(s)}async function sC(s,e){e&&vr(s).Y_&&await(async function(a,l){if((function(d){return jx(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();vr(a).B_(),await SE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Oh(a)}})(s,e),AE(s)&&wE(s)}async function iv(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),ae(ia,"RemoteStore received new credentials");const a=aa(i);i.Ea.add(3),await nu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dh(i)}async function rC(s,e){const i=Ae(s);e?(i.Ea.delete(2),await Dh(i)):e||(i.Ea.add(2),await nu(i),i.Va.set("Unknown"))}function Eo(s){return s.ma||(s.ma=(function(i,a,l){const c=Ae(i);return c.sa(),new qR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:XR.bind(null,s),Yo:$R.bind(null,s),t_:ZR.bind(null,s),J_:JR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),rg(s)?sg(s):s.Va.set("Unknown")):(await s.ma.stop(),bE(s))}))),s.ma}function vr(s){return s.fa||(s.fa=(function(i,a,l){const c=Ae(i);return c.sa(),new HR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:tC.bind(null,s),t_:sC.bind(null,s),ta:nC.bind(null,s),na:iC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ag{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new ag(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(s,e){if(_s("AsyncQueue",`${e}: ${s}`),vo(s))return new he($.UNAVAILABLE,`${e}: ${s}`);throw s}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new io;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class sv{constructor(){this.ga=new _t(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class fo{constructor(e,i,a,l,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new fo(e,i,io.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class aC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class oC{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ae(i),c=l.queries;l.queries=rv(),c.forEach(((d,y)=>{for(const g of y.ba)g.onError(a)}))})(this,new he($.ABORTED,"Firestore shutting down"))}}function rv(){return new ra((s=>F1(s)),wh)}async function xE(s,e){const i=Ae(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new aC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=og(d,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&lg(i)}async function RE(s,e){const i=Ae(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function lC(s,e){const i=Ae(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&lg(i)}function uC(s,e,i){const a=Ae(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function lg(s){s.Ca.forEach((e=>{e.next()}))}var Sm,av;(av=Sm||(Sm={})).Ma="default",av.Cache="cache";class CE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new fo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class IE{constructor(e){this.key=e}}class NE{constructor(e){this.key=e}}class cC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=K1(e),this.tu=new io(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,A)=>{const M=l.get(S),F=xh(this.query,A)?A:null,J=!!M&&this.mutatedKeys.has(M.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ne=!1;M&&F?M.data.isEqual(F.data)?J!==se&&(a.track({type:3,doc:F}),ne=!0):this.su(M,F)||(a.track({type:2,doc:F}),ne=!0,(g&&this.eu(F,g)>0||_&&this.eu(F,_)<0)&&(y=!0)):!M&&F?(a.track({type:0,doc:F}),ne=!0):M&&!F&&(a.track({type:1,doc:M}),ne=!0,(g||_)&&(y=!0)),ne&&(F?(d=d.add(F),c=se?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(F,J){const se=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:ne})}};return se(F)-se(J)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,_=g!==this.Xa;return this.Xa=g,d.length!==0||_?{snapshot:new fo(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new NE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new IE(a))})),i}cu(e){this.Za=e.ks,this.Ya=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ug="SyncEngine";class hC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class fC{constructor(e){this.key=e,this.hu=!1}}class dC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((y=>F1(y)),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new _t(ge.comparator),this.Au=new Map,this.Vu=new Jm,this.du={},this.mu=new Map,this.fu=ho.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mC(s,e,i=!0){const a=UE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await DE(a,e,i,!0),l}async function gC(s,e){const i=UE(s);await DE(i,e,!0,!1)}async function DE(s,e,i,a){const l=await VR(s.localStore,Pi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await pC(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&EE(s.remoteStore,l),y}async function pC(s,e,i,a,l){s.pu=(A,M,F)=>(async function(se,ne,me,we){let ye=ne.view.ru(me);ye.Ss&&(ye=await J_(se.localStore,ne.query,!1).then((({documents:I})=>ne.view.ru(I,ye))));const Je=we&&we.targetChanges.get(ne.targetId),ht=we&&we.targetMismatches.get(ne.targetId)!=null,Ve=ne.view.applyChanges(ye,se.isPrimaryClient,Je,ht);return lv(se,ne.targetId,Ve.au),Ve.snapshot})(s,A,M,F);const c=await J_(s.localStore,e,!0),d=new cC(e,c.ks),y=d.ru(c.documents),g=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,g);lv(s,i,_.au);const S=new hC(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function yC(s,e,i){const a=Ae(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!wh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ng(a.remoteStore,l.targetId),Am(a,l.targetId)})).catch(_o)):(Am(a,l.targetId),await Tm(a.localStore,l.targetId,!0))}async function _C(s,e){const i=Ae(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ng(i.remoteStore,a.targetId))}async function vC(s,e,i){const a=xC(s);try{const l=await(function(d,y){const g=Ae(d),_=mt.now(),S=y.reduce(((F,J)=>F.add(J.key)),Be());let A,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=vs(),se=Be();return g.xs.getEntries(F,S).next((ne=>{J=ne,J.forEach(((me,we)=>{we.isValidDocument()||(se=se.add(me))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,J))).next((ne=>{A=ne;const me=[];for(const we of y){const ye=Mx(we,A.get(we.key).overlayedDocument);ye!=null&&me.push(new br(we.key,ye,j1(ye.value.mapValue),mi.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,me,y)})).next((ne=>{M=ne;const me=ne.applyToLocalDocumentSet(A,se);return g.documentOverlayCache.saveOverlays(F,ne.batchId,me)}))})).then((()=>({batchId:M.batchId,changes:Y1(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.du[d.currentUser.toKey()];_||(_=new _t(Pe)),_=_.insert(y,g),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await iu(a,l.changes),await Oh(a.remoteStore)}catch(l){const c=og(l,"Failed to persist write");i.reject(c)}}async function OE(s,e){const i=Ae(s);try{const a=await DR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?We(d.hu,14607):l.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await iu(i,a,e)}catch(a){await _o(a)}}function ov(s,e,i){const a=Ae(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=Ae(d);g.onlineState=y;let _=!1;g.queries.forEach(((S,A)=>{for(const M of A.ba)M.va(y)&&(_=!0)})),_&&lg(g)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function EC(s,e,i){const a=Ae(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new _t(ge.comparator);d=d.insert(c,fn.newNoDocument(c,Te.min()));const y=Be().add(c),g=new Ih(Te.min(),new Map,new _t(Pe),d,y);await OE(a,g),a.Ru=a.Ru.remove(c),a.Au.delete(e),cg(a)}else await Tm(a.localStore,e,!1).then((()=>Am(a,e,i))).catch(_o)}async function TC(s,e){const i=Ae(s),a=e.batch.batchId;try{const l=await NR(i.localStore,e);VE(i,a,null),ME(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,l)}catch(l){await _o(l)}}async function bC(s,e,i){const a=Ae(s);try{const l=await(function(d,y){const g=Ae(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return g.mutationQueue.lookupMutationBatch(_,y).next((A=>(We(A!==null,37113),S=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>g.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);VE(a,e,i),ME(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await iu(a,l)}catch(l){await _o(l)}}function ME(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function VE(s,e,i){const a=Ae(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Am(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||kE(s,a)}))}function kE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(ng(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),cg(s))}function lv(s,e,i){for(const a of i)a instanceof IE?(s.Vu.addReference(a.key,e),SC(s,a)):a instanceof NE?(ae(ug,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||kE(s,a.key)):_e(19791,{wu:a})}function SC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ae(ug,"New document in limbo: "+i),s.Eu.add(a),cg(s))}function cg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(yt.fromString(e)),a=s.fu.next();s.Au.set(a,new fC(i)),s.Ru=s.Ru.insert(i,a),EE(s.remoteStore,new lr(Pi(Ah(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function iu(s,e,i){const a=Ae(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){l.push(_);const S=eg.Es(g.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(g,_){const S=Ae(g);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Ts,(F=>S.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>X.forEach(M.Is,(F=>S.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!vo(A))throw A;ae(tg,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=S.vs.get(M),J=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(J);S.vs=S.vs.insert(M,se)}}})(a.localStore,c))}async function AC(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){ae(ug,"User change. New user:",e.toKey());const a=await pE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new he($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ns)}}function wC(s,e){const i=Ae(s),a=i.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let l=Be();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function UE(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EC.bind(null,e),e.Pu.J_=lC.bind(null,e.eventManager),e.Pu.yu=uC.bind(null,e.eventManager),e}function xC(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bC.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return IR(this.persistence,new xR,e.initialUser,this.serializer)}Cu(e){return new gE(Wm.Vi,this.serializer)}Du(e){return new UR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class RC extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){We(this.persistence.referenceDelegate instanceof fh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new hR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new gE((a=>fh.Vi(a,i)),this.serializer)}}class wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=AC.bind(null,this.syncEngine),await rC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oC})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),a=BR(e.databaseInfo);return KR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new YR(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new LR})())}createSyncEngine(e,i){return(function(l,c,d,y,g,_,S){const A=new dC(l,c,d,y,g,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ae(i);ae(ia,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class LE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class CC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=hn.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=og(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),ae(Er,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await pE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function uv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await IC(s);ae(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>iv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>iv(e.remoteStore,l))),s._onlineComponents=e}async function IC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(Er,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ao("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new mh)}}else ae(Er,"Using default OfflineComponentProvider"),await Jd(s,new RC(void 0));return s._offlineComponents}async function jE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(Er,"Using user provided OnlineComponentProvider"),await uv(s,s._uninitializedComponentsProvider._online)):(ae(Er,"Using default OnlineComponentProvider"),await uv(s,new wm))),s._onlineComponents}function NC(s){return jE(s).then((e=>e.syncEngine))}async function xm(s){const e=await jE(s),i=e.eventManager;return i.onListen=mC.bind(null,e.syncEngine),i.onUnlisten=yC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=gC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_C.bind(null,e.syncEngine),i}function DC(s,e,i,a){const l=new LE(a),c=new CE(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>xE(await xm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>RE(await xm(s),c)))}}function OC(s,e,i={}){const a=new dr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const S=new LE({next:M=>{S.Nu(),d.enqueueAndForget((()=>RE(c,A)));const F=M.docs.has(y);!F&&M.fromCache?_.reject(new he($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&g&&g.source==="server"?_.reject(new he($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new CE(Ah(y.path),S,{includeMetadataChanges:!0,Ka:!0});return xE(c,A)})(await xm(s),s.asyncQueue,e,i,a))),a.promise}function MC(s,e){const i=new dr;return s.asyncQueue.enqueueAndForget((async()=>vC(await NC(s),e,i))),i.promise}function zE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const VC="ComponentProvider",cv=new Map;function kC(s,e,i,a,l){return new ex(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,zE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const PE="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PE,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uR)throw new he($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Ow;switch(a.type){case"firstParty":return new Uw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(ae(VC,"Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function UC(s,e,i,a={}){s=di(s,hg);const l=mo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(kv(`https://${y}`),Uv("Firestore",!0)),c.host!==PE&&c.host!==y&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!mr(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=hn.MOCK_USER;else{_=eS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new he($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new hn(A)}s._authCredentials=new Mw(new R1(_,S))}}class Mh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class zt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Wl(i,zt._jsonSchema))return new zt(e,a||null,new ge(yt.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:jt("string",zt._jsonSchemaVersion),referencePath:jt("string")};class Hl extends Mh{constructor(e,i,a){super(e,i,Ah(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ge(e))}withConverter(e){return new Hl(this.firestore,e,this._path)}}function nn(s,e,...i){if(s=pn(s),arguments.length===1&&(e=Pm.newId()),qw("doc","path",e),s instanceof hg){const a=yt.fromString(e,...i);return x_(a),new zt(s,null,new ge(a))}{if(!(s instanceof zt||s instanceof Hl))throw new he($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yt.fromString(e,...i));return x_(a),new zt(s.firestore,s instanceof Hl?s.converter:null,new ge(a))}}const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _E(this,"async_queue_retry"),this._c=()=>{const a=Zd();a&&ae(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;ae(dv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ag.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function gv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class sa extends hg{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function LC(s,e){const i=typeof s=="object"?s:Pv(),a=typeof s=="string"?s:rh,l=Nm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Jb("firestore");c&&UC(l,...c)}return l}function fg(s){if(s._terminated)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jC(s),s._firestoreClient}function jC(s){const e=s._freezeSettings(),i=kC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new CC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(on.fromBase64String(e))}catch(i){throw new he($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Wn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:jt("string",Wn._jsonSchemaVersion),bytes:jt("string")};class dg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vh{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:jt("string",qi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new gi(e.vectorValues);throw new he($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:jt("string",gi._jsonSchemaVersion),vectorValues:jt("object")};const zC=/^__.*__$/;class PC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class BE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function qE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class kh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new kh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(qE(this.dataSource)&&zC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class BC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(e)}createContext(e,i,a,l=!1){return new kh({dataSource:e,methodName:i,targetDoc:a,path:an.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HE(s){const e=s._freezeSettings(),i=Nh(s._databaseId);return new BC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function qC(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);gg("Data must be an object, but it was:",d,a);const y=GE(a,d);let g,_;if(c.merge)g=new Ln(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const M=Gl(e,A,i);if(!d.contains(M))throw new he($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);QE(S,M)||S.push(M)}g=new Ln(S),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new PC(new xn(y),g,_)}class Uh extends Vh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function HC(s,e,i){return new kh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mg extends Vh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=HC(this,e,!0),a=this.Ac.map((c=>su(c,i))),l=new co(a);return new Ix(e.path,l)}isEqual(e){return e instanceof mg&&mr(this.Ac,e.Ac)}}function GC(s,e,i,a){const l=s.createContext(1,e,i);gg("Data must be an object, but it was:",l,a);const c=[],d=xn.empty();Tr(a,((g,_)=>{const S=KE(e,g,i);_=pn(_);const A=l.childContextForFieldPath(S);if(_ instanceof Uh)c.push(S);else{const M=su(_,A);M!=null&&(c.push(S),d.set(S,M))}}));const y=new Ln(c);return new BE(d,y,l.fieldTransforms)}function FC(s,e,i,a,l,c){const d=s.createContext(1,e,i),y=[Gl(e,a,i)],g=[l];if(c.length%2!=0)throw new he($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Gl(e,c[M])),g.push(c[M+1]);const _=[],S=xn.empty();for(let M=y.length-1;M>=0;--M)if(!QE(_,y[M])){const F=y[M];let J=g[M];J=pn(J);const se=d.childContextForFieldPath(F);if(J instanceof Uh)_.push(F);else{const ne=su(J,se);ne!=null&&(_.push(F),S.set(F,ne))}}const A=new Ln(_);return new BE(S,A,d.fieldTransforms)}function su(s,e){if(FE(s=pn(s)))return gg("Unsupported field value:",e,s),GE(s,e);if(s instanceof Vh)return(function(a,l){if(!qE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=su(y,l.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xx(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=mt.fromDate(a);return{timestampValue:hh(l.serializer,c)}}if(a instanceof mt){const c=new mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Wn)return{bytesValue:aE(l.serializer,a._byteString)};if(a instanceof zt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof gi)return(function(d,y){const g=d instanceof gi?d.toArray():d;return{mapValue:{fields:{[U1]:{stringValue:L1},[ah]:{arrayValue:{values:g.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return Qm(y.serializer,S)}))}}}}}})(a,l);if(dE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Bm(a)}`)})(s,e)}function GE(s,e){const i={};return N1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((a,l)=>{const c=su(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function FE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof qi||s instanceof Wn||s instanceof zt||s instanceof Vh||s instanceof gi||dE(s))}function gg(s,e,i){if(!FE(i)||!C1(i)){const a=Bm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Gl(s,e,i){if((e=pn(e))instanceof dg)return e._internalPath;if(typeof e=="string")return KE(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const KC=new RegExp("[~\\*/\\[\\]]");function KE(s,e,i){if(e.search(KC)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new dg(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new he($.INVALID_ARGUMENT,y+s+g)}function QE(s,e){return s.some((i=>i.isEqual(e)))}class QC{convertValue(e,i="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Tr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ah].arrayValue?.values?.map((a=>Ct(a.doubleValue)));return new gi(i)}convertGeoPoint(e){return new qi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const i=pr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=yt.fromString(e);We(fE(a),9688,{name:e});const l=new Pl(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return l.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class YE extends QC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function nr(...s){return new mg("arrayUnion",s)}const pv="@firebase/firestore",yv="4.10.0";function _v(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class XE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Gl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class YC extends XE{data(){return super.data()}}function XC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function $C(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Cl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends XE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Gl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:jt("string",Wr._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Yc extends Wr{data(e={}){return super.data(e)}}class so{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Yc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Yc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Cl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Yc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Cl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:ZC(y.type),doc:g,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:jt("string",so._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};function JC(s){s=di(s,zt);const e=di(s.firestore,sa),i=fg(e);return OC(i,s._key).then((a=>$E(e,s,a)))}function WC(s,e,i){s=di(s,zt);const a=di(s.firestore,sa),l=$C(s.converter,e),c=HE(a);return pg(a,[qC(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,mi.none())])}function An(s,e,i,...a){s=di(s,zt);const l=di(s.firestore,sa),c=HE(l);let d;return d=typeof(e=pn(e))=="string"||e instanceof dg?FC(c,"updateDoc",s._key,e,i,a):GC(c,"updateDoc",s._key,e),pg(l,[d.toMutation(s._key,mi.exists(!0))])}function vv(s){return pg(di(s.firestore,sa),[new Ym(s._key,mi.none())])}function Ev(s,...e){s=pn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_v(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_v(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof zt)d=di(s.firestore,sa),y=Ah(s._key.path),c={next:_=>{e[a]&&e[a]($E(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=di(s,Mh);d=di(_.firestore,sa),y=_._query;const S=new YE(d);c={next:A=>{e[a]&&e[a](new so(d,S,_,A))},error:e[a+1],complete:e[a+2]},XC(s._query)}const g=fg(d);return DC(g,y,l,c)}function pg(s,e){const i=fg(s);return MC(i,e)}function $E(s,e,i){const a=i.docs.get(e._key),l=new YE(s);return new Wr(s,l,e._key,a,new Cl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Dw(go),ro(new ea("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new sa(new Vw(a.getProvider("auth-internal")),new Lw(d,a.getProvider("app-check-internal")),tx(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),hr(pv,yv,e),hr(pv,yv,"esm2020")})();const ZE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const eI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const tI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Tv=s=>{const e=tI(s);return e.charAt(0).toUpperCase()+e.slice(1)};var nI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const sI=Xe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>Xe.createElement("svg",{ref:g,...nI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:ZE("lucide",l),...!c&&!iI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>Xe.createElement(_,S)),...Array.isArray(c)?c:[c]]));const ct=(s,e)=>{const i=Xe.forwardRef(({className:a,...l},c)=>Xe.createElement(sI,{ref:c,iconNode:e,className:ZE(`lucide-${eI(Tv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Tv(s),i};const rI=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],aI=ct("apple",rI);const oI=[["path",{d:"M4 13c3.5-2 8-2 10 2a5.5 5.5 0 0 1 8 5",key:"1cscit"}],["path",{d:"M5.15 17.89c5.52-1.52 8.65-6.89 7-12C11.55 4 11.5 2 13 2c3.22 0 5 5.5 5 8 0 6.5-4.2 12-10.49 12C5.11 22 2 22 2 20c0-1.5 1.14-1.55 3.15-2.11Z",key:"1y1nbv"}]],Fl=ct("banana",oI);const lI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bv=ct("book-open",lI);const uI=[["path",{d:"M2 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"cvxqlc"}],["path",{d:"M12 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"1ostrc"}],["path",{d:"M7 14c3.22-2.91 4.29-8.75 5-12 1.66 2.38 4.94 9 5 12",key:"hqx58h"}],["path",{d:"M22 9c-4.29 0-7.14-2.33-10-7 5.71 0 10 4.67 10 7Z",key:"eykp1o"}]],JE=ct("cherry",uI);const cI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ph=ct("circle-check-big",cI);const hI=[["path",{d:"M21.66 17.67a1.08 1.08 0 0 1-.04 1.6A12 12 0 0 1 4.73 2.38a1.1 1.1 0 0 1 1.61-.04z",key:"4ite01"}],["path",{d:"M19.65 15.66A8 8 0 0 1 8.35 4.34",key:"1gxipu"}],["path",{d:"m14 10-5.5 5.5",key:"92pfem"}],["path",{d:"M14 17.85V10H6.15",key:"xqmtsk"}]],fI=ct("citrus",hI);const dI=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],mI=ct("flower",dI);const gI=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],pI=ct("gem",gI);const yI=[["path",{d:"M22 5V2l-5.89 5.89",key:"1eenpo"}],["circle",{cx:"16.6",cy:"15.89",r:"3",key:"xjtalx"}],["circle",{cx:"8.11",cy:"7.4",r:"3",key:"u2fv6i"}],["circle",{cx:"12.35",cy:"11.65",r:"3",key:"i6i8g7"}],["circle",{cx:"13.91",cy:"5.85",r:"3",key:"6ye0dv"}],["circle",{cx:"18.15",cy:"10.09",r:"3",key:"snx9no"}],["circle",{cx:"6.56",cy:"13.2",r:"3",key:"17x4xg"}],["circle",{cx:"10.8",cy:"17.44",r:"3",key:"1hogw9"}],["circle",{cx:"5",cy:"19",r:"3",key:"1sn6vo"}]],_I=ct("grape",yI);const vI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],EI=ct("hammer",vI);const TI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],yg=ct("hand",TI);const bI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],SI=ct("history",bI);const AI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wI=ct("info",AI);const xI=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],RI=ct("leaf",xI);const CI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sv=ct("log-out",CI);const II=[["path",{d:"M12 4V2",key:"1k5q1u"}],["path",{d:"M5 10v4a7.004 7.004 0 0 0 5.277 6.787c.412.104.802.292 1.102.592L12 22l.621-.621c.3-.3.69-.488 1.102-.592A7.003 7.003 0 0 0 19 14v-4",key:"1tgyif"}],["path",{d:"M12 4C8 4 4.5 6 4 8c-.243.97-.919 1.952-2 3 1.31-.082 1.972-.29 3-1 .54.92.982 1.356 2 2 1.452-.647 1.954-1.098 2.5-2 .595.995 1.151 1.427 2.5 2 1.31-.621 1.862-1.058 2.5-2 .629.977 1.162 1.423 2.5 2 1.209-.548 1.68-.967 2-2 1.032.916 1.683 1.157 3 1-1.297-1.036-1.758-2.03-2-3-.5-2-4-4-8-4Z",key:"tnsqj"}]],NI=ct("nut",II);const DI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],WE=ct("play",DI);const OI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],MI=ct("shield-check",OI);const VI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],eT=ct("skull",VI);const kI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Av=ct("sparkles",kI);const UI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],LI=ct("sun",UI);const jI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tT=ct("trash-2",jI);const zI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nT=ct("triangle-alert",zI);const PI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],wv=ct("trophy",PI);const BI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kl=ct("user",BI);const qI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_g=ct("x",qI),HI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c447da22d85544e16aa637"},iT=zv(HI),Wd=Iw(iT),sn=LC(iT),cn=typeof __app_id<"u"?__app_id:"fructose-fury-game",GI="20",Es={CHERRY:{name:"Strawberry",val:1,count:11,color:"text-red-400",bg:"bg-red-900/50",border:"border-red-500",icon:JE},CITRUS:{name:"Tangerine",val:2,count:11,color:"text-orange-400",bg:"bg-orange-900/50",border:"border-orange-500",icon:fI},APPLE:{name:"Peach",val:3,count:11,color:"text-pink-400",bg:"bg-pink-900/50",border:"border-pink-500",icon:aI},GRAPE:{name:"Grape",val:4,count:11,color:"text-purple-400",bg:"bg-purple-900/50",border:"border-purple-500",icon:_I},BANANA:{name:"Banana",val:5,count:11,color:"text-yellow-400",bg:"bg-yellow-900/50",border:"border-yellow-500",icon:Fl},NUT:{name:"Coconut",val:6,count:7,color:"text-stone-400",bg:"bg-stone-800/80",border:"border-stone-500",icon:NI},LEAF:{name:"Pear",val:7,count:7,color:"text-lime-400",bg:"bg-lime-900/50",border:"border-lime-500",icon:RI},FLOWER:{name:"Dragonfruit",val:8,count:7,color:"text-fuchsia-400",bg:"bg-fuchsia-900/50",border:"border-fuchsia-500",icon:mI},SUN:{name:"Melon",val:9,count:7,color:"text-amber-300",bg:"bg-amber-900/50",border:"border-amber-500",icon:LI},GEM:{name:"Pineapple",val:10,count:7,color:"text-cyan-300",bg:"bg-cyan-900/50",border:"border-cyan-500",icon:pI}},Xc=[];Object.keys(Es).forEach(s=>{const e=Es[s].count;for(let i=0;i<e;i++)Xc.push(s)});const xv=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(Fl,{size:12,className:"text-yellow-400"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-yellow-400 uppercase",children:"FRUCTOSE FURY"})]}),FI=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(Fl,{size:20,className:"text-yellow-400"}),T.jsx("span",{className:"text-[20px] font-black tracking-widest text-yellow-400 uppercase",children:"FRUCTOSE FURY"})]}),em=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},ir=s=>!s||!Array.isArray(s)?0:s.reduce((e,i)=>e+(Es[i]?.val||0),0),tm=({isShaking:s})=>T.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(Es),l=Es[a[i%a.length]].icon;return T.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:T.jsx(l,{size:32})},i)})}),T.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),fs=({type:s,size:e="md",animate:i=!1})=>{const a=Es[s];if(!a)return T.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded-lg"});const l=e==="sm"?"w-10 h-14 md:w-12 md:h-16 p-1":e==="lg"?"w-32 h-48 p-4":"w-20 h-28 md:w-24 md:h-32 p-2",c=a.icon;return T.jsxs("div",{className:`
      ${l} rounded-xl border-2 ${a.bg} ${a.border} 
      flex flex-col items-center justify-center shadow-lg relative overflow-hidden
      ${i?"animate-in zoom-in duration-300":""}
    `,children:[T.jsx("div",{className:"absolute -right-2 -top-2 opacity-20 rotate-12",children:T.jsx(c,{size:e==="lg"?80:40})}),T.jsx(c,{className:`${a.color} drop-shadow-md z-10`,size:e==="sm"?20:e==="lg"?64:32}),e!=="sm"&&T.jsx("span",{className:"font-bold uppercase tracking-wider text-[10px] md:text-xs mt-2 text-white/90 z-10 text-center leading-none",children:a.name}),T.jsx("div",{className:"absolute bottom-1 right-1 bg-black/50 px-1 rounded text-white/80 text-[10px] md:text-xs font-mono font-bold",children:a.val})]})},KI=({event:s,currentUserId:e})=>{if(!s||s.type==="STEAL"&&s.targetIds&&s.targetIds.includes(e)||s.type==="STEAL"&&s.thiefId===e||s.type==="BANK"&&s.playerId===e)return null;let i=wI,a="text-white",l="bg-gray-800";return s.type==="BUST"?(i=eT,a="text-red-500",l="bg-red-900/90"):s.type==="STEAL"?(i=yg,a="text-orange-500",l="bg-orange-900/90"):s.type==="BANK"&&(i=ph,a="text-green-500",l="bg-green-900/90"),T.jsx("div",{className:"fixed inset-0 pointer-events-none z-200 flex items-center justify-center p-4",children:T.jsxs("div",{className:`p-6 md:p-8 rounded-3xl ${l} border-4 border-white/20 shadow-2xl flex flex-col items-center animate-in zoom-in fade-in duration-300 transform scale-110 max-w-sm w-full text-center`,children:[T.jsx(i,{size:48,className:`${a} mb-4 animate-bounce`}),T.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white uppercase drop-shadow-lg",children:s.title}),T.jsx("p",{className:"text-lg md:text-xl text-white/90 font-bold mt-2",children:s.message})]})})},QI=({event:s,onClose:e})=>(Xe.useEffect(()=>{const i=setTimeout(e,2500);return()=>clearTimeout(i)},[e]),T.jsx("div",{className:"fixed inset-0 z-210 flex items-center justify-center pointer-events-none animate-in fade-in zoom-in slide-in-from-top-5",children:T.jsxs("div",{className:"bg-red-950/90 border-2 border-red-500 p-4 rounded-2xl max-w-xs w-full text-center shadow-2xl backdrop-blur-md",children:[T.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[T.jsx(nT,{size:32,className:"text-red-500 animate-pulse"}),T.jsx("h2",{className:"text-2xl font-black text-white uppercase",children:"ROBBED!"})]}),T.jsx("p",{className:"text-red-200 text-sm mb-4 font-bold",children:s.message||"Someone stole your fruits!"}),s.cardType&&T.jsxs("div",{className:"flex flex-col items-center gap-1 mb-2",children:[T.jsx("span",{className:"text-[10px] uppercase font-bold text-red-300 tracking-widest",children:"Stolen Fruit"}),T.jsx("div",{className:"transform scale-90",children:T.jsx(fs,{type:s.cardType,size:"md"})})]})]})})),YI=({data:s,onClose:e})=>(Xe.useEffect(()=>{const i=setTimeout(e,2500);return()=>clearTimeout(i)},[e]),T.jsx("div",{className:"fixed inset-0 z-210 flex items-center justify-center pointer-events-none animate-in fade-in zoom-in slide-in-from-top-5",children:T.jsxs("div",{className:"bg-green-950/90 border-2 border-green-500 p-4 rounded-2xl max-w-xs w-full text-center shadow-2xl backdrop-blur-md",children:[T.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[T.jsx(MI,{size:32,className:"text-green-400 animate-bounce"}),T.jsx("h2",{className:"text-2xl font-black text-white uppercase",children:"SECURED!"})]}),T.jsxs("p",{className:"text-green-100 text-sm mb-3 font-bold",children:["You secured"," ",T.jsx("span",{className:"text-yellow-300 text-xl font-black",children:s.amount})," ","points!"]}),s.cards&&s.cards.length>0&&T.jsx("div",{className:"flex flex-wrap justify-center gap-1 opacity-90 max-h-24 overflow-hidden",children:s.cards.map((i,a)=>T.jsx("div",{className:"transform scale-75",children:T.jsx(fs,{type:i,size:"sm"})},a))})]})})),XI=({targets:s,fruitType:e,onSteal:i,onPass:a})=>T.jsx("div",{className:"fixed inset-0 bg-black/90 z-100 flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:"bg-gray-800 rounded-2xl border-4 border-yellow-500 p-4 md:p-6 max-w-md w-full text-center shadow-[0_0_50px_rgba(234,179,8,0.3)] relative overflow-hidden flex flex-col max-h-[90vh]",children:[T.jsx("div",{className:"absolute inset-0 bg-yellow-500/10 animate-pulse pointer-events-none"}),T.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[T.jsx("h3",{className:"text-2xl md:text-3xl font-black text-white mb-2 uppercase italic transform -rotate-2",children:"Sweet Opportunity!"}),T.jsxs("p",{className:"text-gray-300 mb-4 text-sm md:text-base",children:["You drew a"," ",T.jsx("strong",{className:"text-yellow-400",children:Es[e].name}),"! The following players have them ripe for the taking:"]}),T.jsx("div",{className:"flex justify-center mb-4 shrink-0",children:T.jsx(fs,{type:e,size:"lg",animate:!0})}),T.jsx("div",{className:"bg-black/40 rounded-xl p-3 mb-4 overflow-y-auto border border-gray-700 flex-1 min-h-0",children:s.map((l,c)=>T.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700 last:border-0",children:[T.jsxs("span",{className:"font-bold text-white flex items-center gap-2",children:[T.jsx(kl,{size:16,className:"text-gray-400"})," ",l.name]}),T.jsxs("span",{className:"bg-yellow-900/50 text-yellow-200 px-2 py-1 rounded text-xs font-mono border border-yellow-500/30",children:["Has ",l.count]})]},c))}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-auto",children:[T.jsx("button",{onClick:a,className:"bg-gray-700 hover:bg-gray-600 text-gray-300 py-3 rounded-xl font-bold transition-all text-sm md:text-base",children:"Pass"}),T.jsxs("button",{onClick:i,className:"bg-linear-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 text-white py-3 rounded-xl font-black text-sm md:text-xl shadow-lg transform hover:scale-105 transition-all flex items-center justify-center gap-2",children:[T.jsx(yg,{size:18})," STEAL ALL!"]})]})]})]})}),Rv=({onConfirm:s,onCancel:e,isHost:i,onReturnToLobby:a})=>T.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Harvest?"}),T.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Leaving now will forfeit your gathered fruits."}),T.jsxs("div",{className:"flex flex-col gap-3",children:[i&&a&&T.jsx("button",{onClick:a,className:"w-full bg-orange-700 hover:bg-orange-600 text-white py-3 rounded font-bold transition-colors border border-orange-500 shadow-lg mb-2",children:"Return Group to Lobby"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsx("button",{onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),T.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors",children:"Leave"})]})]})]})}),$I=({players:s,destroyedCards:e,onClose:i})=>T.jsx("div",{className:"fixed inset-0 z-250 bg-black/95 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-300",children:T.jsxs("div",{className:"bg-gray-900 border-2 border-yellow-600 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl overflow-hidden relative",children:[T.jsxs("div",{className:"p-6 bg-gray-950 border-b border-gray-800 flex justify-between items-center shrink-0",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-black text-transparent bg-clip-text bg-linear-to-r from-yellow-400 to-orange-500 uppercase italic",children:"Harvest Report"}),T.jsx("p",{className:"text-gray-400 text-sm font-bold",children:"All cards collected and destroyed"})]}),T.jsx("button",{onClick:i,className:"bg-gray-800 hover:bg-gray-700 text-white p-3 rounded-full transition-colors",children:T.jsx(_g,{size:24})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[T.jsxs("div",{className:"bg-red-950/30 rounded-2xl p-4 border border-red-900/50",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4 text-red-400",children:[T.jsx(tT,{size:24}),T.jsx("h3",{className:"text-xl font-bold uppercase",children:"Rotten Fruit (Destroyed)"}),T.jsxs("span",{className:"bg-red-900/50 px-2 py-0.5 rounded text-xs text-red-200",children:[e?.length||0," Cards"]})]}),!e||e.length===0?T.jsx("p",{className:"text-gray-500 italic text-sm",children:"No fruits were harmed in this game."}):T.jsx("div",{className:"flex flex-wrap gap-2",children:e.sort().map((a,l)=>T.jsx("div",{className:"transform scale-75 origin-top-left -mr-4 -mb-4",children:T.jsx(fs,{type:a,size:"sm"})},l))})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(a=>T.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-4 border border-gray-700",children:[T.jsxs("div",{className:"flex justify-between items-center mb-3",children:[T.jsxs("span",{className:"font-bold text-yellow-500 text-lg flex items-center gap-2",children:[T.jsx(kl,{size:18})," ",a.name]}),T.jsxs("span",{className:"text-white font-mono font-bold bg-gray-900 px-2 py-1 rounded",children:["Score: ",ir(a.bank)]})]}),T.jsx("div",{className:"flex flex-wrap gap-1 min-h-[60px] content-start bg-black/20 p-2 rounded-xl",children:a.bank&&a.bank.length>0?a.bank.sort().map((l,c)=>T.jsx("div",{className:"transform scale-75 origin-top-left -mr-3 -mb-3",children:T.jsx(fs,{type:l,size:"sm"})},c)):T.jsx("span",{className:"text-gray-600 text-xs italic w-full text-center py-2",children:"Empty Basket"})})]},a.id))})]}),T.jsx("div",{className:"p-4 bg-gray-950 border-t border-gray-800 shrink-0 flex justify-center",children:T.jsx("button",{onClick:i,className:"bg-yellow-600 hover:bg-yellow-500 text-black font-black text-xl py-3 px-12 rounded-xl shadow-lg hover:scale-105 transition-transform",children:"SEE WINNER"})})]})}),Cv=({onClose:s})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-150 flex items-center justify-center p-0 md:p-4",children:T.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-3xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border border-yellow-500/30 flex flex-col",children:[T.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[T.jsx("h2",{className:"text-2xl font-black text-transparent bg-clip-text bg-linear-to-r from-yellow-400 to-orange-500 uppercase italic",children:"Farming Guide"}),T.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:T.jsx(_g,{})})]}),T.jsxs("div",{className:"p-6 overflow-y-auto space-y-6 text-gray-300",children:[T.jsxs("div",{className:"flex gap-4 items-start",children:[T.jsx("div",{className:"bg-yellow-500/20 p-3 rounded-lg text-yellow-500",children:T.jsx(WE,{size:24})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-white text-lg",children:"1. Push Your Luck"}),T.jsxs("p",{className:"text-sm",children:["Draw fruits from the deck. They enter your"," ",T.jsx("strong",{className:"text-red-400",children:"Risk Zone"}),"."]})]})]}),T.jsxs("div",{className:"flex gap-4 items-start",children:[T.jsx("div",{className:"bg-red-500/20 p-3 rounded-lg text-red-500",children:T.jsx(eT,{size:24})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-white text-lg",children:"2. The Bust Rule"}),T.jsxs("p",{className:"text-sm",children:["You are safe if you have ",T.jsx("strong",{children:"3 or fewer cards"})," in your Risk Zone.",T.jsx("br",{}),T.jsx("strong",{children:"Only if you have 3+ cards:"})," Drawing a fruit that matches one ",T.jsx("em",{children:"already"})," in your Risk Zone causes a"," ",T.jsx("strong",{children:"BUST"}),"! All fruits from this turn are lost.",T.jsx("br",{}),T.jsx("em",{children:"Note: Stealing does NOT cause a Bust, but having 3+ cards after stealing puts you in danger for your NEXT draw!"})]})]})]}),T.jsxs("div",{className:"flex gap-4 items-start",children:[T.jsx("div",{className:"bg-orange-500/20 p-3 rounded-lg text-orange-500",children:T.jsx(yg,{size:24})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-white text-lg",children:"3. Steal!"}),T.jsxs("p",{className:"text-sm",children:["If you draw a fruit that an opponent has in their"," ",T.jsx("strong",{className:"text-orange-400",children:"Danger Zone"})," (Table), you can ",T.jsx("strong",{children:"STEAL"})," them! They are added to your Risk Zone. Watch out: this increases your card count, making a Bust more likely on your next draw!"]})]})]}),T.jsxs("div",{className:"flex gap-4 items-start",children:[T.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-500",children:T.jsx(ph,{size:24})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-white text-lg",children:"4. Bank & Win"}),T.jsxs("p",{className:"text-sm",children:["Stop before busting to move fruits to your"," ",T.jsx("strong",{children:"Danger Zone"}),". At the start of your ",T.jsx("em",{children:"next"})," ","turn, they move to your ",T.jsx("strong",{children:"Safe Zone"}),".",T.jsx("br",{}),T.jsx("br",{}),T.jsx("strong",{children:"Winning:"})," The player with the highest total"," ",T.jsx("strong",{children:"VALUE"})," (not count) of banked fruits wins!"]})]})]})]}),T.jsx("div",{className:"p-4 bg-gray-900 border-t border-gray-800 text-center",children:T.jsx("button",{onClick:s,className:"bg-yellow-600 hover:bg-yellow-500 text-white px-8 py-3 rounded-lg font-bold",children:"Got it!"})})]})});function ZI(){const[s,e]=Xe.useState(null),[i,a]=Xe.useState("menu"),[l,c]=Xe.useState(""),[d,y]=Xe.useState(""),[g,_]=Xe.useState(null),[S,A]=Xe.useState(""),[M,F]=Xe.useState(!1),[J,se]=Xe.useState(!1),[ne,me]=Xe.useState(!1),[we,ye]=Xe.useState(!1),[Je,ht]=Xe.useState(!1),[Ve,I]=Xe.useState(null),[w,C]=Xe.useState(!1),[V,N]=Xe.useState(null),[U,x]=Xe.useState(null),[Ge,St]=Xe.useState(()=>localStorage.getItem("gameHub_playerName")||"");Xe.useEffect(()=>{Ge&&localStorage.setItem("gameHub_playerName",Ge)},[Ge]);const H=Xe.useRef(null);Xe.useEffect(()=>{const ie=localStorage.getItem("fructose_room_id");ie&&c(ie)},[]),Xe.useEffect(()=>{g?.status==="finished"&&C(!0)},[g?.status]),Xe.useEffect(()=>{l?localStorage.setItem("fructose_room_id",l):localStorage.removeItem("fructose_room_id")},[l]),Xe.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await g2(Wd,__initial_auth_token):await c2(Wd))();const W=_2(Wd,e);return()=>W()},[]),Xe.useEffect(()=>{const ie=Ev(nn(sn,"game_hub_settings","config"),W=>{W.exists()&&(W.data()[GI]?.maintenance?se(!0):se(!1))});return()=>ie()},[]),Xe.useEffect(()=>{if(!l||!s)return;const ie=Ev(nn(sn,"artifacts",cn,"public","data","rooms",l),W=>{if(W.exists()){const oe=W.data();if(!oe.players.find(De=>De.id===s.uid)){c(""),a("menu"),A("You were kicked by the host."),localStorage.removeItem("fructose_room_id");return}_(oe),oe.status==="playing"||oe.status==="finished"?a("game"):oe.status==="lobby"&&a("lobby"),oe.lastEvent&&oe.lastEvent.id!==H.current&&(oe.lastEvent.timestamp||Date.now())>Date.now()-1e4&&(H.current=oe.lastEvent.id,I(oe.lastEvent),oe.lastEvent.type==="STEAL"&&oe.lastEvent.targetIds&&oe.lastEvent.targetIds.includes(s.uid)&&x(oe.lastEvent),oe.lastEvent.type==="BANK"&&oe.lastEvent.playerId===s.uid&&N({amount:oe.lastEvent.amount,cards:oe.lastEvent.cards}),setTimeout(()=>I(null),3e3))}else c(""),a("menu"),A("The Fruit Stand has closed (Host left)."),localStorage.removeItem("fructose_room_id")});return()=>ie()},[l,s]);const ee=async()=>{if(!Ge)return A("Name required");F(!0);const ie=Math.random().toString(36).substring(2,7).toUpperCase(),W=em([...Xc]),oe={roomId:ie,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:Ge,hand:[],table:[],bank:[],ready:!1}],deck:W,turnIndex:0,turnPhase:"IDLE",stealTargetIds:[],destroyedCards:[],drawnCard:null,lastEvent:null,logs:[]};await WC(nn(sn,"artifacts",cn,"public","data","rooms",ie),oe),c(ie),y(ie),F(!1)},fe=async()=>{if(!d||!Ge)return A("Code and Name required");F(!0);const ie=nn(sn,"artifacts",cn,"public","data","rooms",d),W=await JC(ie);if(!W.exists()){A("Room not found"),F(!1);return}const oe=W.data();if(oe.status!=="lobby"){A("Game already started"),F(!1);return}if(oe.players.length>=6){A("Room full"),F(!1);return}oe.players.find(Ne=>Ne.id===s.uid)||await An(ie,{players:nr({id:s.uid,name:Ge,hand:[],table:[],bank:[],ready:!1})}),c(d),F(!1)},ke=async()=>{if(g.hostId!==s.uid)return;const ie=em([...Xc]),W=g.players.map(Ne=>({...Ne,ready:!1,hand:[],table:[],bank:[]})),oe=Math.floor(Math.random()*W.length);await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{status:"playing",players:W,deck:ie,turnIndex:oe,turnPhase:"DRAWING",logs:[{text:"The Harvest Begins! Draw fruits without busting.",type:"neutral"}],stealTargetIds:[],destroyedCards:[],drawnCard:null,lastEvent:null})},Ke=async()=>{if(g.hostId!==s.uid)return;const ie=g.players.map(W=>({...W,hand:[],table:[],bank:[],ready:!1}));await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{status:"lobby",players:ie,deck:em([...Xc]),logs:[],turnIndex:0,destroyedCards:[]}),ye(!1)},O=async()=>{if(!l)return;localStorage.removeItem("fructose_room_id");const ie=nn(sn,"artifacts",cn,"public","data","rooms",l);if(g.hostId===s.uid)await vv(ie);else if(g.players.length<=1)await vv(ie);else{const W=g.players.findIndex(ot=>ot.id===s.uid),oe=g.players.filter(ot=>ot.id!==s.uid);let Ne=g.turnIndex,De=!1;W<g.turnIndex?Ne=Math.max(0,g.turnIndex-1):W===g.turnIndex&&(De=!0),oe.length>0?Ne>=oe.length&&(Ne=0):Ne=0;let qe=g.status;g.status==="playing"&&oe.length<2&&(qe="finished");const Et={players:oe,status:qe,turnIndex:Ne,logs:nr({text:`${Ge} left the game.`,type:"danger"})};De&&(Et.turnPhase="DRAWING",Et.drawnCard=null,Et.stealTargetIds=[]),await An(ie,Et)}c(""),a("menu"),ye(!1)},Q=async(ie,W,oe=[],Ne=null)=>{let De=(g.turnIndex+1)%ie.length;const qe=ie[De];let Et=null;if(qe.table.length>0){const ot=ir(qe.table),Pt=[...qe.table];qe.bank=[...qe.bank||[],...qe.table],qe.table=[],oe.push({text:`${qe.name} banked ${ot} points!`,type:"success"}),Et={id:Date.now(),timestamp:Date.now(),type:"BANK",playerId:qe.id,amount:ot,cards:Pt,title:"SECURED!",message:`${qe.name} banked ${ot} points!`}}await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{players:ie,deck:W,turnIndex:De,turnPhase:"DRAWING",drawnCard:null,stealTargetIds:[],lastEvent:Ne||Et||null,logs:nr(...oe)})},te=(ie,W)=>ie.length<3?!1:ie.includes(W),re=ie=>ie.map(W=>({...W,bank:[...W.bank,...W.table,...W.hand],table:[],hand:[]})),ve=async()=>{if(g.deck.length===0)return;const ie=[...g.players],W=[...g.deck],oe=ie[g.turnIndex],Ne=W.pop();if(te(oe.hand,Ne)){const qe=[...oe.hand,Ne],ot=[...g.destroyedCards||[],...qe],Pt={id:Date.now(),timestamp:Date.now(),type:"BUST",title:"BUSTED!",message:`${oe.name} got greedy!`},ce=[{text:`${oe.name} drew ${Es[Ne].name} and BUSTED!`,type:"danger"}];if(W.length===0){oe.hand=[];const Yt=re(ie);await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{players:Yt,deck:W,status:"finished",lastEvent:Pt,destroyedCards:ot,logs:nr(...ce,{text:"Deck Empty on a Bust! Game Over!",type:"neutral"}),drawnCard:Ne,turnPhase:"BUSTED"});return}await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{players:ie,deck:W,lastEvent:Pt,destroyedCards:ot,logs:nr(...ce),drawnCard:Ne,turnPhase:"BUSTED"});const Ie=JSON.parse(JSON.stringify(ie));Ie[g.turnIndex].hand=[],setTimeout(()=>Q(Ie,W,[],null),2500);return}const De=[];for(let qe of ie)qe.id!==oe.id&&qe.table.includes(Ne)&&De.push(qe.id);if(De.length>0)await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{deck:W,drawnCard:Ne,turnPhase:"STEALING",stealTargetIds:De});else if(oe.hand.push(Ne),W.length===0){const qe=re(ie);await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{players:qe,deck:W,status:"finished",logs:nr({text:"Deck Empty! Game Over!",type:"neutral"})})}else await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{players:ie,deck:W})},be=async ie=>{const W=[...g.players],oe=g.turnIndex,Ne=W[oe],De=g.drawnCard,qe=[];let Et=null;if(Ne.hand.push(De),ie){let ot=0;const Pt=[],ce=[];g.stealTargetIds.forEach(Ie=>{const Yt=W.findIndex(Rn=>Rn.id===Ie);if(Yt===-1)return;const jn=W[Yt],bs=jn.table.filter(Rn=>Rn===De),Xt=jn.table.filter(Rn=>Rn!==De);bs.length>0&&(jn.table=Xt,Ne.hand=[...Ne.hand,...bs],ot+=bs.length,Pt.push(jn.name),ce.push(Ie))}),qe.push({text:`${Ne.name} stole ${ot} ${Es[De].name}(s) from ${Pt.join(", ")}!`,type:"warning"}),Et={id:Date.now(),timestamp:Date.now(),type:"STEAL",title:"THIEF!",message:`${Ne.name} stole ${ot} fruits from ${Pt.join(", ")}!`,targetIds:ce,thiefId:Ne.id,cardType:De}}else qe.push({text:`${Ne.name} passed on stealing.`,type:"neutral"});if(g.deck.length===0){const ot=re(W);await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{players:ot,status:"finished",logs:nr(...qe,{text:"Deck Empty! Game Over!",type:"neutral"})})}else await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{players:W,turnPhase:"DRAWING",stealTargetIds:[],drawnCard:null,lastEvent:Et,logs:nr(...qe)})},Ue=async()=>{const ie=[...g.players],W=ie[g.turnIndex];W.hand.length,W.table=[...W.table,...W.hand],W.hand=[];const oe=[{text:`${W.name} stopped safely.`,type:"neutral"}];await Q(ie,g.deck,oe)},vt=async()=>{if(!l)return;const ie=[...g.players],W=ie.findIndex(oe=>oe.id===s.uid);ie[W].ready=!ie[W].ready,await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{players:ie})},ut=async ie=>{const W=g.players.filter(oe=>oe.id!==ie);await An(nn(sn,"artifacts",cn,"public","data","rooms",l),{players:W})};if(J)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(EI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"The farmers are tending to the trees. Come back later for fresh fruit."})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(Av,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(Av,{size:16})]})})})})]});if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[T.jsx(tm,{}),T.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700 relative",children:[T.jsxs("div",{className:"flex justify-center gap-2 mb-4 animate-bounce",children:[T.jsx(Fl,{size:48,className:"text-yellow-400"}),T.jsx(JE,{size:48,className:"text-red-500"})]}),T.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-r from-yellow-400 via-orange-500 to-red-500 font-serif tracking-tight drop-shadow-xl italic transform -rotate-2",children:"FRUCTOSE FURY"}),T.jsx("p",{className:"text-white/60 tracking-[0.5em] uppercase mt-4 text-sm font-bold",children:"Juicy Risks & Sweet Rewards"})]}),T.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-yellow-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[S&&T.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:S}),T.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded-xl mb-4 text-white placeholder-gray-500 focus:border-yellow-500 outline-none transition-colors",placeholder:"Farmer Name",value:Ge,onChange:ie=>St(ie.target.value)}),T.jsxs("button",{onClick:ee,disabled:M,className:"w-full bg-linear-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 p-4 rounded-xl font-bold mb-4 flex items-center justify-center gap-2 shadow-lg transform hover:scale-105 transition-all text-white",children:[T.jsx(WE,{size:20,fill:"currentColor"})," Open New Stand"]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[T.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded-xl text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-yellow-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:ie=>y(ie.target.value.toUpperCase())}),T.jsx("button",{onClick:fe,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded-xl font-bold transition-colors",children:"Join"})]}),T.jsxs("button",{onClick:()=>me(!0),className:"w-full text-center text-gray-400 hover:text-white text-sm flex items-center justify-center gap-2",children:[T.jsx(bv,{size:14})," Farming Guide"]})]}),ne&&T.jsx(Cv,{onClose:()=>me(!1)}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Fruit Fight. A tribute game.",T.jsx("br",{}),"Developed by ",T.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-yellow-500 underline hover:text-yellow-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const ie=g.hostId===s.uid;return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[T.jsx(tm,{}),T.jsx(FI,{}),T.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-orange-500/30 shadow-2xl",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-800",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl text-yellow-500 font-bold uppercase tracking-wider",children:"Fruit Stand"}),T.jsx("div",{className:"text-3xl font-mono text-white font-black tracking-widest",children:g.roomId})]}),T.jsx("button",{onClick:()=>ye(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded-full text-red-400 transition-colors",children:T.jsx(Sv,{size:20})})]}),T.jsxs("div",{className:"space-y-3 mb-8",children:[g.players.map(W=>T.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-3 rounded-xl border border-gray-700",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`p-2 rounded-full ${W.ready?"bg-green-500 text-black":"bg-gray-700 text-gray-400"}`,children:T.jsx(kl,{size:18})}),T.jsx("span",{className:`font-bold ${W.id===s.uid?"text-yellow-400":"text-gray-300"}`,children:W.name})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[W.ready&&T.jsx("span",{className:"text-green-500 text-xs font-bold uppercase tracking-wider",children:"Ready"}),ie&&W.id!==s.uid&&T.jsx("button",{onClick:()=>ut(W.id),className:"text-gray-600 hover:text-red-500",children:T.jsx(tT,{size:16})})]})]},W.id)),g.players.length<2&&T.jsx("div",{className:"text-center text-gray-500 py-4 italic",children:"Waiting for more farmers..."})]}),ie?T.jsx("button",{onClick:ke,disabled:g.players.length<2,className:`w-full py-4 rounded-xl font-black text-xl uppercase tracking-widest shadow-lg transition-all ${g.players.length>=2?"bg-green-600 hover:bg-green-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:"Start Harvest"}):T.jsx("div",{className:"w-full py-4 rounded-xl font-bold text-xl text-center text-gray-500 bg-gray-800/50 border border-gray-700 animate-pulse",children:"Waiting for Host to Start..."})]}),we&&T.jsx(Rv,{onConfirm:O,onCancel:()=>ye(!1),isHost:ie}),T.jsx(xv,{})]})}if(i==="game"&&g){const ie=g.players.find(ce=>ce.id===s.uid);if(!ie)return T.jsx("div",{className:"text-white text-center mt-20",children:"Syncing game data..."});const W=g.players[g.turnIndex];if(!W)return T.jsx("div",{className:"text-white text-center mt-20",children:"Syncing turn data..."});const oe=W.id===s.uid,Ne=g.players.filter(ce=>ce.id!==s.uid),De=g.turnPhase==="STEALING",qe=Ve&&Ve.type==="BUST";let Et=[];De&&g.stealTargetIds&&(Et=g.stealTargetIds.map(ce=>{const Ie=g.players.find(jn=>jn.id===ce);if(!Ie)return null;const Yt=Ie.table.filter(jn=>jn===g.drawnCard).length;return{name:Ie.name,count:Yt}}).filter(ce=>ce!==null));let ot=null;g.status==="finished"&&(ot=[...g.players].sort((ce,Ie)=>ir(Ie.bank)-ir(ce.bank))[0]);const Pt=g.players.every(ce=>ce.id===g.hostId||ce.ready);return T.jsxs("div",{className:`h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden transition-colors duration-100 ${qe?"animate-shake bg-red-900!":""}`,children:[T.jsx(tm,{}),T.jsx(KI,{event:Ve,currentUserId:s.uid}),U&&T.jsx(QI,{event:U,onClose:()=>x(null)}),V!==null&&T.jsx(YI,{data:V,onClose:()=>N(null)}),T.jsxs("div",{className:"h-14 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-4 z-160 sticky top-0 backdrop-blur-md shrink-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Fl,{className:"text-yellow-500",size:20}),T.jsx("span",{className:"font-black uppercase tracking-tight text-lg hidden md:block",children:"Fructose Fury"})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>me(!0),className:"p-2 text-gray-400 hover:bg-gray-800 rounded-full",children:T.jsx(bv,{size:20})}),T.jsx("button",{onClick:()=>ht(!Je),className:`p-2 rounded-full ${Je?"bg-yellow-900 text-yellow-400":"text-gray-400 hover:bg-gray-800"}`,children:T.jsx(SI,{size:20})}),T.jsx("button",{onClick:()=>ye(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full",children:T.jsx(Sv,{size:20})})]})]}),De&&oe&&T.jsx(XI,{targets:Et,fruitType:g.drawnCard,onSteal:()=>be(!0),onPass:()=>be(!1)}),ne&&T.jsx(Cv,{onClose:()=>me(!1)}),we&&T.jsx(Rv,{onConfirm:O,onCancel:()=>ye(!1),isHost:g.hostId===s.uid,onReturnToLobby:Ke}),Je&&T.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:T.jsxs("div",{className:"bg-gray-900 w-full max-w-md h-[70vh] rounded-2xl flex flex-col border border-gray-700",children:[T.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[T.jsx("h3",{className:"font-bold",children:"Log"}),T.jsx("button",{onClick:()=>ht(!1),children:T.jsx(_g,{})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...g.logs].reverse().map((ce,Ie)=>T.jsx("div",{className:`p-2 rounded text-sm border-l-2 ${ce.type==="danger"?"border-red-500 bg-red-900/20":ce.type==="warning"?"border-orange-500 bg-orange-900/20":"border-gray-500 bg-gray-800"}`,children:ce.text},Ie))})]})}),w&&T.jsx($I,{players:g.players,destroyedCards:g.destroyedCards||[],onClose:()=>C(!1)}),g.status==="finished"&&T.jsxs("div",{className:"fixed inset-0 top-14 z-150 bg-black/95 flex flex-col items-center justify-center p-6 text-center animate-in zoom-in overflow-y-auto",children:[T.jsx(wv,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),T.jsx("h1",{className:"text-5xl font-black text-white mb-2 uppercase",children:"Harvest Complete!"}),T.jsxs("p",{className:"text-2xl text-gray-300 mb-8",children:["The Master Farmer is"," ",T.jsx("span",{className:"text-yellow-400 font-bold",children:ot?.name})," ","with ",ir(ot?.bank||[])," points!"]}),T.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md w-full mb-8",children:g.players.map(ce=>T.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl flex justify-between items-center border border-gray-700",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[ce.ready&&T.jsx(ph,{size:16,className:"text-green-500"}),T.jsx("span",{className:ce.id===ot.id?"text-yellow-400 font-bold":"text-gray-400",children:ce.name})]}),T.jsx("span",{className:"font-mono text-xl",children:ir(ce.bank||[])})]},ce.id))}),T.jsxs("div",{className:"flex flex-col gap-4 items-center w-full max-w-md pb-10",children:[g.hostId!==s.uid&&(ie.ready?T.jsx("button",{onClick:vt,className:"w-full py-3 bg-gray-700 hover:bg-gray-600 rounded-xl font-bold text-green-400 border border-green-500/50",children:"Waiting for others..."}):T.jsx("button",{onClick:vt,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-white shadow-lg animate-pulse",children:"Ready for Next Game"})),g.hostId===s.uid&&T.jsxs("div",{className:"flex gap-4 w-full",children:[T.jsx("button",{onClick:Ke,disabled:!Pt,className:`flex-1 py-3 rounded-xl font-bold transition-colors ${Pt?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,children:"Lobby"}),T.jsx("button",{onClick:ke,disabled:!Pt,className:`flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all ${Pt?"bg-green-600 hover:bg-green-500 hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:"New Harvest"})]})]})]}),T.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-6xl mx-auto p-2 md:p-4 gap-2 md:gap-4 overflow-hidden",children:[T.jsx("div",{className:"flex-none flex items-stretch gap-3 overflow-x-auto py-4 px-2 no-scrollbar md:flex-wrap md:justify-center min-h-[25vh] md:min-h-0",children:Ne.map(ce=>T.jsxs("div",{className:`bg-gray-900/80 p-3 rounded-xl border-2 flex flex-col gap-2 
                  min-w-[150px] md:min-w-[160px] 
                  transition-all relative group
                  ${g.players[g.turnIndex].id===ce.id?"border-yellow-500 shadow-yellow-900/20 shadow-lg scale-[1.02] animate-pulse":"border-gray-800 opacity-90"}`,children:[T.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-1",children:[T.jsx("span",{className:"font-bold text-sm truncate max-w-[90px]",children:ce.name}),T.jsxs("div",{className:"flex items-center gap-1 bg-green-900/30 px-1.5 rounded text-green-400 text-xs",children:[T.jsx(wv,{size:10})," ",ir(ce.bank||[])]})]}),T.jsx("div",{className:"flex flex-wrap content-start gap-1 flex-1 bg-black/20 rounded p-1 overflow-y-auto min-h-[80px] max-h-[160px]",children:ce.table.length===0?T.jsx("span",{className:"text-[10px] text-gray-600 w-full text-center py-4",children:"Safe"}):ce.table.map((Ie,Yt)=>T.jsx("div",{className:"transform scale-75 origin-top-left -mr-3 -mb-3 hover:z-10 hover:scale-100 transition-transform",children:T.jsx(fs,{type:Ie,size:"sm"})},Yt))})]},ce.id))}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 relative min-h-0",children:[T.jsx("div",{className:"absolute top-0 pointer-events-none w-full flex justify-center z-10",children:g.logs.length>0&&T.jsx("div",{className:"bg-black/60 backdrop-blur px-4 py-1 rounded-full text-xs text-yellow-100/80 border border-yellow-500/20 animate-in fade-in slide-in-from-top-2 text-center max-w-[90%] truncate shadow-lg",children:g.logs[g.logs.length-1].text})}),T.jsxs("div",{className:"flex items-center gap-4 md:gap-16 w-full justify-center",children:[T.jsxs("button",{onClick:oe&&!De&&g.turnPhase!=="BUSTED"?ve:void 0,disabled:!oe||De||g.turnPhase==="BUSTED",className:`relative w-24 h-36 md:w-32 md:h-48 bg-gray-800 rounded-xl border-4 border-gray-700 shadow-2xl flex items-center justify-center group transition-all shrink-0 ${oe&&!De&&g.turnPhase!=="BUSTED"?"hover:scale-105 cursor-pointer hover:border-yellow-500 ring-4 ring-yellow-500/20":"opacity-80 cursor-default"}`,children:[T.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-gray-600 rounded-lg"}),T.jsxs("div",{className:"text-center z-10",children:[T.jsx("span",{className:"block font-black text-xl md:text-2xl text-gray-500",children:g.deck.length}),T.jsx("span",{className:"text-[10px] uppercase text-gray-600 font-bold",children:"Cards"})]}),oe&&!De&&g.turnPhase!=="BUSTED"&&T.jsx("div",{className:"absolute -bottom-4 md:-bottom-8 bg-yellow-500 text-black text-[10px] md:text-xs font-bold px-3 py-1 rounded-full animate-bounce shadow-lg z-20",children:"DRAW!"})]}),T.jsxs("div",{className:"flex items-center justify-start p-2 pl-4 pt-10 pb-4 bg-gray-900/50 rounded-3xl border-2 border-dashed border-gray-700 h-[160px] md:h-[180px] w-full max-w-[500px] overflow-x-auto no-scrollbar relative",children:[g.drawnCard&&g.turnPhase==="BUSTED"&&T.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-3xl animate-in fade-in",children:T.jsxs("div",{className:"transform rotate-12 scale-110 shadow-2xl shadow-red-500/50",children:[T.jsx(fs,{type:g.drawnCard,size:"lg"}),T.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 bg-red-600 text-white font-black px-2 py-1 rounded text-xs uppercase tracking-widest whitespace-nowrap",children:"Fatal Draw"})]})}),W.hand.length===0&&!g.drawnCard?T.jsx("div",{className:"w-full text-center",children:T.jsx("span",{className:"text-gray-600 font-bold uppercase tracking-widest text-xs md:text-sm",children:"Risk Zone Empty"})}):T.jsx("div",{className:"flex -space-x-8 md:-space-x-12 px-2",children:W.hand.map((ce,Ie)=>T.jsx("div",{className:"transform transition-transform duration-200 hover:-translate-y-6 hover:scale-110 z-0 hover:z-30 shrink-0 shadow-xl",children:T.jsx(fs,{type:ce,animate:Ie===W.hand.length-1})},Ie))})]})]}),oe&&W.hand.length>0&&!De&&T.jsx("div",{className:"flex gap-4 animate-in slide-in-from-bottom-4 z-20 mt-2",children:T.jsxs("button",{onClick:Ue,className:"bg-green-600 hover:bg-green-500 text-white px-8 md:px-12 py-3 md:py-4 rounded-xl font-black text-lg md:text-xl shadow-lg shadow-green-900/20 transform hover:scale-105 transition-all flex items-center gap-2 border-b-4 border-green-800 active:border-b-0 active:translate-y-1",children:[T.jsx(ph,{size:20})," BANK IT!"]})}),!oe&&T.jsxs("div",{className:"bg-gray-900/80 px-4 md:px-6 py-2 md:py-3 rounded-full border border-gray-700 text-gray-400 font-mono text-xs md:text-sm animate-pulse text-center mt-2",children:["Waiting for ",W.name,"..."]})]}),T.jsx("div",{className:`flex-none bg-gray-900 p-3 md:p-4 rounded-t-3xl border-t-4 ${oe?"border-yellow-500":"border-gray-800"} shadow-[0_-10px_40px_rgba(0,0,0,0.5)] z-20 pb-6 md:pb-4`,children:T.jsxs("div",{className:"flex justify-between items-end",children:[T.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[T.jsxs("div",{className:"relative",children:[T.jsxs("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gray-800 rounded-full border-2 border-gray-600 flex items-center justify-center overflow-hidden",children:[T.jsx(kl,{size:24,className:"text-gray-400 md:hidden"}),T.jsx(kl,{size:32,className:"text-gray-400 hidden md:block"})]}),T.jsx("div",{className:"absolute -top-2 -right-2 bg-green-600 text-white w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center font-bold text-xs md:text-base shadow-lg border-2 border-gray-900",children:ir(ie.bank||[])})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-sm md:text-xl font-bold text-white",children:[ie.name," (You)"]}),T.jsx("div",{className:"text-[10px] md:text-xs text-green-400 font-bold uppercase tracking-wider",children:"Safe Zone"})]})]}),T.jsxs("div",{className:"flex-1 ml-4 md:ml-8 flex flex-col items-end overflow-hidden",children:[T.jsxs("span",{className:"text-[10px] md:text-xs text-orange-400 font-bold uppercase tracking-wider mb-1 md:mb-2 flex items-center gap-1 whitespace-nowrap",children:[T.jsx(nT,{size:12})," Danger Zone (Next Turn)"]}),T.jsx("div",{className:"flex flex-wrap justify-end gap-1 md:gap-2 bg-black/30 p-2 rounded-xl border border-gray-800 w-full md:w-auto min-h-[60px] md:min-h-[70px] max-h-[100px] min-w-[120px] overflow-y-auto",children:ie.table.length===0?T.jsx("span",{className:"text-gray-600 text-[10px] md:text-xs self-center mx-auto",children:"Empty"}):ie.table.map((ce,Ie)=>T.jsx("div",{className:"transform scale-75 hover:scale-100 transition-transform origin-bottom shrink-0 z-10",children:T.jsx(fs,{type:ce,size:"sm"})},Ie))})]})]})})]}),T.jsx(xv,{})]})}return null}Hb.createRoot(document.getElementById("root")).render(T.jsx(Xe.StrictMode,{children:T.jsx(ZI,{})}));
