(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Md={exports:{}},To={};var j_;function Ob(){if(j_)return To;j_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return To.Fragment=e,To.jsx=i,To.jsxs=i,To}var P_;function Mb(){return P_||(P_=1,Md.exports=Ob()),Md.exports}var b=Mb(),Vd={exports:{}},Ae={};var z_;function Vb(){if(z_)return Ae;z_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Z={};function me(O,Y,ie){this.props=O,this.context=Y,this.refs=Z,this.updater=ie||J}me.prototype.isReactComponent={},me.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},me.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Te(){}Te.prototype=me.prototype;function ge(O,Y,ie){this.props=O,this.context=Y,this.refs=Z,this.updater=ie||J}var $e=ge.prototype=new Te;$e.constructor=ge,ee($e,me.prototype),$e.isPureReactComponent=!0;var Fe=Array.isArray;function Ne(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,Y,ie){var re=ie.ref;return{$$typeof:s,type:O,key:Y,ref:re!==void 0?re:null,props:ie}}function V(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var x=/\/+/g;function lt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ne,Ne):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,ie,re,ve){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case s:case e:ke=!0;break;case E:return ke=O._init,G(ke(O._payload),Y,ie,re,ve)}}if(ke)return ve=ve(O),ke=re===""?"."+lt(O,0):re,Fe(ve)?(ie="",ke!=null&&(ie=ke.replace(x,"$&/")+"/"),G(ve,Y,ie,"",function(se){return se})):ve!=null&&(N(ve)&&(ve=V(ve,ie+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+ke)),Y.push(ve)),1;ke=0;var Et=re===""?".":re+":";if(Fe(O))for(var ct=0;ct<O.length;ct++)re=O[ct],Se=Et+lt(re,ct),ke+=G(re,Y,ie,Se,ve);else if(ct=H(O),typeof ct=="function")for(O=ct.call(O),ct=0;!(re=O.next()).done;)re=re.value,Se=Et+lt(re,ct++),ke+=G(re,Y,ie,Se,ve);else if(Se==="object"){if(typeof O.then=="function")return G(vt(O),Y,ie,re,ve);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ne(O,Y,ie){if(O==null)return O;var re=[],ve=0;return G(O,re,"","",function(Se){return Y.call(ie,Se,ve++)}),re}function fe(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qe={map:ne,forEach:function(O,Y,ie){ne(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=w,Ae.Children=Qe,Ae.Component=me,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=ge,Ae.StrictMode=a,Ae.Suspense=v,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=ee({},O.props),ve=O.key;if(Y!=null)for(Se in Y.key!==void 0&&(ve=""+Y.key),Y)!A.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(re[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)re.children=ie;else if(1<Se){for(var ke=Array(Se),Et=0;Et<Se;Et++)ke[Et]=arguments[Et+2];re.children=ke}return I(O.type,ve,re)},Ae.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ae.createElement=function(O,Y,ie){var re,ve={},Se=null;if(Y!=null)for(re in Y.key!==void 0&&(Se=""+Y.key),Y)A.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=Y[re]);var ke=arguments.length-2;if(ke===1)ve.children=ie;else if(1<ke){for(var Et=Array(ke),ct=0;ct<ke;ct++)Et[ct]=arguments[ct+2];ve.children=Et}if(O&&O.defaultProps)for(re in ke=O.defaultProps,ke)ve[re]===void 0&&(ve[re]=ke[re]);return I(O,Se,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:p,render:O}},Ae.isValidElement=N,Ae.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:fe}},Ae.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Ae.startTransition=function(O){var Y=C.T,ie={};C.T=ie;try{var re=O(),ve=C.S;ve!==null&&ve(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ne,Ve)}catch(Se){Ve(Se)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),C.T=Y}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(O){return C.H.use(O)},Ae.useActionState=function(O,Y,ie){return C.H.useActionState(O,Y,ie)},Ae.useCallback=function(O,Y){return C.H.useCallback(O,Y)},Ae.useContext=function(O){return C.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},Ae.useEffect=function(O,Y){return C.H.useEffect(O,Y)},Ae.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(O,Y,ie){return C.H.useImperativeHandle(O,Y,ie)},Ae.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},Ae.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},Ae.useMemo=function(O,Y){return C.H.useMemo(O,Y)},Ae.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},Ae.useReducer=function(O,Y,ie){return C.H.useReducer(O,Y,ie)},Ae.useRef=function(O){return C.H.useRef(O)},Ae.useState=function(O){return C.H.useState(O)},Ae.useSyncExternalStore=function(O,Y,ie){return C.H.useSyncExternalStore(O,Y,ie)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.3",Ae}var B_;function xm(){return B_||(B_=1,Vd.exports=Vb()),Vd.exports}var Xe=xm(),kd={exports:{}},bo={},Ud={exports:{}},Ld={};var q_;function kb(){return q_||(q_=1,(function(s){function e(G,ne){var fe=G.length;G.push(ne);e:for(;0<fe;){var Ve=fe-1>>>1,Qe=G[Ve];if(0<o(Qe,ne))G[Ve]=ne,G[fe]=Qe,fe=Ve;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],fe=G.pop();if(fe!==ne){G[0]=fe;e:for(var Ve=0,Qe=G.length,O=Qe>>>1;Ve<O;){var Y=2*(Ve+1)-1,ie=G[Y],re=Y+1,ve=G[re];if(0>o(ie,fe))re<Qe&&0>o(ve,ie)?(G[Ve]=ve,G[re]=fe,Ve=re):(G[Ve]=ie,G[Y]=fe,Ve=Y);else if(re<Qe&&0>o(ve,fe))G[Ve]=ve,G[re]=fe,Ve=re;else break e}}return ne}function o(G,ne){var fe=G.sortIndex-ne.sortIndex;return fe!==0?fe:G.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],E=1,w=null,M=3,H=!1,J=!1,ee=!1,Z=!1,me=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function $e(G){for(var ne=i(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=G)a(y),ne.sortIndex=ne.expirationTime,e(v,ne);else break;ne=i(y)}}function Fe(G){if(ee=!1,$e(G),!J)if(i(v)!==null)J=!0,Ne||(Ne=!0,U());else{var ne=i(y);ne!==null&&vt(Fe,ne.startTime-G)}}var Ne=!1,C=-1,A=5,I=-1;function V(){return Z?!0:!(s.unstable_now()-I<A)}function N(){if(Z=!1,Ne){var G=s.unstable_now();I=G;var ne=!0;try{e:{J=!1,ee&&(ee=!1,Te(C),C=-1),H=!0;var fe=M;try{t:{for($e(G),w=i(v);w!==null&&!(w.expirationTime>G&&V());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,M=w.priorityLevel;var Qe=Ve(w.expirationTime<=G);if(G=s.unstable_now(),typeof Qe=="function"){w.callback=Qe,$e(G),ne=!0;break t}w===i(v)&&a(v),$e(G)}else a(v);w=i(v)}if(w!==null)ne=!0;else{var O=i(y);O!==null&&vt(Fe,O.startTime-G),ne=!1}}break e}finally{w=null,M=fe,H=!1}ne=void 0}}finally{ne?U():Ne=!1}}}var U;if(typeof ge=="function")U=function(){ge(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,lt=x.port2;x.port1.onmessage=N,U=function(){lt.postMessage(null)}}else U=function(){me(N,0)};function vt(G,ne){C=me(function(){G(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var fe=M;M=ne;try{return G()}finally{M=fe}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=M;M=G;try{return ne()}finally{M=fe}},s.unstable_scheduleCallback=function(G,ne,fe){var Ve=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ve+fe:Ve):fe=Ve,G){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=fe+Qe,G={id:E++,callback:ne,priorityLevel:G,startTime:fe,expirationTime:Qe,sortIndex:-1},fe>Ve?(G.sortIndex=fe,e(y,G),i(v)===null&&G===i(y)&&(ee?(Te(C),C=-1):ee=!0,vt(Fe,fe-Ve))):(G.sortIndex=Qe,e(v,G),J||H||(J=!0,Ne||(Ne=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ne=M;return function(){var fe=M;M=ne;try{return G.apply(this,arguments)}finally{M=fe}}}})(Ld)),Ld}var H_;function Ub(){return H_||(H_=1,Ud.exports=kb()),Ud.exports}var jd={exports:{}},on={};var G_;function Lb(){if(G_)return on;G_=1;var s=xm();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(v,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(v,y,null,E)},on.flushSync=function(v){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=E,a.d.f()}},on.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},on.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},on.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:H}):E==="script"&&a.d.X(v,{crossOrigin:w,integrity:M,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},on.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin);a.d.L(v,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(v,y){if(typeof v=="string")if(y){var E=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},on.requestFormReset=function(v){a.d.r(v)},on.unstable_batchedUpdates=function(v,y){return v(y)},on.useFormState=function(v,y,E){return d.H.useFormState(v,y,E)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.3",on}var F_;function jb(){if(F_)return jd.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=Lb(),jd.exports}var Q_;function Pb(){if(Q_)return bo;Q_=1;var s=Ub(),e=xm(),i=jb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,l=f;break}if(T===l){g=!0,l=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=h;break}if(T===l){g=!0,l=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case me:return"Profiler";case Z:return"StrictMode";case Fe:return"Suspense";case Ne:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ge:return t.displayName||"Context";case Te:return(t._context.displayName||"Context")+".Consumer";case $e:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var vt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ve=[],Qe=-1;function O(t){return{current:t}}function Y(t){0>Qe||(t.current=Ve[Qe],Ve[Qe]=null,Qe--)}function ie(t,n){Qe++,Ve[Qe]=t.current,t.current=n}var re=O(null),ve=O(null),Se=O(null),ke=O(null);function Et(t,n){switch(ie(Se,n),ie(ve,t),ie(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?l_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=l_(n),t=o_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),ie(re,t)}function ct(){Y(re),Y(ve),Y(Se)}function se(t){t.memoizedState!==null&&ie(ke,t);var n=re.current,r=o_(n,t.type);n!==r&&(ie(ve,t),ie(re,r))}function te(t){ve.current===t&&(Y(re),Y(ve)),ke.current===t&&(Y(ke),yo._currentValue=fe)}var le,Ue;function De(t){if(le===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);le=n&&n[1]||"",Ue=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+t+Ue}var qe=!1;function Tt(t,n){if(!t||qe)return"";qe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){z=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{qe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?De(r):""}function ot(t,n){switch(t.tag){case 26:case 27:case 5:return De(t.type);case 16:return De("Lazy");case 13:return t.child!==n&&n!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Tt(t.type,!1);case 11:return Tt(t.type.render,!1);case 1:return Tt(t.type,!0);case 31:return De("Activity");default:return""}}function zt(t){try{var n="",r=null;do n+=ot(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ce=Object.prototype.hasOwnProperty,Ce=s.unstable_scheduleCallback,Kt=s.unstable_cancelCallback,jn=s.unstable_shouldYield,bs=s.unstable_requestPaint,Xt=s.unstable_now,Rn=s.unstable_getCurrentPriorityLevel,vl=s.unstable_ImmediatePriority,El=s.unstable_UserBlockingPriority,Ss=s.unstable_NormalPriority,kh=s.unstable_LowPriority,nu=s.unstable_IdlePriority,iu=s.log,su=s.unstable_setDisableYieldValue,ei=null,$t=null;function Pn(t){if(typeof iu=="function"&&su(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ei,t)}catch{}}var At=Math.clz32?Math.clz32:au,ru=Math.log,la=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(ru(t)/la|0)|0}var gi=256,Sr=262144,Ct=4194304;function pi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=pi(l):(g&=T,g!==0?h=pi(g):r||(r=T&~t,r!==0&&(h=pi(r))))):(T=l&~f,T!==0?h=pi(T):g!==0?h=pi(g):r||(r=l&~t,r!==0&&(h=pi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ti(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Uh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function _i(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var F=31-At(r),K=1<<F;T[F]=0,R[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}r&=~K}l!==0&&wr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function wr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-At(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Tl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-At(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function bl(t,n){var r=n&-n;return r=(r&42)!==0?1:xr(r),(r&(t.suspendedLanes|n))!==0?0:r}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function ni(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var ii=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ii,Gt="__reactProps$"+ii,vi="__reactContainer$"+ii,oa="__reactEvents$"+ii,jh="__reactListeners$"+ii,uu="__reactHandles$"+ii,cu="__reactResources$"+ii,Ei="__reactMarker$"+ii;function ua(t){delete t[Nt],delete t[Gt],delete t[oa],delete t[jh],delete t[uu]}function Ti(t){var n=t[Nt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[vi]||r[Nt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=g_(t);t!==null;){if(r=t[Nt])return r;t=g_(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[Nt]||t[vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function In(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function bi(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[Ei]=!0}var Sl=new Set,Al={};function Si(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(Al[t]=n,t=0;t<n.length;t++)Sl.add(n[t])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Rl={};function hu(t){return ce.call(Rl,t)?!0:ce.call(xl,t)?!1:wl.test(t)?Rl[t]=!0:(xl[t]=!0,!1)}function ca(t,n,r){if(hu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Cn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ot(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Il(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=Il(t,n,""+t[n])}}function Rr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=As(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function yn(t){return t.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ha(t,n,r,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Cl(t,g,Ft(n)):r!=null?Cl(t,g,Ft(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ft(T):t.removeAttribute("name")}function fu(t,n,r,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),et(t)}function Cl(t,n,r){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ws(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function xs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(vt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),et(t)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||mu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Dl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Nl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Nl(t,f,n[f])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var Ol=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Is=null,xi=null;function Cr(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ha(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Gt]||null;if(!h)throw Error(a(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Rr(l)}break e;case"textarea":du(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ws(t,!!r.multiple,n,!1)}}}var ma=!1;function Cs(t,n,r){if(ma)return t(n,r);ma=!0;try{var l=t(n);return l}finally{if(ma=!1,(Is!==null||xi!==null)&&(oc(),Is&&(n=Is,t=xi,xi=Is=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function ri(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Gt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(qn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Nr=!1}var Ri=null,Ml=null,Dr=null;function Vl(){if(Dr)return Dr;var t,n=Ml,r=n.length,l,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return Dr=h.slice(t,1<l?1-l:void 0)}function Or(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function ai(){return!1}function Zt(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:ai,this.isPropagationStopped=ai,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Zt(Yi),Ns=w({},Yi,{view:0,detail:0}),kl=Zt(Ns),Ds,ga,Ci,pa=w({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Ds=t.screenX-Ci.screenX,ga=t.screenY-Ci.screenY):ga=Ds=0,Ci=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Ul=Zt(pa),Mr=w({},pa,{dataTransfer:0}),pu=Zt(Mr),yu=w({},Ns,{relatedTarget:0}),Vr=Zt(yu),Ll=w({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Zt(Ll),ya=w({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=Zt(ya),Eu=w({},Yi,{data:0}),Ni=Zt(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Os(){return Au}var mn=w({},Ns,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Zt(mn),xu=w({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Zt(xu),u=w({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Zt(u),_=w({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Zt(_),L=w({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Zt(L),W=w({},Yi,{newState:0,oldState:0}),xe=Zt(W),wt=[9,13,27,32],Ze=qn&&"CompositionEvent"in window,gt=null;qn&&"documentMode"in document&&(gt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!gt,Di=qn&&(!Ze||gt&&8<gt&&11>=gt),li=" ",oi=!1;function kr(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function nT(t,n){switch(t){case"compositionend":return _a(n);case"keypress":return n.which!==32?null:(oi=!0,li);case"textInput":return t=n.data,t===li&&oi?null:t;default:return null}}function iT(t,n){if(va)return t==="compositionend"||!Ze&&kr(t,n)?(t=Vl(),Dr=Ml=Ri=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var sT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!sT[t.type]:n==="textarea"}function vg(t,n,r,l){Is?xi?xi.push(l):xi=[l]:Is=l,n=gc(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var jl=null,Pl=null;function rT(t){t_(t,0)}function Ru(t){var n=In(t);if(Rr(n))return t}function Eg(t,n){if(t==="change")return n}var Tg=!1;if(qn){var Ph;if(qn){var zh="oninput"in document;if(!zh){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),zh=typeof bg.oninput=="function"}Ph=zh}else Ph=!1;Tg=Ph&&(!document.documentMode||9<document.documentMode)}function Sg(){jl&&(jl.detachEvent("onpropertychange",Ag),Pl=jl=null)}function Ag(t){if(t.propertyName==="value"&&Ru(Pl)){var n=[];vg(n,Pl,t,Bn(t)),Cs(rT,n)}}function aT(t,n,r){t==="focusin"?(Sg(),jl=n,Pl=r,jl.attachEvent("onpropertychange",Ag)):t==="focusout"&&Sg()}function lT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Pl)}function oT(t,n){if(t==="click")return Ru(n)}function uT(t,n){if(t==="input"||t==="change")return Ru(n)}function cT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Nn=typeof Object.is=="function"?Object.is:cT;function zl(t,n){if(Nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!ce.call(n,h)||!Nn(t[h],n[h]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,n){var r=wg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wg(r)}}function Rg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=wi(t.document)}return n}function Bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hT=qn&&"documentMode"in document&&11>=document.documentMode,Ea=null,qh=null,Bl=null,Hh=!1;function Cg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hh||Ea==null||Ea!==wi(l)||(l=Ea,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bl&&zl(Bl,l)||(Bl=l,l=gc(qh,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ea)))}function Ur(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ta={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Gh={},Ng={};qn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Lr(t){if(Gh[t])return Gh[t];if(!Ta[t])return t;var n=Ta[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ng)return Gh[t]=n[r];return t}var Dg=Lr("animationend"),Og=Lr("animationiteration"),Mg=Lr("animationstart"),fT=Lr("transitionrun"),dT=Lr("transitionstart"),mT=Lr("transitioncancel"),Vg=Lr("transitionend"),kg=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function ui(t,n){kg.set(t,n),Si(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],ba=0,Qh=0;function Cu(){for(var t=ba,n=Qh=ba=0;n<t;){var r=Gn[n];Gn[n++]=null;var l=Gn[n];Gn[n++]=null;var h=Gn[n];Gn[n++]=null;var f=Gn[n];if(Gn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Ug(r,h,f)}}function Nu(t,n,r,l){Gn[ba++]=t,Gn[ba++]=n,Gn[ba++]=r,Gn[ba++]=l,Qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yh(t,n,r,l){return Nu(t,n,r,l),Du(t)}function jr(t,n){return Nu(t,null,null,n),Du(t)}function Ug(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-At(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Du(t){if(50<uo)throw uo=0,id=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Sa={};function gT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,l){return new gT(t,n,r,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Kh(t)&&(g=1);else if(typeof t=="string")g=Eb(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Dn(31,r,n,h),t.elementType=I,t.lanes=f,t;case ee:return Pr(r.children,h,f,n);case Z:g=8,h|=24;break;case me:return t=Dn(12,r,n,h|2),t.elementType=me,t.lanes=f,t;case Fe:return t=Dn(13,r,n,h),t.elementType=Fe,t.lanes=f,t;case Ne:return t=Dn(19,r,n,h),t.elementType=Ne,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:g=10;break e;case Te:g=9;break e;case $e:g=11;break e;case C:g=14;break e;case A:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Dn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Pr(t,n,r,l){return t=Dn(7,t,l,n),t.lanes=r,t}function Xh(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function jg(t){var n=Dn(18,null,null,0);return n.stateNode=t,n}function $h(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Pg=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var r=Pg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:zt(n)},Pg.set(t,n),n)}return{value:t,source:n,stack:zt(n)}}var Aa=[],wa=0,Mu=null,ql=0,Qn=[],Yn=0,Ms=null,Oi=1,Mi="";function $i(t,n){Aa[wa++]=ql,Aa[wa++]=Mu,Mu=t,ql=n}function zg(t,n,r){Qn[Yn++]=Oi,Qn[Yn++]=Mi,Qn[Yn++]=Ms,Ms=t;var l=Oi;t=Mi;var h=32-At(l)-1;l&=~(1<<h),r+=1;var f=32-At(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Oi=1<<32-At(n)+h|r<<h|l,Mi=f+t}else Oi=1<<f|r<<h|l,Mi=t}function Zh(t){t.return!==null&&($i(t,1),zg(t,1,0))}function Jh(t){for(;t===Mu;)Mu=Aa[--wa],Aa[wa]=null,ql=Aa[--wa],Aa[wa]=null;for(;t===Ms;)Ms=Qn[--Yn],Qn[Yn]=null,Mi=Qn[--Yn],Qn[Yn]=null,Oi=Qn[--Yn],Qn[Yn]=null}function Bg(t,n){Qn[Yn++]=Oi,Qn[Yn++]=Mi,Qn[Yn++]=Ms,Oi=n.id,Mi=n.overflow,Ms=t}var Jt=null,ft=null,He=!1,Vs=null,Kn=!1,Wh=Error(a(519));function ks(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Fn(n,t)),Wh}function qg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Nt]=t,n[Gt]=l,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(r=0;r<ho.length;r++)Me(ho[r],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),fu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),xs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||r_(n.textContent,r)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||ks(t,!0)}function Hg(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Jt=Jt.return}}function xa(t){if(t!==Jt)return!1;if(!He)return Hg(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_d(t.type,t.memoizedProps)),r=!r),r&&ft&&ks(t),Hg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=m_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=m_(t)}else n===27?(n=ft,Xs(t.type)?(t=Sd,Sd=null,ft=t):ft=n):ft=Jt?$n(t.stateNode.nextSibling):null;return!0}function zr(){ft=Jt=null,He=!1}function ef(){var t=Vs;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Vs=null),t}function Hl(t){Vs===null?Vs=[t]:Vs.push(t)}var tf=O(null),Br=null,Zi=null;function Us(t,n,r){ie(tf,n._currentValue),n._currentValue=r}function Ji(t){t._currentValue=tf.current,Y(tf)}function nf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function sf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),nf(f.return,r,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),nf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Nn(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(yo):t=[yo])}h=h.return}t!==null&&sf(n,t,r,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qr(t){Br=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Gg(Br,t)}function ku(t,n){return Br===null&&qr(t),Gg(t,n)}function Gg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Zi===null){if(t===null)throw Error(a(308));Zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Zi=Zi.next=n;return r}var pT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},yT=s.unstable_scheduleCallback,_T=s.unstable_NormalPriority,Mt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new pT,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&yT(_T,function(){t.controller.abort()})}var Fl=null,af=0,Ia=0,Ca=null;function vT(t,n){if(Fl===null){var r=Fl=[];af=0,Ia=ud(),Ca={status:"pending",value:void 0,then:function(l){r.push(l)}}}return af++,n.then(Fg,Fg),n}function Fg(){if(--af===0&&Fl!==null){Ca!==null&&(Ca.status="fulfilled");var t=Fl;Fl=null,Ia=0,Ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ET(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Qg=G.S;G.S=function(t,n){Cy=Xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vT(t,n),Qg!==null&&Qg(t,n)};var Hr=O(null);function lf(){var t=Hr.current;return t!==null?t:ut.pooledCache}function Uu(t,n){n===null?ie(Hr,Hr.current):ie(Hr,n.pool)}function Yg(){var t=lf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Na=Error(a(460)),of=Error(a(474)),Lu=Error(a(542)),ju={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(si,si),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zg(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zg(t),t}throw Fr=n,Na}}function Gr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Fr=r,Na):r}}var Fr=null;function $g(){if(Fr===null)throw Error(a(459));var t=Fr;return Fr=null,t}function Zg(t){if(t===Na||t===Lu)throw Error(a(483))}var Da=null,Ql=0;function Pu(t){var n=Ql;return Ql+=1,Da===null&&(Da=[]),Xg(Da,t,n)}function Yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jg(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Xi(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,j,Q){return D===null||D.tag!==6?(D=Xh(j,k.mode,Q),D.return=k,D):(D=h(D,j),D.return=k,D)}function R(k,D,j,Q){var de=j.type;return de===ee?F(k,D,j.props.children,Q,j.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Gr(de)===D.type)?(D=h(D,j.props),Yl(D,j),D.return=k,D):(D=Ou(j.type,j.key,j.props,null,k.mode,Q),Yl(D,j),D.return=k,D)}function P(k,D,j,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=$h(j,k.mode,Q),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function F(k,D,j,Q,de){return D===null||D.tag!==7?(D=Pr(j,k.mode,Q,de),D.return=k,D):(D=h(D,j),D.return=k,D)}function K(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Xh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return j=Ou(D.type,D.key,D.props,null,k.mode,j),Yl(j,D),j.return=k,j;case J:return D=$h(D,k.mode,j),D.return=k,D;case A:return D=Gr(D),K(k,D,j)}if(vt(D)||U(D))return D=Pr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return K(k,Pu(D),j);if(D.$$typeof===ge)return K(k,ku(k,D),j);zu(k,D)}return null}function z(k,D,j,Q){var de=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:T(k,D,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return j.key===de?R(k,D,j,Q):null;case J:return j.key===de?P(k,D,j,Q):null;case A:return j=Gr(j),z(k,D,j,Q)}if(vt(j)||U(j))return de!==null?null:F(k,D,j,Q,null);if(typeof j.then=="function")return z(k,D,Pu(j),Q);if(j.$$typeof===ge)return z(k,D,ku(k,j),Q);zu(k,j)}return null}function q(k,D,j,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(j)||null,T(D,k,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?j:Q.key)||null,R(D,k,Q,de);case J:return k=k.get(Q.key===null?j:Q.key)||null,P(D,k,Q,de);case A:return Q=Gr(Q),q(k,D,j,Q,de)}if(vt(Q)||U(Q))return k=k.get(j)||null,F(D,k,Q,de,null);if(typeof Q.then=="function")return q(k,D,j,Pu(Q),de);if(Q.$$typeof===ge)return q(k,D,j,ku(D,Q),de);zu(D,Q)}return null}function oe(k,D,j,Q){for(var de=null,Ye=null,ue=D,Ie=D=0,je=null;ue!==null&&Ie<j.length;Ie++){ue.index>Ie?(je=ue,ue=null):je=ue.sibling;var Ke=z(k,ue,j[Ie],Q);if(Ke===null){ue===null&&(ue=je);break}t&&ue&&Ke.alternate===null&&n(k,ue),D=f(Ke,D,Ie),Ye===null?de=Ke:Ye.sibling=Ke,Ye=Ke,ue=je}if(Ie===j.length)return r(k,ue),He&&$i(k,Ie),de;if(ue===null){for(;Ie<j.length;Ie++)ue=K(k,j[Ie],Q),ue!==null&&(D=f(ue,D,Ie),Ye===null?de=ue:Ye.sibling=ue,Ye=ue);return He&&$i(k,Ie),de}for(ue=l(ue);Ie<j.length;Ie++)je=q(ue,k,Ie,j[Ie],Q),je!==null&&(t&&je.alternate!==null&&ue.delete(je.key===null?Ie:je.key),D=f(je,D,Ie),Ye===null?de=je:Ye.sibling=je,Ye=je);return t&&ue.forEach(function(er){return n(k,er)}),He&&$i(k,Ie),de}function ye(k,D,j,Q){if(j==null)throw Error(a(151));for(var de=null,Ye=null,ue=D,Ie=D=0,je=null,Ke=j.next();ue!==null&&!Ke.done;Ie++,Ke=j.next()){ue.index>Ie?(je=ue,ue=null):je=ue.sibling;var er=z(k,ue,Ke.value,Q);if(er===null){ue===null&&(ue=je);break}t&&ue&&er.alternate===null&&n(k,ue),D=f(er,D,Ie),Ye===null?de=er:Ye.sibling=er,Ye=er,ue=je}if(Ke.done)return r(k,ue),He&&$i(k,Ie),de;if(ue===null){for(;!Ke.done;Ie++,Ke=j.next())Ke=K(k,Ke.value,Q),Ke!==null&&(D=f(Ke,D,Ie),Ye===null?de=Ke:Ye.sibling=Ke,Ye=Ke);return He&&$i(k,Ie),de}for(ue=l(ue);!Ke.done;Ie++,Ke=j.next())Ke=q(ue,k,Ie,Ke.value,Q),Ke!==null&&(t&&Ke.alternate!==null&&ue.delete(Ke.key===null?Ie:Ke.key),D=f(Ke,D,Ie),Ye===null?de=Ke:Ye.sibling=Ke,Ye=Ke);return t&&ue.forEach(function(Db){return n(k,Db)}),He&&$i(k,Ie),de}function at(k,D,j,Q){if(typeof j=="object"&&j!==null&&j.type===ee&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case H:e:{for(var de=j.key;D!==null;){if(D.key===de){if(de=j.type,de===ee){if(D.tag===7){r(k,D.sibling),Q=h(D,j.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Gr(de)===D.type){r(k,D.sibling),Q=h(D,j.props),Yl(Q,j),Q.return=k,k=Q;break e}r(k,D);break}else n(k,D);D=D.sibling}j.type===ee?(Q=Pr(j.props.children,k.mode,Q,j.key),Q.return=k,k=Q):(Q=Ou(j.type,j.key,j.props,null,k.mode,Q),Yl(Q,j),Q.return=k,k=Q)}return g(k);case J:e:{for(de=j.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){r(k,D.sibling),Q=h(D,j.children||[]),Q.return=k,k=Q;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Q=$h(j,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return j=Gr(j),at(k,D,j,Q)}if(vt(j))return oe(k,D,j,Q);if(U(j)){if(de=U(j),typeof de!="function")throw Error(a(150));return j=de.call(j),ye(k,D,j,Q)}if(typeof j.then=="function")return at(k,D,Pu(j),Q);if(j.$$typeof===ge)return at(k,D,ku(k,j),Q);zu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,j),Q.return=k,k=Q):(r(k,D),Q=Xh(j,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,D)}return function(k,D,j,Q){try{Ql=0;var de=at(k,D,j,Q);return Da=null,de}catch(ue){if(ue===Na||ue===Lu)throw ue;var Ye=Dn(29,ue,null,k.mode);return Ye.lanes=Q,Ye.return=k,Ye}finally{}}}var Qr=Jg(!0),Wg=Jg(!1),Ls=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Du(t),Ug(t,null,r),n}return Nu(t,l,n,r),Du(t)}function Kl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Tl(t,r)}}function hf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ff=!1;function Xl(){if(ff){var t=Ca;if(t!==null)throw t}}function $l(t,n,r,l){ff=!1;var h=t.updateQueue;Ls=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=P:T.next=P,F.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,F=P=R=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Le&z)===z:(l&z)===z){z!==0&&z===Ia&&(ff=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var oe=t,ye=T;z=n;var at=r;switch(ye.tag){case 1:if(oe=ye.payload,typeof oe=="function"){K=oe.call(at,K,z);break e}K=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ye.payload,z=typeof oe=="function"?oe.call(at,K,z):oe,z==null)break e;K=w({},K,z);break e;case 2:Ls=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(P=F=q,R=K):F=F.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Gs|=g,t.lanes=g,t.memoizedState=K}}function ep(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function tp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ep(r[t],n)}var Oa=O(null),Bu=O(0);function np(t,n){t=ls,ie(Bu,t),ie(Oa,n),ls=t|n.baseLanes}function df(){ie(Bu,ls),ie(Oa,Oa.current)}function mf(){ls=Bu.current,Y(Oa),Y(Bu)}var On=O(null),Xn=null;function zs(t){var n=t.alternate;ie(xt,xt.current&1),ie(On,t),Xn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Xn=t)}function gf(t){ie(xt,xt.current),ie(On,t),Xn===null&&(Xn=t)}function ip(t){t.tag===22?(ie(xt,xt.current),ie(On,t),Xn===null&&(Xn=t)):Bs()}function Bs(){ie(xt,xt.current),ie(On,On.current)}function Mn(t){Y(On),Xn===t&&(Xn=null),Y(xt)}var xt=O(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||bd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,Re=null,st=null,Vt=null,Hu=!1,Ma=!1,Yr=!1,Gu=0,Zl=0,Va=null,TT=0;function bt(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Nn(t[r],n[r]))return!1;return!0}function yf(t,n,r,l,h,f){return Wi=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?zp:Of,Yr=!1,f=r(l,h),Yr=!1,Ma&&(f=rp(n,r,l,h)),sp(t),f}function sp(t){G.H=eo;var n=st!==null&&st.next!==null;if(Wi=0,Vt=st=Re=null,Hu=!1,Zl=0,Va=null,n)throw Error(a(300));t===null||kt||(t=t.dependencies,t!==null&&Vu(t)&&(kt=!0))}function rp(t,n,r,l){Re=t;var h=0;do{if(Ma&&(Va=null),Zl=0,Ma=!1,25<=h)throw Error(a(301));if(h+=1,Vt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Bp,f=n(r,l)}while(Ma);return f}function bT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Jl(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Re.flags|=1024),n}function _f(){var t=Gu!==0;return Gu=0,t}function vf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ef(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}Wi=0,Vt=st=Re=null,Ma=!1,Zl=Gu=0,Va=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Re.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Rt(){if(st===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=Vt===null?Re.memoizedState:Vt.next;if(n!==null)Vt=n,st=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Vt===null?Re.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(t){var n=Zl;return Zl+=1,Va===null&&(Va=[]),t=Xg(Va,t,n),n=Re,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?zp:Of),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jl(t);if(t.$$typeof===ge)return Wt(t)}throw Error(a(438,String(t)))}function Tf(t){var n=null,r=Re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Fu(),Re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function es(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=Rt();return bf(n,st,t)}function bf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Le&K)===K:(Wi&K)===K){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Ia&&(F=!0);else if((Wi&z)===z){P=P.next,z===Ia&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=K,g=f):R=R.next=K,Re.lanes|=z,Gs|=z;K=P.action,Yr&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,g=f):R=R.next=z,Re.lanes|=K,Gs|=K;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!Nn(f,t.memoizedState)&&(kt=!0,F&&(r=Ca,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sf(t){var n=Rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Nn(f,n.memoizedState)||(kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ap(t,n,r){var l=Re,h=Rt(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Nn((st||h).memoizedState,r);if(g&&(h.memoizedState=r,kt=!0),h=h.queue,xf(up.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},op.bind(null,l,h,r,n),null),ut===null)throw Error(a(349));f||(Wi&127)!==0||lp(l,n,r)}return r}function lp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Re.updateQueue,n===null?(n=Fu(),Re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function op(t,n,r,l){n.value=r,n.getSnapshot=l,cp(n)&&hp(t)}function up(t,n,r){return r(function(){cp(n)&&hp(t)})}function cp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Nn(t,r)}catch{return!0}}function hp(t){var n=jr(t,2);n!==null&&Sn(n,t,2)}function Af(t){var n=gn();if(typeof t=="function"){var r=t;if(t=r(),Yr){Pn(!0);try{r()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n}function fp(t,n,r,l){return t.baseState=r,bf(t,st,typeof l=="function"?l:es)}function ST(t,n,r,l,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,dp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function dp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=r(h,l),R=G.S;R!==null&&R(g,T),mp(t,n,T)}catch(P){wf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,l),mp(t,n,f)}catch(P){wf(t,n,P)}}function mp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){gp(t,n,l)},function(l){return wf(t,n,l)}):gp(t,n,r)}function gp(t,n,r){n.status="fulfilled",n.value=r,pp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,dp(t,r)))}function wf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,pp(n),n=n.next;while(n!==l)}t.action=null}function pp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function yp(t,n){return n}function _p(t,n){if(He){var r=ut.formState;if(r!==null){e:{var l=Re;if(He){if(ft){t:{for(var h=ft,f=Kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=$n(h.nextSibling),l=h.data==="F!";break e}}ks(l)}l=!1}l&&(n=r[0])}}return r=gn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:n},r.queue=l,r=Lp.bind(null,Re,l),l.dispatch=r,l=Af(!1),f=Df.bind(null,Re,!1,l.queue),l=gn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=ST.bind(null,Re,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function vp(t){var n=Rt();return Ep(n,st,t)}function Ep(t,n,r){if(n=bf(t,n,yp)[0],t=Yu(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Jl(n)}catch(g){throw g===Na?Lu:g}else l=n;n=Rt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Re.flags|=2048,ka(9,{destroy:void 0},AT.bind(null,h,r),null)),[l,f,t]}function AT(t,n){t.action=n}function Tp(t){var n=Rt(),r=st;if(r!==null)return Ep(n,r,t);Rt(),n=n.memoizedState,r=Rt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Fu(),Re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function bp(){return Rt().memoizedState}function Ku(t,n,r,l){var h=gn();Re.flags|=t,h.memoizedState=ka(1|n,{destroy:void 0},r,l===void 0?null:l)}function Xu(t,n,r,l){var h=Rt();l=l===void 0?null:l;var f=h.memoizedState.inst;st!==null&&l!==null&&pf(l,st.memoizedState.deps)?h.memoizedState=ka(n,f,r,l):(Re.flags|=t,h.memoizedState=ka(1|n,f,r,l))}function Sp(t,n){Ku(8390656,8,t,n)}function xf(t,n){Xu(2048,8,t,n)}function wT(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Fu(),Re.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Ap(t){var n=Rt().memoizedState;return wT({ref:n,nextImpl:t}),function(){if((Je&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function wp(t,n){return Xu(4,2,t,n)}function xp(t,n){return Xu(4,4,t,n)}function Rp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ip(t,n,r){r=r!=null?r.concat([t]):null,Xu(4,4,Rp.bind(null,n,t),r)}function Rf(){}function Cp(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Np(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),Yr){Pn(!0);try{t()}finally{Pn(!1)}}return r.memoizedState=[l,n],l}function If(t,n,r){return r===void 0||(Wi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Dy(),Re.lanes|=t,Gs|=t,r)}function Dp(t,n,r,l){return Nn(r,n)?r:Oa.current!==null?(t=If(t,r,l),Nn(t,n)||(kt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Le&261930)===0?(kt=!0,t.memoizedState=r):(t=Dy(),Re.lanes|=t,Gs|=t,n)}function Op(t,n,r,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,Df(t,!1,n,r);try{var R=h(),P=G.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=ET(R,l);Wl(t,n,F,Un(t))}else Wl(t,n,l,Un(t))}catch(K){Wl(t,n,{then:function(){},status:"rejected",reason:K},Un())}finally{ne.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function xT(){}function Cf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Mp(t).queue;Op(t,h,n,fe,r===null?xT:function(){return Vp(t),r(l)})}function Mp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:fe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vp(t){var n=Mp(t);n.next===null&&(n=t.alternate.memoizedState),Wl(t,n.next.queue,{},Un())}function Nf(){return Wt(yo)}function kp(){return Rt().memoizedState}function Up(){return Rt().memoizedState}function RT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Un();t=js(r);var l=Ps(n,t,r);l!==null&&(Sn(l,n,r),Kl(l,n,r)),n={cache:rf()},t.payload=n;return}n=n.return}}function IT(t,n,r){var l=Un();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},$u(t)?jp(n,r):(r=Yh(t,n,r,l),r!==null&&(Sn(r,t,l),Pp(r,n,l)))}function Lp(t,n,r){var l=Un();Wl(t,n,r,l)}function Wl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(t))jp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,Nn(T,g))return Nu(t,n,h,0),ut===null&&Cu(),!1}catch{}finally{}if(r=Yh(t,n,h,l),r!==null)return Sn(r,t,l),Pp(r,n,l),!0}return!1}function Df(t,n,r,l){if(l={lane:2,revertLane:ud(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Yh(t,r,l,2),n!==null&&Sn(n,t,2)}function $u(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function jp(t,n){Ma=Hu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Pp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Tl(t,r)}}var eo={readContext:Wt,use:Qu,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};eo.useEffectEvent=bt;var zp={readContext:Wt,use:Qu,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:Sp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ku(4194308,4,Rp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var r=gn();n=n===void 0?null:n;var l=t();if(Yr){Pn(!0);try{t()}finally{Pn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=gn();if(r!==void 0){var h=r(n);if(Yr){Pn(!0);try{r(n)}finally{Pn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=IT.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,r=Lp.bind(null,Re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(t,n){var r=gn();return If(r,t,n)},useTransition:function(){var t=Af(!1);return t=Op.bind(null,Re,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Re,h=gn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ut===null)throw Error(a(349));(Le&127)!==0||lp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Sp(up.bind(null,l,f,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},op.bind(null,l,f,r,n),null),r},useId:function(){var t=gn(),n=ut.identifierPrefix;if(He){var r=Mi,l=Oi;r=(l&~(1<<32-At(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Gu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=TT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:_p,useActionState:_p,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Df.bind(null,Re,!0,r),r.dispatch=n,[t,n]},useMemoCache:Tf,useCacheRefresh:function(){return gn().memoizedState=RT.bind(null,Re)},useEffectEvent:function(t){var n=gn(),r={impl:t};return n.memoizedState=r,function(){if((Je&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Of={readContext:Wt,use:Qu,useCallback:Cp,useContext:Wt,useEffect:xf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:xp,useMemo:Np,useReducer:Yu,useRef:bp,useState:function(){return Yu(es)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Rt();return Dp(r,st.memoizedState,t,n)},useTransition:function(){var t=Yu(es)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:Jl(t),n]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:Nf,useFormState:vp,useActionState:vp,useOptimistic:function(t,n){var r=Rt();return fp(r,st,t,n)},useMemoCache:Tf,useCacheRefresh:Up};Of.useEffectEvent=Ap;var Bp={readContext:Wt,use:Qu,useCallback:Cp,useContext:Wt,useEffect:xf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:xp,useMemo:Np,useReducer:Sf,useRef:bp,useState:function(){return Sf(es)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Rt();return st===null?If(r,t,n):Dp(r,st.memoizedState,t,n)},useTransition:function(){var t=Sf(es)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:Jl(t),n]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:Nf,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var r=Rt();return st!==null?fp(r,st,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Up};Bp.useEffectEvent=Ap;function Mf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Un(),h=js(l);h.payload=n,r!=null&&(h.callback=r),n=Ps(t,h,l),n!==null&&(Sn(n,t,l),Kl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Un(),h=js(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ps(t,h,l),n!==null&&(Sn(n,t,l),Kl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Un(),l=js(r);l.tag=2,n!=null&&(l.callback=n),n=Ps(t,l,r),n!==null&&(Sn(n,t,r),Kl(n,t,r))}};function qp(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!zl(r,l)||!zl(h,f):!0}function Hp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function Kr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Gp(t){Iu(t)}function Fp(t){console.error(t)}function Qp(t){Iu(t)}function Zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,n,r){return r=js(r),r.tag=3,r.payload={element:null},r.callback=function(){Zu(t,n)},r}function Kp(t){return t=js(t),t.tag=3,t}function Xp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Yp(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Yp(n,r,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function CT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ra(n,r,h,!0),r=On.current,r!==null){switch(r.tag){case 31:case 13:return Xn===null?uc():r.alternate===null&&St===0&&(St=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ad(t,l,h)),!1;case 22:return r.flags|=65536,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ad(t,l,h)),!1}throw Error(a(435,r.tag))}return ad(t,l,h),uc(),!1}if(He)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Wh&&(t=Error(a(422),{cause:l}),Hl(Fn(t,r)))):(l!==Wh&&(n=Error(a(423),{cause:l}),Hl(Fn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Fn(l,r),h=kf(t.stateNode,l,h),hf(t,h),St!==4&&(St=2)),!1;var f=Error(a(520),{cause:l});if(f=Fn(f,r),oo===null?oo=[f]:oo.push(f),St!==4&&(St=2),n===null)return!0;l=Fn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=kf(r.stateNode,l,t),hf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Kp(h),Xp(h,t,r,l),hf(r,h),!1}r=r.return}while(r!==null);return!1}var Uf=Error(a(461)),kt=!1;function en(t,n,r,l){n.child=t===null?Wg(n,null,r,l):Qr(n,t.child,r,l)}function $p(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return qr(n),l=yf(t,n,r,g,f,h),T=_f(),t!==null&&!kt?(vf(t,n,h),ts(t,n,h)):(He&&T&&Zh(n),n.flags|=1,en(t,n,l,h),n.child)}function Zp(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jp(t,n,f,l,h)):(t=Ou(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:zl,r(g,l)&&t.ref===n.ref)return ts(t,n,h)}return n.flags|=1,t=Xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Jp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(zl(f,l)&&t.ref===n.ref)if(kt=!1,n.pendingProps=l=f,Gf(t,h))(t.flags&131072)!==0&&(kt=!0);else return n.lanes=t.lanes,ts(t,n,h)}return Lf(t,n,r,l,h)}function Wp(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ey(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?np(n,f):df(),ip(n);else return l=n.lanes=536870912,ey(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Uu(n,f.cachePool),np(n,f),Bs(),n.memoizedState=null):(t!==null&&Uu(n,null),df(),Bs());return en(t,n,h,r),n.child}function to(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ey(t,n,r,l,h){var f=lf();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Uu(n,null),df(),ip(n),t!==null&&Ra(t,n,l,!0),n.childLanes=h,null}function Ju(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ty(t,n,r){return Qr(n,t.child,null,r),t=Ju(n,n.pendingProps),t.flags|=2,Mn(n),n.memoizedState=null,t}function NT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=Ju(n,l),n.lanes=536870912,to(null,t);if(gf(n),(t=ft)?(t=d_(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=jg(t),r.return=n,n.child=r,Jt=n,ft=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return Ju(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=ty(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(kt||Ra(t,n,r,!1),h=(r&t.childLanes)!==0,kt||h){if(l=ut,l!==null&&(g=bl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,jr(t,g),Sn(l,t,g),Uf;uc(),n=ty(t,n,r)}else t=f.treeContext,ft=$n(g.nextSibling),Jt=n,He=!0,Vs=null,Kn=!1,t!==null&&Bg(n,t),n=Ju(n,l),n.flags|=4096;return n}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lf(t,n,r,l,h){return qr(n),r=yf(t,n,r,l,void 0,h),l=_f(),t!==null&&!kt?(vf(t,n,h),ts(t,n,h)):(He&&l&&Zh(n),n.flags|=1,en(t,n,r,h),n.child)}function ny(t,n,r,l,h,f){return qr(n),n.updateQueue=null,r=rp(n,l,r,h),sp(t),l=_f(),t!==null&&!kt?(vf(t,n,f),ts(t,n,f)):(He&&l&&Zh(n),n.flags|=1,en(t,n,r,f),n.child)}function iy(t,n,r,l,h){if(qr(n),n.stateNode===null){var f=Sa,g=r.contextType;typeof g=="object"&&g!==null&&(f=Wt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},uf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Wt(g):Sa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Mf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Vf.enqueueReplaceState(f,f.state,null),$l(n,l,f,h),Xl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=Kr(r,T);f.props=R;var P=f.context,F=r.contextType;g=Sa,typeof F=="object"&&F!==null&&(g=Wt(F));var K=r.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Hp(n,f,l,g),Ls=!1;var z=n.memoizedState;f.state=z,$l(n,l,f,h),Xl(),P=n.memoizedState,T||z!==P||Ls?(typeof K=="function"&&(Mf(n,r,K,l),P=n.memoizedState),(R=Ls||qp(n,r,R,l,z,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,cf(t,n),g=n.memoizedProps,F=Kr(r,g),f.props=F,K=n.pendingProps,z=f.context,P=r.contextType,R=Sa,typeof P=="object"&&P!==null&&(R=Wt(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==R)&&Hp(n,f,l,R),Ls=!1,z=n.memoizedState,f.state=z,$l(n,l,f,h),Xl();var q=n.memoizedState;g!==K||z!==q||Ls||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof T=="function"&&(Mf(n,r,T,l),q=n.memoizedState),(F=Ls||qp(n,r,F,l,z,q,R)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Qr(n,t.child,null,h),n.child=Qr(n,null,r,h)):en(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ts(t,n,h),t}function sy(t,n,r,l){return zr(),n.flags|=256,en(t,n,r,l),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:Yg()}}function zf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=kn),t}function ry(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?zs(n):Bs(),(t=ft)?(t=d_(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=jg(t),r.return=n,n.child=r,Jt=n,ft=null)):t=null,t===null)throw ks(n);return bd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Bs(),h=n.mode,T=ec({mode:"hidden",children:T},h),l=Pr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Pf(r),l.childLanes=zf(t,g,r),n.memoizedState=jf,to(null,l)):(zs(n),Bf(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=qf(t,n,r)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),T=l.fallback,h=n.mode,l=ec({mode:"visible",children:l.children},h),T=Pr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Qr(n,t.child,null,r),l=n.child,l.memoizedState=Pf(r),l.childLanes=zf(t,g,r),n.memoizedState=jf,n=to(null,l));else if(zs(n),bd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,Hl({value:l,source:null,stack:null}),n=qf(t,n,r)}else if(kt||Ra(t,n,r,!1),g=(r&t.childLanes)!==0,kt||g){if(g=ut,g!==null&&(l=bl(g,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,jr(t,l),Sn(g,t,l),Uf;Td(T)||uc(),n=qf(t,n,r)}else Td(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ft=$n(T.nextSibling),Jt=n,He=!0,Vs=null,Kn=!1,t!==null&&Bg(n,t),n=Bf(n,l.children),n.flags|=4096);return n}return h?(Bs(),T=l.fallback,h=n.mode,R=t.child,P=R.sibling,l=Xi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=Xi(P,T):(T=Pr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,to(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Pf(r):(h=T.cachePool,h!==null?(R=Mt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Yg(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=zf(t,g,r),n.memoizedState=jf,to(t.child,l)):(zs(n),r=t.child,t=r.sibling,r=Xi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Bf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=Dn(22,t,null,n),t.lanes=0,t}function qf(t,n,r){return Qr(n,t.child,null,r),t=Bf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ay(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),nf(t.return,n,r)}function Hf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ly(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=xt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ie(xt,g),en(t,n,l,r),l=He?ql:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ay(t,r,n);else if(t.tag===19)ay(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Hf(n,!0,r,null,f,l);break;case"together":Hf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ts(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ra(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Xi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function DT(t,n,r){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),Us(n,Mt,t.memoizedState.cache),zr();break;case 27:case 5:se(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(zs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ry(t,n,r):(zs(n),t=ts(t,n,r),t!==null?t.sibling:null);zs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ra(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ly(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(xt,xt.current),l)break;return null;case 22:return n.lanes=0,Wp(t,n,r,n.pendingProps);case 24:Us(n,Mt,t.memoizedState.cache)}return ts(t,n,r)}function oy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)kt=!0;else{if(!Gf(t,r)&&(n.flags&128)===0)return kt=!1,DT(t,n,r);kt=(t.flags&131072)!==0}else kt=!1,He&&(n.flags&1048576)!==0&&zg(n,ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Gr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(l=Kr(t,l),n.tag=1,n=iy(null,n,t,l,r)):(n.tag=0,n=Lf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===$e){n.tag=11,n=$p(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=Zp(null,n,t,l,r);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Kr(l,n.pendingProps),iy(t,n,l,h,r);case 3:e:{if(Et(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,cf(t,n),$l(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Us(n,Mt,l),l!==f.cache&&sf(n,[Mt],r,!0),Xl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(t,n,l,r);break e}else if(l!==h){h=Fn(Error(a(424)),n),Hl(h),n=sy(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=$n(t.firstChild),Jt=n,He=!0,Vs=null,Kn=!0,r=Wg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(zr(),l===h){n=ts(t,n,r);break e}en(t,n,l,r)}n=n.child}return n;case 26:return Wu(t,n),t===null?(r=v_(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,l=pc(Se.current).createElement(r),l[Nt]=n,l[Gt]=t,tn(l,r,t),Dt(l),n.stateNode=l):n.memoizedState=v_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return se(n),t===null&&He&&(l=n.stateNode=p_(n.type,n.pendingProps,Se.current),Jt=n,Kn=!0,h=ft,Xs(n.type)?(Sd=h,ft=$n(l.firstChild)):ft=h),en(t,n,n.pendingProps.children,r),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=ft)&&(l=lb(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Jt=n,ft=$n(l.firstChild),Kn=!1,h=!0):h=!1),h||ks(n)),se(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,_d(h,f)?l=null:g!==null&&_d(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(t,n,bT,null,null,r),yo._currentValue=h),Wu(t,n),en(t,n,l,r),n.child;case 6:return t===null&&He&&((t=r=ft)&&(r=ob(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Jt=n,ft=null,t=!0):t=!1),t||ks(n)),null;case 13:return ry(t,n,r);case 4:return Et(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Qr(n,null,l,r):en(t,n,l,r),n.child;case 11:return $p(t,n,n.type,n.pendingProps,r);case 7:return en(t,n,n.pendingProps,r),n.child;case 8:return en(t,n,n.pendingProps.children,r),n.child;case 12:return en(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Us(n,n.type,l.value),en(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,qr(n),h=Wt(h),l=l(h),n.flags|=1,en(t,n,l,r),n.child;case 14:return Zp(t,n,n.type,n.pendingProps,r);case 15:return Jp(t,n,n.type,n.pendingProps,r);case 19:return ly(t,n,r);case 31:return NT(t,n,r);case 22:return Wp(t,n,r,n.pendingProps);case 24:return qr(n),l=Wt(Mt),t===null?(h=lf(),h===null&&(h=ut,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},uf(n),Us(n,Mt,h)):((t.lanes&r)!==0&&(cf(t,n),$l(n,null,null,r),Xl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,Mt,l)):(l=f.cache,Us(n,Mt,l),l!==h.cache&&sf(n,[Mt],r,!0))),en(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ns(t){t.flags|=4}function Ff(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ky())t.flags|=8192;else throw Fr=ju,of}else t.flags&=-16777217}function uy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A_(n))if(ky())t.flags|=8192;else throw Fr=ju,of}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lu():536870912,t.lanes|=n,Pa|=n)}function no(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function OT(t,n,r){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return dt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ji(Mt),ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xa(n)?ns(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),dt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ns(n),f!==null?(dt(n),uy(n,f)):(dt(n),Ff(n,h,null,l,r))):f?f!==t.memoizedState?(ns(n),dt(n),uy(n,f)):(dt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ns(n),dt(n),Ff(n,h,t,l,r)),null;case 27:if(te(n),r=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return dt(n),null}t=re.current,xa(n)?qg(n):(t=p_(h,l,r),n.stateNode=t,ns(n))}return dt(n),null;case 5:if(te(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return dt(n),null}if(f=re.current,xa(n))qg(n);else{var g=pc(Se.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Nt]=n,f[Gt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(tn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ns(n)}}return dt(n),Ff(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Se.current,xa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||r_(t.nodeValue,r)),t||ks(n,!0)}else t=pc(t).createTextNode(l),t[Nt]=n,n.stateNode=t}return dt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=xa(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Nt]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),t=!1}else r=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return dt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else h=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),dt(n),null);case 4:return ct(),t===null&&dd(n.stateNode.containerInfo),dt(n),null;case 10:return Ji(n.type),dt(n),null;case 19:if(Y(xt),l=n.memoizedState,l===null)return dt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)no(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,no(l,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Lg(r,t),r=r.sibling;return ie(xt,xt.current&1|2),He&&$i(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Xt()>ac&&(n.flags|=128,h=!0,no(l,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),no(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return dt(n),null}else 2*Xt()-l.renderingStartTime>ac&&r!==536870912&&(n.flags|=128,h=!0,no(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xt(),t.sibling=null,r=xt.current,ie(xt,h?r&1|2:r&1),He&&$i(n,l.treeForkCount),t):(dt(n),null);case 22:case 23:return Mn(n),mf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(Hr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ji(Mt),dt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function MT(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(Mt),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return te(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(a(340));zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(xt),null;case 4:return ct(),null;case 10:return Ji(n.type),null;case 22:case 23:return Mn(n),mf(),t!==null&&Y(Hr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(Mt),null;case 25:return null;default:return null}}function cy(t,n){switch(Jh(n),n.tag){case 3:Ji(Mt),ct();break;case 26:case 27:case 5:te(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:Y(xt);break;case 10:Ji(n.type);break;case 22:case 23:Mn(n),mf(),t!==null&&Y(Hr);break;case 24:Ji(Mt)}}function io(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(T){nt(n,n.return,T)}}function qs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=r,P=T;try{P()}catch(F){nt(h,R,F)}}}l=l.next}while(l!==f)}}catch(F){nt(n,n.return,F)}}function hy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{tp(n,r)}catch(l){nt(t,t.return,l)}}}function fy(t,n,r){r.props=Kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){nt(t,n,l)}}function so(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){nt(t,n,h)}}function Vi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){nt(t,n,h)}else r.current=null}function dy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){nt(t,t.return,h)}}function Qf(t,n,r){try{var l=t.stateNode;tb(l,t.type,r,n),l[Gt]=n}catch(h){nt(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=si));else if(l!==4&&(l===27&&Xs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,r),t=t.sibling;t!==null;)Kf(t,n,r),t=t.sibling}function nc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Xs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(nc(t,n,r),t=t.sibling;t!==null;)nc(t,n,r),t=t.sibling}function gy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,l,r),n[Nt]=t,n[Gt]=r}catch(f){nt(t,t.return,f)}}var is=!1,Ut=!1,Xf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function VT(t,n){if(t=t.containerInfo,pd=Sc,t=Ig(t),Bh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,R=-1,P=0,F=0,K=t,z=null;t:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(T=g+h),K!==f||l!==0&&K.nodeType!==3||(R=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===t)break t;if(z===r&&++P===h&&(T=g),z===f&&++F===l&&(R=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(yd={focusedElem:t,selectionRange:r},Sc=!1,Qt=n;Qt!==null;)if(n=Qt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Qt=t;else for(;Qt!==null;){switch(n=Qt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var oe=Kr(r.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){nt(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ed(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Qt=t;break}Qt=n.return}}function yy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:rs(t,r),l&4&&io(5,r);break;case 1:if(rs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){nt(r,r.return,g)}else{var h=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){nt(r,r.return,g)}}l&64&&hy(r),l&512&&so(r,r.return);break;case 3:if(rs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{tp(t,n)}catch(g){nt(r,r.return,g)}}break;case 27:n===null&&l&4&&gy(r);case 26:case 5:rs(t,r),n===null&&l&4&&dy(r),l&512&&so(r,r.return);break;case 12:rs(t,r);break;case 31:rs(t,r),l&4&&Ey(t,r);break;case 13:rs(t,r),l&4&&Ty(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=HT.bind(null,r),ub(t,r))));break;case 22:if(l=r.memoizedState!==null||is,!l){n=n!==null&&n.memoizedState!==null||Ut,h=is;var f=Ut;is=l,(Ut=n)&&!f?as(t,r,(r.subtreeFlags&8772)!==0):rs(t,r),is=h,Ut=f}break;case 30:break;default:rs(t,r)}}function _y(t){var n=t.alternate;n!==null&&(t.alternate=null,_y(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ua(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,vn=!1;function ss(t,n,r){for(r=r.child;r!==null;)vy(t,n,r),r=r.sibling}function vy(t,n,r){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ei,r)}catch{}switch(r.tag){case 26:Ut||Vi(r,n),ss(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ut||Vi(r,n);var l=pt,h=vn;Xs(r.type)&&(pt=r.stateNode,vn=!1),ss(t,n,r),mo(r.stateNode),pt=l,vn=h;break;case 5:Ut||Vi(r,n);case 6:if(l=pt,h=vn,pt=null,ss(t,n,r),pt=l,vn=h,pt!==null)if(vn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(r.stateNode)}catch(f){nt(r,n,f)}else try{pt.removeChild(r.stateNode)}catch(f){nt(r,n,f)}break;case 18:pt!==null&&(vn?(t=pt,h_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ya(t)):h_(pt,r.stateNode));break;case 4:l=pt,h=vn,pt=r.stateNode.containerInfo,vn=!0,ss(t,n,r),pt=l,vn=h;break;case 0:case 11:case 14:case 15:qs(2,r,n),Ut||qs(4,r,n),ss(t,n,r);break;case 1:Ut||(Vi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&fy(r,n,l)),ss(t,n,r);break;case 21:ss(t,n,r);break;case 22:Ut=(l=Ut)||r.memoizedState!==null,ss(t,n,r),Ut=l;break;default:ss(t,n,r)}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(r){nt(n,n.return,r)}}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(r){nt(n,n.return,r)}}function kT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new py),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new py),n;default:throw Error(a(435,t.tag))}}function ic(t,n){var r=kT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=GT.bind(null,t,l);l.then(h,h)}})}function En(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(Xs(T.type)){pt=T.stateNode,vn=!1;break e}break;case 5:pt=T.stateNode,vn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,vn=!0;break e}T=T.return}if(pt===null)throw Error(a(160));vy(f,g,h),pt=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,t),n=n.sibling}var ci=null;function by(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),Tn(t),l&4&&(qs(3,t,t.return),io(3,t),qs(5,t,t.return));break;case 1:En(n,t),Tn(t),l&512&&(Ut||r===null||Vi(r,r.return)),l&64&&is&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ci;if(En(n,t),Tn(t),l&512&&(Ut||r===null||Vi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,l,r),f[Nt]=t,Dt(f),l=f;break e;case"link":var g=b_("link","href",h).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),tn(f,l,r),h.head.appendChild(f);break;case"meta":if(g=b_("meta","content",h).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(l),tn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Nt]=t,Dt(f),l=f}t.stateNode=l}else S_(h,t.type,t.stateNode);else t.stateNode=T_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?S_(h,t.type,t.stateNode):T_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,r.memoizedProps)}break;case 27:En(n,t),Tn(t),l&512&&(Ut||r===null||Vi(r,r.return)),r!==null&&l&4&&Qf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(En(n,t),Tn(t),l&512&&(Ut||r===null||Vi(r,r.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(oe){nt(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Qf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(En(n,t),Tn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(oe){nt(t,t.return,oe)}}break;case 3:if(vc=null,h=ci,ci=yc(n.containerInfo),En(n,t),ci=h,Tn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ya(n.containerInfo)}catch(oe){nt(t,t.return,oe)}Xf&&(Xf=!1,Sy(t));break;case 4:l=ci,ci=yc(t.stateNode.containerInfo),En(n,t),Tn(t),ci=l;break;case 12:En(n,t),Tn(t);break;case 31:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 13:En(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(rc=Xt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=is,F=Ut;if(is=P||h,Ut=F||R,En(n,t),Ut=F,is=P,Tn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||is||Ut||Xr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){nt(R,R.return,oe)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(oe){nt(R,R.return,oe)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?f_(q,!0):f_(R.stateNode,!1)}catch(oe){nt(R,R.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ic(t,r))));break;case 19:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 30:break;case 21:break;default:En(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(my(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(t);nc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(_n(g,""),r.flags&=-33);var T=Yf(t);nc(t,T,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Yf(t);Kf(t,P,R);break;default:throw Error(a(161))}}catch(F){nt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(t,n.alternate,n),n=n.sibling}function Xr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Xr(n);break;case 1:Vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&fy(n,n.return,r),Xr(n);break;case 27:mo(n.stateNode);case 26:case 5:Vi(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}t=t.sibling}}function as(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:as(h,f,r),io(4,f);break;case 1:if(as(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){nt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ep(R[h],T)}catch(P){nt(l,l.return,P)}}r&&g&64&&hy(f),so(f,f.return);break;case 27:gy(f);case 26:case 5:as(h,f,r),r&&l===null&&g&4&&dy(f),so(f,f.return);break;case 12:as(h,f,r);break;case 31:as(h,f,r),r&&g&4&&Ey(h,f);break;case 13:as(h,f,r),r&&g&4&&Ty(h,f);break;case 22:f.memoizedState===null&&as(h,f,r),so(f,f.return);break;case 30:break;default:as(h,f,r)}n=n.sibling}}function $f(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Gl(r))}function Zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t))}function hi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(t,n,r,l),n=n.sibling}function Ay(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,r,l),h&2048&&io(9,n);break;case 1:hi(t,n,r,l);break;case 3:hi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t)));break;case 12:if(h&2048){hi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){nt(n,n.return,R)}}else hi(t,n,r,l);break;case 31:hi(t,n,r,l);break;case 13:hi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?hi(t,n,r,l):ro(t,n):f._visibility&2?hi(t,n,r,l):(f._visibility|=2,Ua(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&$f(g,n);break;case 24:hi(t,n,r,l),h&2048&&Zf(n.alternate,n);break;default:hi(t,n,r,l)}}function Ua(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ua(f,g,T,R,h),io(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ua(f,g,T,R,h):ro(f,g):(F._visibility|=2,Ua(f,g,T,R,h)),h&&P&2048&&$f(g.alternate,g);break;case 24:Ua(f,g,T,R,h),h&&P&2048&&Zf(g.alternate,g);break;default:Ua(f,g,T,R,h)}n=n.sibling}}function ro(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:ro(r,l),h&2048&&$f(l.alternate,l);break;case 24:ro(r,l),h&2048&&Zf(l.alternate,l);break;default:ro(r,l)}n=n.sibling}}var ao=8192;function La(t,n,r){if(t.subtreeFlags&ao)for(t=t.child;t!==null;)wy(t,n,r),t=t.sibling}function wy(t,n,r){switch(t.tag){case 26:La(t,n,r),t.flags&ao&&t.memoizedState!==null&&Tb(r,ci,t.memoizedState,t.memoizedProps);break;case 5:La(t,n,r);break;case 3:case 4:var l=ci;ci=yc(t.stateNode.containerInfo),La(t,n,r),ci=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ao,ao=16777216,La(t,n,r),ao=l):La(t,n,r));break;default:La(t,n,r)}}function xy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function lo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Qt=l,Iy(l,t)}xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:lo(t),t.flags&2048&&qs(9,t,t.return);break;case 3:lo(t);break;case 12:lo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):lo(t);break;default:lo(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Qt=l,Iy(l,t)}xy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),sc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function Iy(t,n){for(;Qt!==null;){var r=Qt;switch(r.tag){case 0:case 11:case 15:qs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Qt=l;else e:for(r=t;Qt!==null;){l=Qt;var h=l.sibling,f=l.return;if(_y(l),l===r){Qt=null;break e}if(h!==null){h.return=f,Qt=h;break e}Qt=f}}}var UT={getCacheForType:function(t){var n=Wt(Mt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Wt(Mt).controller.signal}},LT=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,Oe=null,Le=0,tt=0,Vn=null,Hs=!1,ja=!1,Jf=!1,ls=0,St=0,Gs=0,$r=0,Wf=0,kn=0,Pa=0,oo=null,bn=null,ed=!1,rc=0,Cy=0,ac=1/0,lc=null,Fs=null,Bt=0,Qs=null,za=null,os=0,td=0,nd=null,Ny=null,uo=0,id=null;function Un(){return(Je&2)!==0&&Le!==0?Le&-Le:G.T!==null?ud():ou()}function Dy(){if(kn===0)if((Le&536870912)===0||He){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),kn=t}else kn=536870912;return t=On.current,t!==null&&(t.flags|=32),kn}function Sn(t,n,r){(t===ut&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Ys(t,Le,kn,!1)),Ar(t,r),((Je&2)===0||t!==ut)&&(t===ut&&((Je&2)===0&&($r|=r),St===4&&Ys(t,Le,kn,!1)),ki(t))}function Oy(t,n,r){if((Je&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ti(t,n),h=l?zT(t,n):rd(t,n,!0),f=l;do{if(h===0){ja&&!l&&Ys(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!jT(r)){h=rd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=oo;var R=T.current.memoizedState.isDehydrated;if(R&&(Ba(T,g).flags|=256),g=rd(T,g,!1),g!==2){if(Jf&&!R){T.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break e}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ba(t,0),Ys(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(l,n,kn,!Hs);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-Xt(),10<h)){if(Ys(l,n,kn,!Hs),yi(l,0,!0)!==0)break e;os=n,l.timeoutHandle=u_(My.bind(null,l,r,bn,lc,ed,n,kn,$r,Pa,Hs,f,"Throttled",-0,0),h);break e}My(l,r,bn,lc,ed,n,kn,$r,Pa,Hs,f,null,-0,0)}}break}while(!0);ki(t)}function My(t,n,r,l,h,f,g,T,R,P,F,K,z,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},wy(n,f,K);var oe=(f&62914560)===f?rc-Xt():(f&4194048)===f?Cy-Xt():0;if(oe=bb(K,oe),oe!==null){os=f,t.cancelPendingCommit=oe(By.bind(null,t,n,f,r,l,h,g,T,R,F,K,null,z,q)),Ys(t,f,g,!P);return}}By(t,n,f,r,l,h,g,T,R)}function jT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,r,l){n&=~Wf,n&=~$r,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-At(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&wr(t,r,n)}function oc(){return(Je&6)===0?(co(0),!1):!0}function sd(){if(Oe!==null){if(tt===0)var t=Oe.return;else t=Oe,Zi=Br=null,Ef(t),Da=null,Ql=0,t=Oe;for(;t!==null;)cy(t.alternate,t),t=t.return;Oe=null}}function Ba(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),os=0,sd(),ut=t,Oe=r=Xi(t.current,null),Le=n,tt=0,Vn=null,Hs=!1,ja=ti(t,n),Jf=!1,Pa=kn=Wf=$r=Gs=St=0,bn=oo=null,ed=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-At(l),f=1<<h;n|=t[h],l&=~f}return ls=n,Cu(),r}function Vy(t,n){Re=null,G.H=eo,n===Na||n===Lu?(n=$g(),tt=3):n===of?(n=$g(),tt=4):tt=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vn=n,Oe===null&&(St=1,Zu(t,Fn(n,t.current)))}function ky(){var t=On.current;return t===null?!0:(Le&4194048)===Le?Xn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Xn:!1}function Uy(){var t=G.H;return G.H=eo,t===null?eo:t}function Ly(){var t=G.A;return G.A=UT,t}function uc(){St=4,Hs||(Le&4194048)!==Le&&On.current!==null||(ja=!0),(Gs&134217727)===0&&($r&134217727)===0||ut===null||Ys(ut,Le,kn,!1)}function rd(t,n,r){var l=Je;Je|=2;var h=Uy(),f=Ly();(ut!==t||Le!==n)&&(lc=null,Ba(t,n)),n=!1;var g=St;e:do try{if(tt!==0&&Oe!==null){var T=Oe,R=Vn;switch(tt){case 8:sd(),g=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var P=tt;if(tt=0,Vn=null,qa(t,T,R,P),r&&ja){g=0;break e}break;default:P=tt,tt=0,Vn=null,qa(t,T,R,P)}}PT(),g=St;break}catch(F){Vy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Zi=Br=null,Je=l,G.H=h,G.A=f,Oe===null&&(ut=null,Le=0,Cu()),g}function PT(){for(;Oe!==null;)jy(Oe)}function zT(t,n){var r=Je;Je|=2;var l=Uy(),h=Ly();ut!==t||Le!==n?(lc=null,ac=Xt()+500,Ba(t,n)):ja=ti(t,n);e:do try{if(tt!==0&&Oe!==null){n=Oe;var f=Vn;t:switch(tt){case 1:tt=0,Vn=null,qa(t,n,f,1);break;case 2:case 9:if(Kg(f)){tt=0,Vn=null,Py(n);break}n=function(){tt!==2&&tt!==9||ut!==t||(tt=7),ki(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Kg(f)?(tt=0,Vn=null,Py(n)):(tt=0,Vn=null,qa(t,n,f,7));break;case 5:var g=null;switch(Oe.tag){case 26:g=Oe.memoizedState;case 5:case 27:var T=Oe;if(g?A_(g):T.stateNode.complete){tt=0,Vn=null;var R=T.sibling;if(R!==null)Oe=R;else{var P=T.return;P!==null?(Oe=P,cc(P)):Oe=null}break t}}tt=0,Vn=null,qa(t,n,f,5);break;case 6:tt=0,Vn=null,qa(t,n,f,6);break;case 8:sd(),St=6;break e;default:throw Error(a(462))}}BT();break}catch(F){Vy(t,F)}while(!0);return Zi=Br=null,G.H=l,G.A=h,Je=r,Oe!==null?0:(ut=null,Le=0,Cu(),St)}function BT(){for(;Oe!==null&&!jn();)jy(Oe)}function jy(t){var n=oy(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?cc(t):Oe=n}function Py(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ny(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=ny(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Ef(n);default:cy(r,n),n=Oe=Lg(n,ls),n=oy(r,n,ls)}t.memoizedProps=t.pendingProps,n===null?cc(t):Oe=n}function qa(t,n,r,l){Zi=Br=null,Ef(n),Da=null,Ql=0;var h=n.return;try{if(CT(t,h,n,r,Le)){St=1,Zu(t,Fn(r,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;St=1,Zu(t,Fn(r,t.current)),Oe=null;return}n.flags&32768?(He||l===1?t=!0:ja||(Le&536870912)!==0?t=!1:(Hs=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),zy(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){zy(n,Hs);return}t=n.return;var r=OT(n.alternate,n,ls);if(r!==null){Oe=r;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);St===0&&(St=5)}function zy(t,n){do{var r=MT(t.alternate,t);if(r!==null){r.flags&=32767,Oe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=r}while(t!==null);St=6,Oe=null}function By(t,n,r,l,h,f,g,T,R){t.cancelPendingCommit=null;do hc();while(Bt!==0);if((Je&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qh,Lh(t,r,f,g,T,R),t===ut&&(Oe=ut=null,Le=0),za=n,Qs=t,os=r,td=f,nd=h,Ny=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FT(Ss,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ne.p,ne.p=2,g=Je,Je|=4;try{VT(t,n,r)}finally{Je=g,ne.p=h,G.T=l}}Bt=1,qy(),Hy(),Gy()}}function qy(){if(Bt===1){Bt=0;var t=Qs,n=za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=ne.p;ne.p=2;var h=Je;Je|=4;try{by(n,t);var f=yd,g=Ig(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Rg(T.ownerDocument.documentElement,T)){if(R!==null&&Bh(T)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(F,T.value.length);else{var K=T.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),oe=T.textContent.length,ye=Math.min(R.start,oe),at=R.end===void 0?ye:Math.min(R.end,oe);!q.extend&&ye>at&&(g=at,at=ye,ye=g);var k=xg(T,ye),D=xg(T,at);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=K.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),ye>at?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Q=K[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!pd,yd=pd=null}finally{Je=h,ne.p=l,G.T=r}}t.current=n,Bt=2}}function Hy(){if(Bt===2){Bt=0;var t=Qs,n=za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=ne.p;ne.p=2;var h=Je;Je|=4;try{yy(t,n.alternate,n)}finally{Je=h,ne.p=l,G.T=r}}Bt=3}}function Gy(){if(Bt===4||Bt===3){Bt=0,bs();var t=Qs,n=za,r=os,l=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,za=Qs=null,Fy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Fi(r),n=n.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,ne.p=h}}(os&3)!==0&&hc(),ki(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===id?uo++:(uo=0,id=t):uo=0,co(0)}}function Fy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Gl(n)))}function hc(){return qy(),Hy(),Gy(),Qy()}function Qy(){if(Bt!==5)return!1;var t=Qs,n=td;td=0;var r=Fi(os),l=G.T,h=ne.p;try{ne.p=32>r?32:r,G.T=null,r=nd,nd=null;var f=Qs,g=os;if(Bt=0,za=Qs=null,os=0,(Je&6)!==0)throw Error(a(331));var T=Je;if(Je|=4,Ry(f.current),Ay(f,f.current,g,r),Je=T,co(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ei,f)}catch{}return!0}finally{ne.p=h,G.T=l,Fy(t,n)}}function Yy(t,n,r){n=Fn(r,n),n=kf(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(Ar(t,2),ki(t))}function nt(t,n,r){if(t.tag===3)Yy(t,t,r);else for(;n!==null;){if(n.tag===3){Yy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=Fn(r,t),r=Kp(2),l=Ps(n,r,2),l!==null&&(Xp(r,l,n,t),Ar(l,2),ki(l));break}}n=n.return}}function ad(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new LT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Jf=!0,h.add(r),t=qT.bind(null,t,n,r),n.then(t,t))}function qT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ut===t&&(Le&r)===r&&(St===4||St===3&&(Le&62914560)===Le&&300>Xt()-rc?(Je&2)===0&&Ba(t,0):Wf|=r,Pa===Le&&(Pa=0)),ki(t)}function Ky(t,n){n===0&&(n=lu()),t=jr(t,n),t!==null&&(Ar(t,n),ki(t))}function HT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Ky(t,r)}function GT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ky(t,r)}function FT(t,n){return Ce(t,n)}var fc=null,Ha=null,ld=!1,dc=!1,od=!1,Ks=0;function ki(t){t!==Ha&&t.next===null&&(Ha===null?fc=Ha=t:Ha=Ha.next=t),dc=!0,ld||(ld=!0,YT())}function co(t,n){if(!od&&dc){od=!0;do for(var r=!1,l=fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Jy(l,f))}else f=Le,f=yi(l,l===ut?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ti(l,f)||(r=!0,Jy(l,f));l=l.next}while(r);od=!1}}function QT(){Xy()}function Xy(){dc=ld=!1;var t=0;Ks!==0&&ib()&&(t=Ks);for(var n=Xt(),r=null,l=fc;l!==null;){var h=l.next,f=$y(l,n);f===0?(l.next=null,r===null?fc=h:r.next=h,h===null&&(Ha=r)):(r=l,(t!==0||(f&3)!==0)&&(dc=!0)),l=h}Bt!==0&&Bt!==5||co(t),Ks!==0&&(Ks=0)}function $y(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-At(f),T=1<<g,R=h[g];R===-1?((T&r)===0||(T&l)!==0)&&(h[g]=Uh(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=ut,r=Le,r=yi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Kt(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ti(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Kt(l),Fi(r)){case 2:case 8:r=El;break;case 32:r=Ss;break;case 268435456:r=nu;break;default:r=Ss}return l=Zy.bind(null,t),r=Ce(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Kt(l),t.callbackPriority=2,t.callbackNode=null,2}function Zy(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(hc()&&t.callbackNode!==r)return null;var l=Le;return l=yi(t,t===ut?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Oy(t,l,n),$y(t,Xt()),t.callbackNode!=null&&t.callbackNode===r?Zy.bind(null,t):null)}function Jy(t,n){if(hc())return null;Oy(t,n,!0)}function YT(){rb(function(){(Je&6)!==0?Ce(vl,QT):Xy()})}function ud(){if(Ks===0){var t=Ia;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Ks=t}return Ks}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function e_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function KT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Wy((h[Gt]||null).action),g=l.submitter;g&&(n=(n=g[Gt]||null)?Wy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ii("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var R=g?e_(h,g):new FormData(h);Cf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?e_(h,g):new FormData(h),Cf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var cd=0;cd<Fh.length;cd++){var hd=Fh[cd],XT=hd.toLowerCase(),$T=hd[0].toUpperCase()+hd.slice(1);ui(XT,"on"+$T)}ui(Dg,"onAnimationEnd"),ui(Og,"onAnimationIteration"),ui(Mg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(fT,"onTransitionRun"),ui(dT,"onTransitionStart"),ui(mT,"onTransitionCancel"),ui(Vg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ho));function t_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=R}}}}function Me(t,n){var r=n[oa];r===void 0&&(r=n[oa]=new Set);var l=t+"__bubble";r.has(l)||(n_(n,t,2,!1),r.add(l))}function fd(t,n,r){var l=0;n&&(l|=4),n_(r,t,l,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[mc]){t[mc]=!0,Sl.forEach(function(r){r!=="selectionchange"&&(ZT.has(r)||fd(r,!1,t),fd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,fd("selectionchange",!1,n))}}function n_(t,n,r,l){switch(D_(n)){case 2:var h=wb;break;case 8:h=xb;break;default:h=Id}r=h.bind(null,n,r,t),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function md(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ti(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue e}T=T.parentNode}}l=l.return}Cs(function(){var P=f,F=Bn(r),K=[];e:{var z=kg.get(t);if(z!==void 0){var q=Ii,oe=t;switch(t){case"keypress":if(Or(r)===0)break e;case"keydown":case"keyup":q=wu;break;case"focusin":oe="focus",q=Vr;break;case"focusout":oe="blur",q=Vr;break;case"beforeblur":case"afterblur":q=Vr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Dg:case Og:case Mg:q=_u;break;case Vg:q=S;break;case"scroll":case"scrollend":q=kl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ki;break;case"toggle":case"beforetoggle":q=xe}var ye=(n&4)!==0,at=!ye&&(t==="scroll"||t==="scrollend"),k=ye?z!==null?z+"Capture":null:z;ye=[];for(var D=P,j;D!==null;){var Q=D;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||k===null||(Q=ri(D,k),Q!=null&&ye.push(fo(D,Q,j))),at)break;D=D.return}0<ye.length&&(z=new q(z,oe,null,r,F),K.push({event:z,listeners:ye}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Ol&&(oe=r.relatedTarget||r.fromElement)&&(Ti(oe)||oe[vi]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(oe=r.relatedTarget||r.toElement,q=P,oe=oe?Ti(oe):null,oe!==null&&(at=c(oe),ye=oe.tag,oe!==at||ye!==5&&ye!==27&&ye!==6)&&(oe=null)):(q=null,oe=P),q!==oe)){if(ye=Ul,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ki,Q="onPointerLeave",k="onPointerEnter",D="pointer"),at=q==null?z:In(q),j=oe==null?z:In(oe),z=new ye(Q,D+"leave",q,r,F),z.target=at,z.relatedTarget=j,Q=null,Ti(F)===P&&(ye=new ye(k,D+"enter",oe,r,F),ye.target=j,ye.relatedTarget=at,Q=ye),at=Q,q&&oe)t:{for(ye=JT,k=q,D=oe,j=0,Q=k;Q;Q=ye(Q))j++;Q=0;for(var de=D;de;de=ye(de))Q++;for(;0<j-Q;)k=ye(k),j--;for(;0<Q-j;)D=ye(D),Q--;for(;j--;){if(k===D||D!==null&&k===D.alternate){ye=k;break t}k=ye(k),D=ye(D)}ye=null}else ye=null;q!==null&&i_(K,z,q,ye,!1),oe!==null&&at!==null&&i_(K,at,oe,ye,!0)}}e:{if(z=P?In(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ye=Eg;else if(_g(z))if(Tg)Ye=uT;else{Ye=lT;var ue=aT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&fa(P.elementType)&&(Ye=Eg):Ye=oT;if(Ye&&(Ye=Ye(t,P))){vg(K,Ye,r,F);break e}ue&&ue(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Cl(z,"number",z.value)}switch(ue=P?In(P):window,t){case"focusin":(_g(ue)||ue.contentEditable==="true")&&(Ea=ue,qh=P,Bl=null);break;case"focusout":Bl=qh=Ea=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Cg(K,r,F);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":Cg(K,r,F)}var Ie;if(Ze)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else va?kr(t,r)&&(je="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(je="onCompositionStart");je&&(Di&&r.locale!=="ko"&&(va||je!=="onCompositionStart"?je==="onCompositionEnd"&&va&&(Ie=Vl()):(Ri=F,Ml="value"in Ri?Ri.value:Ri.textContent,va=!0)),ue=gc(P,je),0<ue.length&&(je=new Ni(je,t,null,r,F),K.push({event:je,listeners:ue}),Ie?je.data=Ie:(Ie=_a(r),Ie!==null&&(je.data=Ie)))),(Ie=Hn?nT(t,r):iT(t,r))&&(je=gc(P,"onBeforeInput"),0<je.length&&(ue=new Ni("onBeforeInput","beforeinput",null,r,F),K.push({event:ue,listeners:je}),ue.data=Ie)),KT(K,t,P,r,F)}t_(K,n)})}function fo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function gc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ri(t,r),h!=null&&l.unshift(fo(t,h,f)),h=ri(t,n),h!=null&&l.push(fo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function JT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=ri(r,f),P!=null&&g.unshift(fo(r,P,R))):h||(P=ri(r,f),P!=null&&g.push(fo(r,P,R)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var WT=/\r\n?/g,eb=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(WT,`
`).replace(eb,"")}function r_(t,n){return n=s_(n),s_(t)===n}function rt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,r,l);break;case"style":Dl(t,l,f);break;case"data":if(n!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=da(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=da(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=si);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=gu.get(r)||r,ca(t,r,l))}}function gd(t,n,r,l,h,f){switch(r){case"style":Dl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Gt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ca(t,r,l)}}}function tn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,f,g,r,null)}}h&&rt(t,n,"srcSet",r.srcSet,r,null),l&&rt(t,n,"src",r.src,r,null);return;case"input":Me("invalid",t);var T=f=g=h=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:rt(t,n,l,F,r,null)}}fu(t,f,T,R,P,g,h,!1);return;case"select":Me("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:rt(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!l,n!=null?ws(t,!!l,n,!1):r!=null&&ws(t,!!l,r,!0);return;case"textarea":Me("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:rt(t,n,g,T,r,null)}xs(t,l,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,n,R,l,r,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<ho.length;l++)Me(ho[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,P,l,r,null)}return;default:if(fa(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&gd(t,n,F,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&rt(t,n,T,l,r,null))}function tb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,F=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(q)||rt(t,n,q,null,l,K)}}for(var z in l){var q=l[z];if(K=r[z],l.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&rt(t,n,z,q,l,K)}}ha(t,g,T,R,P,F,f,h);return;case"select":q=g=T=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||rt(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&rt(t,n,h,f,l,R)}n=T,r=g,l=q,z!=null?ws(t,!!r,z,!1):!!l!=!!r&&(n!=null?ws(t,!!r,n,!0):ws(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,n,g,h,l,f)}du(t,z,q);return;case"option":for(var oe in r)if(z=r[oe],r.hasOwnProperty(oe)&&z!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:rt(t,n,oe,null,l,z)}for(R in l)if(z=l[R],q=r[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null))switch(R){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:rt(t,n,R,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)z=r[ye],r.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&rt(t,n,ye,null,l,z);for(P in l)if(z=l[P],q=r[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:rt(t,n,P,z,l,q)}return;default:if(fa(n)){for(var at in r)z=r[at],r.hasOwnProperty(at)&&z!==void 0&&!l.hasOwnProperty(at)&&gd(t,n,at,void 0,l,z);for(F in l)z=l[F],q=r[F],!l.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||gd(t,n,F,z,l,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&rt(t,n,k,null,l,z);for(K in l)z=l[K],q=r[K],!l.hasOwnProperty(K)||z===q||z==null&&q==null||rt(t,n,K,z,l,q)}function a_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&a_(g)){for(g=0,T=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],P=R.startTime;if(P>T)break;var F=R.transferSize,K=R.initiatorType;F&&a_(K)&&(R=R.responseEnd,g+=F*(R<T?1:(T-P)/(R-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,yd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function l_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function ib(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(ab)}:u_;function ab(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function h_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ya(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")mo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,mo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&mo(t.ownerDocument.body);r=h}while(r);Ya(n)}function f_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ed(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ed(r),ua(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function lb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function ob(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$n(t.nextSibling),t===null))return null;return t}function d_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$?"||t.data==="$~"}function bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ub(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function m_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return $n(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function g_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function p_(t,n,r){switch(n=pc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function mo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ua(t)}var Zn=new Map,y_=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=ne.d;ne.d={f:cb,r:hb,D:fb,C:db,L:mb,m:gb,X:yb,S:pb,M:_b};function cb(){var t=us.f(),n=oc();return t||n}function hb(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Vp(n):us.r(t)}var Ga=typeof document>"u"?null:document;function __(t,n,r){var l=Ga;if(l&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),y_.has(h)||(y_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),tn(n,"link",t),Dt(n),l.head.appendChild(n)))}}function fb(t){us.D(t),__("dns-prefetch",t,null)}function db(t,n){us.C(t,n),__("preconnect",t,n)}function mb(t,n,r){us.L(t,n,r);var l=Ga;if(l&&t&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+yn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+yn(r.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(n){case"style":f=Fa(t);break;case"script":f=Qa(t)}Zn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Zn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(go(f))||n==="script"&&l.querySelector(po(f))||(n=l.createElement("link"),tn(n,"link",t),Dt(n),l.head.appendChild(n)))}}function gb(t,n){us.m(t,n);var r=Ga;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(t)}if(!Zn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Zn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(po(f)))return}l=r.createElement("link"),tn(l,"link",t),Dt(l),r.head.appendChild(l)}}}function pb(t,n,r){us.S(t,n,r);var l=Ga;if(l&&t){var h=bi(l).hoistableStyles,f=Fa(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(go(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Zn.get(f))&&Ad(t,r);var R=g=l.createElement("link");Dt(R),tn(R,"link",t),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function yb(t,n){us.X(t,n);var r=Ga;if(r&&t){var l=bi(r).hoistableScripts,h=Qa(t),f=l.get(h);f||(f=r.querySelector(po(h)),f||(t=w({src:t,async:!0},n),(n=Zn.get(h))&&wd(t,n),f=r.createElement("script"),Dt(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _b(t,n){us.M(t,n);var r=Ga;if(r&&t){var l=bi(r).hoistableScripts,h=Qa(t),f=l.get(h);f||(f=r.querySelector(po(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Zn.get(h))&&wd(t,n),f=r.createElement("script"),Dt(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function v_(t,n,r,l){var h=(h=Se.current)?yc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Fa(r.href),r=bi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Fa(r.href);var f=bi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(go(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Zn.set(t,r),f||vb(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(r),r=bi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Fa(t){return'href="'+yn(t)+'"'}function go(t){return'link[rel="stylesheet"]['+t+"]"}function E_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function vb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),tn(n,"link",r),Dt(n),t.head.appendChild(n))}function Qa(t){return'[src="'+yn(t)+'"]'}function po(t){return"script[async]"+t}function T_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+yn(r.href)+'"]');if(l)return n.instance=l,Dt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),tn(l,"style",h),_c(l,r.precedence,t),n.instance=l;case"stylesheet":h=Fa(r.href);var f=t.querySelector(go(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;l=E_(r),(h=Zn.get(h))&&Ad(l,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),tn(f,"link",l),n.state.loading|=4,_c(f,r.precedence,t),n.instance=f;case"script":return f=Qa(r.src),(h=t.querySelector(po(f)))?(n.instance=h,Dt(h),h):(l=r,(h=Zn.get(f))&&(l=w({},r),wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),tn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_c(l,r.precedence,t));return n.instance}function _c(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function b_(t,n,r){if(vc===null){var l=new Map,h=vc=new Map;h.set(r,l)}else h=vc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ei]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function S_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Eb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Tb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Fa(l.href),f=n.querySelector(go(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Dt(f);return}f=n.ownerDocument||n,l=E_(l),(h=Zn.get(h))&&Ad(l,h),f=f.createElement("link"),Dt(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),tn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ec.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var xd=0;function bb(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*nb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(Sb,t),Tc=null,Ec.call(t))}function Sb(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var l=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=Ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var yo={$$typeof:ge,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Ab(t,n,r,l,h,f,g,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function w_(t,n,r,l,h,f,g,T,R,P,F,K){return t=new Ab(t,n,r,g,R,P,F,K,T),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},uf(f),t}function x_(t){return t?(t=Sa,t):Sa}function R_(t,n,r,l,h,f){h=x_(h),l.context===null?l.context=h:l.pendingContext=h,l=js(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ps(t,l,n),r!==null&&(Sn(r,t,n),Kl(r,t,n))}function I_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rd(t,n){I_(t,n),(t=t.alternate)&&I_(t,n)}function C_(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&Sn(n,t,67108864),Rd(t,67108864)}}function N_(t){if(t.tag===13||t.tag===31){var n=Un();n=xr(n);var r=jr(t,n);r!==null&&Sn(r,t,n),Rd(t,n)}}var Sc=!0;function wb(t,n,r,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=2,Id(t,n,r,l)}finally{ne.p=f,G.T=h}}function xb(t,n,r,l){var h=G.T;G.T=null;var f=ne.p;try{ne.p=8,Id(t,n,r,l)}finally{ne.p=f,G.T=h}}function Id(t,n,r,l){if(Sc){var h=Cd(l);if(h===null)md(t,n,l,Ac,r),O_(t,l);else if(Ib(h,t,n,r,l))l.stopPropagation();else if(O_(t,l),n&4&&-1<Rb.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=pi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-At(g);T.entanglements[1]|=R,g&=~R}ki(f),(Je&6)===0&&(ac=Xt()+500,co(0))}}break;case 31:case 13:T=jr(f,2),T!==null&&Sn(T,f,2),oc(),Rd(f,2)}if(f=Cd(l),f===null&&md(t,n,l,Ac,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else md(t,n,l,null,r)}}function Cd(t){return t=Bn(t),Nd(t)}var Ac=null;function Nd(t){if(Ac=null,t=Ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rn()){case vl:return 2;case El:return 8;case Ss:case kh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var Dd=!1,$s=null,Zs=null,Js=null,_o=new Map,vo=new Map,Ws=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":_o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(n.pointerId)}}function Eo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&C_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Ib(t,n,r,l,h){switch(n){case"focusin":return $s=Eo($s,t,n,r,l,h),!0;case"dragenter":return Zs=Eo(Zs,t,n,r,l,h),!0;case"mouseover":return Js=Eo(Js,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return _o.set(f,Eo(_o.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,vo.set(f,Eo(vo.get(f)||null,t,n,r,l,h)),!0}return!1}function M_(t){var n=Ti(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ni(t.priority,function(){N_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,ni(t.priority,function(){N_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Cd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ol=l,r.target.dispatchEvent(l),Ol=null}else return n=zn(r),n!==null&&C_(n),t.blockedOn=r,!1;n.shift()}return!0}function V_(t,n,r){wc(t)&&r.delete(n)}function Cb(){Dd=!1,$s!==null&&wc($s)&&($s=null),Zs!==null&&wc(Zs)&&(Zs=null),Js!==null&&wc(Js)&&(Js=null),_o.forEach(V_),vo.forEach(V_)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Cb)))}var Rc=null;function k_(t){Rc!==t&&(Rc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Nd(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ya(t){function n(R){return xc(R,t)}$s!==null&&xc($s,t),Zs!==null&&xc(Zs,t),Js!==null&&xc(Js,t),_o.forEach(n),vo.forEach(n);for(var r=0;r<Ws.length;r++){var l=Ws[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)M_(r),r.blockedOn===null&&Ws.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Gt]||null;if(typeof f=="function")g||k_(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Gt]||null)T=g.formAction;else if(Nd(h)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),k_(r)}}}function U_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(t){this._internalRoot=t}Ic.prototype.render=Od.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Un();R_(r,l,t,n,null,null)},Ic.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;R_(t.current,2,null,t,null,null),oc(),n[vi]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ws.length&&n!==0&&n<Ws[r].priority;r++);Ws.splice(r,0,t),r===0&&M_(t)}};var L_=e.version;if(L_!=="19.2.3")throw Error(a(527,L_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Nb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{ei=Cc.inject(Nb),$t=Cc}catch{}}return bo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Gp,f=Fp,g=Qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=w_(t,1,!1,null,null,r,l,null,h,f,g,U_),t[vi]=n.current,dd(t),new Od(n)},bo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Gp,g=Fp,T=Qp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=w_(t,1,!0,n,r??null,l,h,R,f,g,T,U_),n.context=x_(null),r=n.current,l=Un(),l=xr(l),h=js(l),h.callback=null,Ps(r,h,l),r=l,n.current.lanes=r,Ar(n,r),ki(n),t[vi]=n.current,dd(t),new Ic(n)},bo.version="19.2.3",bo}var Y_;function zb(){if(Y_)return kd.exports;Y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=Pb(),kd.exports}var Bb=zb();const qb=()=>{};var K_={};const Iv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Hb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,y=v?s[o+2]:0,E=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,H=y&63;v||(H=64,d||(M=64)),a.push(i[E],i[w],i[M],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Iv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Hb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||w==null)throw new Gb;const M=c<<2|p>>4;if(a.push(M),y!==64){const H=p<<4&240|y>>2;if(a.push(H),w!==64){const J=y<<6&192|w;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Gb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fb=function(s){const e=Iv(s);return Cv.encodeByteArray(e,!0)},Yc=function(s){return Fb(s).replace(/\./g,"")},Nv=function(s){try{return Cv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Yb=()=>Qb().__FIREBASE_DEFAULTS__,Kb=()=>{if(typeof process>"u"||typeof K_>"u")return;const s=K_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Xb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Nv(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return qb()||Yb()||Kb()||Xb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Dv=s=>mh()?.emulatorHosts?.[s],$b=s=>{const e=Dv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Ov=()=>mh()?.config,Mv=s=>mh()?.[`_${s}`];class Zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function fl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vv(s){return(await fetch(s,{credentials:"include"})).ok}function Jb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Ro={};function Wb(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ro))Ro[e]?s.emulator.push(e):s.prod.push(e);return s}function eS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let X_=!1;function kv(s,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||Ro[s]===e||Ro[s]||X_)return;Ro[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Wb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{X_=!0,d()},M}function E(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=eS(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),ee=i("learnmore"),Z=document.getElementById(ee)||document.createElement("a"),me=i("preprendIcon"),Te=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ge=M.element;p(ge),E(Z,ee);const $e=y();v(Te,me),ge.append(Te,J,Z,$e),document.body.appendChild(ge)}c?(J.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function nS(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function rS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aS(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function lS(){return!nS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oS(){try{return typeof indexedDB=="object"}catch{return!1}}function uS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const cS="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=cS,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?hS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ts(o,p,a)}}function hS(s,e){return s.replace(fS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const fS=/\{\$([^}]+)}/g;function dS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function mr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if($_(c)&&$_(d)){if(!mr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function $_(s){return s!==null&&typeof s=="object"}function Go(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function mS(s,e){const i=new gS(s,e);return i.subscribe.bind(i)}class gS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");pS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function pn(s){return s&&s._delegate?s._delegate:s}class ea{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class yS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Zb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vS(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_S(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _S(s){return s===Zr?void 0:s}function vS(s){return s.instantiationMode==="EAGER"}class ES{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const TS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},bS=Pe.INFO,SS={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},AS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=SS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=bS,this._logHandler=AS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const wS=(s,e)=>e.some(i=>s instanceof i);let Z_,J_;function xS(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RS(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,em=new WeakMap,Lv=new WeakMap,zd=new WeakMap,Im=new WeakMap;function IS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ur(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Im.set(e,s),e}function CS(s){if(em.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,e)}let tm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Lv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function NS(s){tm=s(tm)}function DS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Bd(this),e,...i);return Lv.set(a,e.sort?e.sort():[e]),ur(a)}:RS().includes(s)?function(...e){return s.apply(Bd(this),e),ur(Uv.get(this))}:function(...e){return ur(s.apply(Bd(this),e))}}function OS(s){return typeof s=="function"?DS(s):(s instanceof IDBTransaction&&CS(s),wS(s,xS())?new Proxy(s,tm):s)}function ur(s){if(s instanceof IDBRequest)return IS(s);if(zd.has(s))return zd.get(s);const e=OS(s);return e!==s&&(zd.set(s,e),Im.set(e,s)),e}const Bd=s=>Im.get(s);function MS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=ur(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ur(d.result),v.oldVersion,v.newVersion,ur(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const VS=["get","getKey","getAll","getAllKeys","count"],kS=["put","add","delete","clear"],qd=new Map;function W_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=kS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||VS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return qd.set(e,c),c}NS(s=>({...s,get:(e,i,a)=>W_(e,i)||s.get(e,i,a),has:(e,i)=>!!W_(e,i)||s.has(e,i)}));class US{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function LS(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",e0="0.14.6";const ms=new Rm("@firebase/app"),jS="@firebase/app-compat",PS="@firebase/analytics-compat",zS="@firebase/analytics",BS="@firebase/app-check-compat",qS="@firebase/app-check",HS="@firebase/auth",GS="@firebase/auth-compat",FS="@firebase/database",QS="@firebase/data-connect",YS="@firebase/database-compat",KS="@firebase/functions",XS="@firebase/functions-compat",$S="@firebase/installations",ZS="@firebase/installations-compat",JS="@firebase/messaging",WS="@firebase/messaging-compat",eA="@firebase/performance",tA="@firebase/performance-compat",nA="@firebase/remote-config",iA="@firebase/remote-config-compat",sA="@firebase/storage",rA="@firebase/storage-compat",aA="@firebase/firestore",lA="@firebase/ai",oA="@firebase/firestore-compat",uA="firebase",cA="12.6.0";const im="[DEFAULT]",hA={[nm]:"fire-core",[jS]:"fire-core-compat",[zS]:"fire-analytics",[PS]:"fire-analytics-compat",[qS]:"fire-app-check",[BS]:"fire-app-check-compat",[HS]:"fire-auth",[GS]:"fire-auth-compat",[FS]:"fire-rtdb",[QS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[KS]:"fire-fn",[XS]:"fire-fn-compat",[$S]:"fire-iid",[ZS]:"fire-iid-compat",[JS]:"fire-fcm",[WS]:"fire-fcm-compat",[eA]:"fire-perf",[tA]:"fire-perf-compat",[nA]:"fire-rc",[iA]:"fire-rc-compat",[sA]:"fire-gcs",[rA]:"fire-gcs-compat",[aA]:"fire-fst",[oA]:"fire-fst-compat",[lA]:"fire-vertex","fire-js":"fire-js",[uA]:"fire-js-all"};const Kc=new Map,fA=new Map,sm=new Map;function t0(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function sl(s){const e=s.name;if(sm.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,s);for(const i of Kc.values())t0(i,s);for(const i of fA.values())t0(i,s);return!0}function Cm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Jn(s){return s==null?!1:s.settings!==void 0}const dA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Ho("app","Firebase",dA);class mA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const dl=cA;function jv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:im,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(i||(i=Ov()),!i)throw cr.create("no-options");const c=Kc.get(o);if(c){if(mr(i,c.options)&&mr(a,c.config))return c;throw cr.create("duplicate-app",{appName:o})}const d=new ES(o);for(const v of sm.values())d.addComponent(v);const p=new mA(i,a,d);return Kc.set(o,p),p}function Pv(s=im){const e=Kc.get(s);if(!e&&s===im&&Ov())return jv();if(!e)throw cr.create("no-app",{appName:s});return e}function hr(s,e,i){let a=hA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}sl(new ea(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const gA="firebase-heartbeat-database",pA=1,Vo="firebase-heartbeat-store";let Hd=null;function zv(){return Hd||(Hd=MS(gA,pA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Vo)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function yA(s){try{const i=(await zv()).transaction(Vo),a=await i.objectStore(Vo).get(Bv(s));return await i.done,a}catch(e){if(e instanceof Ts)ms.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function n0(s,e){try{const a=(await zv()).transaction(Vo,"readwrite");await a.objectStore(Vo).put(e,Bv(s)),await a.done}catch(i){if(i instanceof Ts)ms.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function Bv(s){return`${s.name}!${s.options.appId}`}const _A=1024,vA=30;class EA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>vA){const o=SA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=i0(),{heartbeatsToSend:i,unsentEntries:a}=TA(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function i0(){return new Date().toISOString().substring(0,10)}function TA(s,e=_A){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),s0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),s0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oS()?uS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function s0(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function SA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function AA(s){sl(new ea("platform-logger",e=>new US(e),"PRIVATE")),sl(new ea("heartbeat",e=>new EA(e),"PRIVATE")),hr(nm,e0,s),hr(nm,e0,"esm2020"),hr("fire-js","")}AA("");var wA="firebase",xA="12.6.0";hr(wA,xA,"app");function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RA=qv,Hv=new Ho("auth","Firebase",qv());const Xc=new Rm("@firebase/auth");function IA(s,...e){Xc.logLevel<=Pe.WARN&&Xc.warn(`Auth (${dl}): ${s}`,...e)}function Uc(s,...e){Xc.logLevel<=Pe.ERROR&&Xc.error(`Auth (${dl}): ${s}`,...e)}function gs(s,...e){throw Nm(s,...e)}function Li(s,...e){return Nm(s,...e)}function Gv(s,e,i){const a={...RA(),[e]:i};return new Ho("auth","Firebase",a).create(e,{appName:s.name})}function ds(s){return Gv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Hv.create(s,...e)}function Ee(s,e,...i){if(!s)throw Nm(e,...i)}function cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Uc(e),new Error(e)}function ps(s,e){s||cs(e)}function rm(){return typeof self<"u"&&self.location?.href||""}function CA(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CA()||sS()||"connection"in navigator)?navigator.onLine:!0}function DA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Fo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ps(i>e,"Short delay should be less than long delay!"),this.isMobile=tS()||rS()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(s,e){ps(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Fv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VA=new Fo(3e4,6e4);function Qo(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ml(s,e,i,a,o={}){return Qv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Go({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:v,...c};return iS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&fl(s.emulatorConfig.host)&&(y.credentials="include"),Fv.fetch()(await Yv(s,s.config.apiHost,i,p),y)})}async function Qv(s,e,i){s._canInitEmulator=!1;const a={...OA,...e};try{const o=new kA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Nc(s,"user-disabled",d);const E=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Gv(s,E,y);gs(s,E)}}catch(o){if(o instanceof Ts)throw o;gs(s,"network-request-failed",{message:String(o)})}}async function Om(s,e,i,a,o={}){const c=await ml(s,e,i,a,o);return"mfaPendingCredential"in c&&gs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Dm(s.config,o):`${s.config.apiScheme}://${o}`;return MA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class kA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Li(this.auth,"network-request-failed")),VA.get())})}}function Nc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Li(s,e,a);return o.customData._tokenResponse=i,o}async function UA(s,e){return ml(s,"POST","/v1/accounts:delete",e)}async function $c(s,e){return ml(s,"POST","/v1/accounts:lookup",e)}function Io(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LA(s,e=!1){const i=pn(s),a=await i.getIdToken(e),o=Mm(a);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Io(Gd(o.auth_time)),issuedAtTime:Io(Gd(o.iat)),expirationTime:Io(Gd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(s){return Number(s)*1e3}function Mm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nv(i);return o?JSON.parse(o):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a0(s){const e=Mm(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ko(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ts&&jA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function jA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class PA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Io(this.lastLoginAt),this.creationTime=Io(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(s){const e=s.auth,i=await s.getIdToken(),a=await ko(s,$c(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Kv(o.providerUserInfo):[],d=BA(s.providerData,c),p=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,y=p?v:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function zA(s){const e=pn(s);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Kv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function qA(s,e){const i=await Qv(s,{},async()=>{const a=Go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Yv(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&fl(s.emulatorConfig.host)&&(v.credentials="include"),Fv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HA(s,e){return ml(s,"POST","/v2/accounts:revokeToken",Qo(s,e))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=a0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await qA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Wa;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return cs("not implemented")}}function tr(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new PA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await ko(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return LA(this,e)}reload(){return zA(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await ko(this,UA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:H,providerData:J,stsTokenManager:ee}=i;Ee(w&&ee,e,"internal-error");const Z=Wa.fromJSON(this.name,ee);Ee(typeof w=="string",e,"internal-error"),tr(a,e.name),tr(o,e.name),Ee(typeof M=="boolean",e,"internal-error"),Ee(typeof H=="boolean",e,"internal-error"),tr(c,e.name),tr(d,e.name),tr(p,e.name),tr(v,e.name),tr(y,e.name),tr(E,e.name);const me=new fi({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:E});return J&&Array.isArray(J)&&(me.providerData=J.map(Te=>({...Te}))),v&&(me._redirectEventId=v),me}static async _fromIdTokenResponse(e,i,a=!1){const o=new Wa;o.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Kv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Wa;p.updateFromIdToken(a);const v=new fi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const l0=new Map;function hs(s){ps(s instanceof Function,"Expected a class definition");let e=l0.get(s);return e?(ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,l0.set(s,e),e)}class Xv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Xv.type="NONE";const o0=Xv;function Lc(s,e,i){return`firebase:${s}:${e}:${i}`}class el{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Lc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await $c(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new el(hs(o0),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||hs(o0);const d=Lc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const E=await y._get(d);if(E){let w;if(typeof E=="string"){const M=await $c(e,{idToken:E}).catch(()=>{});if(!M)break;w=await fi._fromGetAccountInfoResponse(e,M,E)}else w=fi._fromJSON(e,E);y!==c&&(p=w),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new el(c,e,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new el(c,e,a))}}function u0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($v(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t1(e))return"Blackberry";if(n1(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||Jv(e))&&!e.includes("edge/"))return"Chrome";if(e1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function $v(s=dn()){return/firefox\//i.test(s)}function Zv(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jv(s=dn()){return/crios\//i.test(s)}function Wv(s=dn()){return/iemobile/i.test(s)}function e1(s=dn()){return/android/i.test(s)}function t1(s=dn()){return/blackberry/i.test(s)}function n1(s=dn()){return/webos/i.test(s)}function Vm(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function GA(s=dn()){return Vm(s)&&!!window.navigator?.standalone}function FA(){return aS()&&document.documentMode===10}function i1(s=dn()){return Vm(s)||e1(s)||n1(s)||t1(s)||/windows phone/i.test(s)||Wv(s)}function s1(s,e=[]){let i;switch(s){case"Browser":i=u0(dn());break;case"Worker":i=`${u0(dn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${dl}/${a}`}class QA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const v=e(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function YA(s,e={}){return ml(s,"GET","/v2/passwordPolicy",Qo(s,e))}const KA=6;class XA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??KA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $A{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new QA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=hs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await $c(this,{idToken:e}),a=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ds(this));const i=e?pn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YA(this),i=new XA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await HA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&hs(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[hs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yo(s){return pn(s)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mS(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZA(s){km=s}function JA(s){return km.loadJS(s)}function WA(){return km.gapiScript}function e2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function t2(s,e){const i=Cm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(mr(c,e??{}))return o;gs(o,"already-initialized")}return i.initialize({options:e})}function n2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(hs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function i2(s,e,i){const a=Yo(s);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=r1(e),{host:d,port:p}=s2(e),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(mr(y,a.config.emulator)&&mr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,fl(d)?(Vv(`${c}//${d}${v}`),kv("Auth",!0)):r2()}function r1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function s2(s){const e=r1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:h0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:h0(d)}}}function h0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function r2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class a1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,i){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function tl(s,e){return Om(s,"POST","/v1/accounts:signInWithIdp",Qo(s,e))}const a2="http://localhost";class ta extends a1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):gs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ta(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return tl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,tl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,tl(e,i)}buildRequest(){const e={requestUri:a2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Go(i)}return e}}class l1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ko extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends Ko{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ta._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends Ko{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class lr extends Ko{constructor(){super("twitter.com")}static credential(e,i){return ta._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function l2(s,e){return Om(s,"POST","/v1/accounts:signUp",Qo(s,e))}class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await fi._fromIdTokenResponse(e,a,o),d=f0(a);return new ys({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=f0(a);return new ys({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function f0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function o2(s){if(Jn(s.app))return Promise.reject(ds(s));const e=Yo(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ys({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await l2(e,{returnSecureToken:!0}),a=await ys._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Jc extends Ts{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Jc(e,i,a,o)}}function o1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,e,a):c})}async function u2(s,e,i=!1){const a=await ko(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ys._forOperation(s,"link",a)}async function c2(s,e,i=!1){const{auth:a}=s;if(Jn(a.app))return Promise.reject(ds(a));const o="reauthenticate";try{const c=await ko(s,o1(a,o,e,s),i);Ee(c.idToken,a,"internal-error");const d=Mm(c.idToken);Ee(d,a,"internal-error");const{sub:p}=d;return Ee(s.uid===p,a,"user-mismatch"),ys._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&gs(a,"user-mismatch"),c}}async function h2(s,e,i=!1){if(Jn(s.app))return Promise.reject(ds(s));const a="signIn",o=await o1(s,a,e),c=await ys._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function f2(s,e){return Om(s,"POST","/v1/accounts:signInWithCustomToken",Qo(s,e))}async function d2(s,e){if(Jn(s.app))return Promise.reject(ds(s));const i=Yo(s),a=await f2(i,{token:e,returnSecureToken:!0}),o=await ys._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function m2(s,e,i,a){return pn(s).onIdTokenChanged(e,i,a)}function g2(s,e,i){return pn(s).beforeAuthStateChanged(e,i)}function p2(s,e,i,a){return pn(s).onAuthStateChanged(e,i,a)}const Wc="__sak";class u1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const y2=1e3,_2=10;class c1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);FA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}c1.type="LOCAL";const v2=c1;class h1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}h1.type="SESSION";const f1=h1;function E2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await E2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Um(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class T2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Um("",20);o.port1.start();const E=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ji(){return window}function b2(s){ji().location.href=s}function d1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function S2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A2(){return navigator?.serviceWorker?.controller||null}function w2(){return d1()?self:null}const m1="firebaseLocalStorageDb",x2=1,eh="firebaseLocalStorage",g1="fbase_key";class Xo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(s,e){return s.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function R2(){const s=indexedDB.deleteDatabase(m1);return new Xo(s).toPromise()}function lm(){const s=indexedDB.open(m1,x2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:g1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?e(a):(a.close(),await R2(),e(await lm()))})})}async function d0(s,e,i){const a=ph(s,!0).put({[g1]:e,value:i});return new Xo(a).toPromise()}async function I2(s,e){const i=ph(s,!1).get(e),a=await new Xo(i).toPromise();return a===void 0?null:a.value}function m0(s,e){const i=ph(s,!0).delete(e);return new Xo(i).toPromise()}const C2=800,N2=3;class p1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>N2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(w2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await S2(),!this.activeServiceWorker)return;this.sender=new T2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await d0(e,Wc,"1"),await m0(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>d0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>I2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>m0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ph(o,!1).getAll();return new Xo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p1.type="LOCAL";const D2=p1;new Fo(3e4,6e4);function O2(s,e){return e?hs(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Lm extends a1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return tl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function M2(s){return h2(s.auth,new Lm(s),s.bypassAuthState)}function V2(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),c2(i,new Lm(s),s.bypassAuthState)}async function k2(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),u2(i,new Lm(s),s.bypassAuthState)}class y1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return V2;default:gs(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U2=new Fo(2e3,1e4);class Ja extends y1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U2.get())};e()}}Ja.currentPopupAction=null;const L2="pendingRedirect",jc=new Map;class j2 extends y1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await P2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P2(s,e){const i=q2(e),a=B2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function z2(s,e){jc.set(s._key(),e)}function B2(s){return hs(s._redirectPersistence)}function q2(s){return Lc(L2,s.config.apiKey,s.name)}async function H2(s,e,i=!1){if(Jn(s.app))return Promise.reject(ds(s));const a=Yo(s),o=O2(a,e),d=await new j2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const G2=600*1e3;class F2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!_1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G2&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function _1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Q2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(s);default:return!1}}async function Y2(s,e={}){return ml(s,"GET","/v1/projects",e)}const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X2=/^https?/;async function $2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Y2(s);for(const i of e)try{if(Z2(i))return}catch{}gs(s,"unauthorized-domain")}function Z2(s){const e=rm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!X2.test(i))return!1;if(K2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const J2=new Fo(3e4,6e4);function p0(){const s=ji().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function W2(s){return new Promise((e,i)=>{function a(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),i(Li(s,"network-request-failed"))},timeout:J2.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)a();else{const o=e2("iframefcb");return ji()[o]=()=>{gapi.load?a():i(Li(s,"network-request-failed"))},JA(`${WA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function ew(s){return Pc=Pc||W2(s),Pc}const tw=new Fo(5e3,15e3),nw="__/auth/iframe",iw="emulator/auth/iframe",sw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aw(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Dm(e,iw):`https://${s.config.authDomain}/${nw}`,a={apiKey:e.apiKey,appName:s.name,v:dl},o=rw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Go(a).slice(1)}`}async function lw(s){const e=await ew(s),i=ji().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:aw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Li(s,"network-request-failed"),p=ji().setTimeout(()=>{c(d)},tw.get());function v(){ji().clearTimeout(p),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const ow={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uw=500,cw=600,hw="_blank",fw="http://localhost";class y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dw(s,e,i,a=uw,o=cw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...ow,width:a.toString(),height:o.toString(),top:c,left:d},y=dn().toLowerCase();i&&(p=Jv(y)?hw:i),$v(y)&&(e=e||fw,v.scrollbars="yes");const E=Object.entries(v).reduce((M,[H,J])=>`${M}${H}=${J},`,"");if(GA(y)&&p!=="_self")return mw(e||"",p),new y0(null);const w=window.open(e||"",p,E);Ee(w,s,"popup-blocked");try{w.focus()}catch{}return new y0(w)}function mw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const gw="__/auth/handler",pw="emulator/auth/handler",yw=encodeURIComponent("fac");async function _0(s,e,i,a,o,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:dl,eventId:o};if(e instanceof l1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",dS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof Ko){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const v=await s._getAppCheckToken(),y=v?`#${yw}=${encodeURIComponent(v)}`:"";return`${_w(s)}?${Go(p).slice(1)}${y}`}function _w({config:s}){return s.emulator?Dm(s,pw):`https://${s.authDomain}/${gw}`}const Fd="webStorageSupport";class vw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=H2,this._overrideRedirectResult=z2}async _openPopup(e,i,a,o){ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _0(e,i,a,rm(),o);return dw(e,c,Um())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await _0(e,i,a,rm(),o);return b2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ps(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await lw(e),a=new F2(e);return i.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Fd,{type:Fd},o=>{const c=o?.[0]?.[Fd];c!==void 0&&i(!!c),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return i1()||Zv()||Vm()}}const Ew=vw;var v0="@firebase/auth",E0="1.11.1";class Tw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sw(s){sl(new ea("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(s)},y=new $A(a,o,c,v);return n2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),sl(new ea("auth-internal",e=>{const i=Yo(e.getProvider("auth").getImmediate());return(a=>new Tw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(v0,E0,bw(s)),hr(v0,E0,"esm2020")}const Aw=300,ww=Mv("authIdTokenMaxAge")||Aw;let T0=null;const xw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>ww)return;const o=i?.token;T0!==o&&(T0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Rw(s=Pv()){const e=Cm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=t2(s,{popupRedirectResolver:Ew,persistence:[D2,v2,f1]}),a=Mv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=xw(c.toString());g2(i,d,()=>d(i.currentUser)),m2(i,p=>d(p))}}const o=Dv("auth");return o&&i2(i,`http://${o}`),i}function Iw(){return document.getElementsByTagName("head")?.[0]??document}ZA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Li("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Iw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sw("Browser");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,v1;(function(){var s;function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,U){for(var x=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)x[lt-2]=arguments[lt];return A.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],x;x=A+(U^I&(N^U))+V[0]+3614090360&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(N^A&(I^N))+V[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(I^U&(A^I))+V[2]+606105819&4294967295,N=U+(x<<17&4294967295|x>>>15),x=I+(A^N&(U^A))+V[3]+3250441966&4294967295,I=N+(x<<22&4294967295|x>>>10),x=A+(U^I&(N^U))+V[4]+4118548399&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(N^A&(I^N))+V[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(I^U&(A^I))+V[6]+2821735955&4294967295,N=U+(x<<17&4294967295|x>>>15),x=I+(A^N&(U^A))+V[7]+4249261313&4294967295,I=N+(x<<22&4294967295|x>>>10),x=A+(U^I&(N^U))+V[8]+1770035416&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(N^A&(I^N))+V[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(I^U&(A^I))+V[10]+4294925233&4294967295,N=U+(x<<17&4294967295|x>>>15),x=I+(A^N&(U^A))+V[11]+2304563134&4294967295,I=N+(x<<22&4294967295|x>>>10),x=A+(U^I&(N^U))+V[12]+1804603682&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(N^A&(I^N))+V[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(I^U&(A^I))+V[14]+2792965006&4294967295,N=U+(x<<17&4294967295|x>>>15),x=I+(A^N&(U^A))+V[15]+1236535329&4294967295,I=N+(x<<22&4294967295|x>>>10),x=A+(N^U&(I^N))+V[1]+4129170786&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^N&(A^I))+V[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^I&(U^A))+V[11]+643717713&4294967295,N=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(N^U))+V[0]+3921069994&4294967295,I=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(I^N))+V[5]+3593408605&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^N&(A^I))+V[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^I&(U^A))+V[15]+3634488961&4294967295,N=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(N^U))+V[4]+3889429448&4294967295,I=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(I^N))+V[9]+568446438&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^N&(A^I))+V[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^I&(U^A))+V[3]+4107603335&4294967295,N=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(N^U))+V[8]+1163531501&4294967295,I=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(I^N))+V[13]+2850285829&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^N&(A^I))+V[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^I&(U^A))+V[7]+1735328473&4294967295,N=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(N^U))+V[12]+2368359562&4294967295,I=N+(x<<20&4294967295|x>>>12),x=A+(I^N^U)+V[5]+4294588738&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^N)+V[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^I)+V[11]+1839030562&4294967295,N=U+(x<<16&4294967295|x>>>16),x=I+(N^U^A)+V[14]+4259657740&4294967295,I=N+(x<<23&4294967295|x>>>9),x=A+(I^N^U)+V[1]+2763975236&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^N)+V[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^I)+V[7]+4139469664&4294967295,N=U+(x<<16&4294967295|x>>>16),x=I+(N^U^A)+V[10]+3200236656&4294967295,I=N+(x<<23&4294967295|x>>>9),x=A+(I^N^U)+V[13]+681279174&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^N)+V[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^I)+V[3]+3572445317&4294967295,N=U+(x<<16&4294967295|x>>>16),x=I+(N^U^A)+V[6]+76029189&4294967295,I=N+(x<<23&4294967295|x>>>9),x=A+(I^N^U)+V[9]+3654602809&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^N)+V[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^I)+V[15]+530742520&4294967295,N=U+(x<<16&4294967295|x>>>16),x=I+(N^U^A)+V[2]+3299628645&4294967295,I=N+(x<<23&4294967295|x>>>9),x=A+(N^(I|~U))+V[0]+4096336452&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~N))+V[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~I))+V[14]+2878612391&4294967295,N=U+(x<<15&4294967295|x>>>17),x=I+(U^(N|~A))+V[5]+4237533241&4294967295,I=N+(x<<21&4294967295|x>>>11),x=A+(N^(I|~U))+V[12]+1700485571&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~N))+V[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~I))+V[10]+4293915773&4294967295,N=U+(x<<15&4294967295|x>>>17),x=I+(U^(N|~A))+V[1]+2240044497&4294967295,I=N+(x<<21&4294967295|x>>>11),x=A+(N^(I|~U))+V[8]+1873313359&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~N))+V[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~I))+V[6]+2734768916&4294967295,N=U+(x<<15&4294967295|x>>>17),x=I+(U^(N|~A))+V[13]+1309151649&4294967295,I=N+(x<<21&4294967295|x>>>11),x=A+(N^(I|~U))+V[4]+4149444226&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~N))+V[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~I))+V[2]+718787259&4294967295,N=U+(x<<15&4294967295|x>>>17),x=I+(U^(N|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=C[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==A||(I[N]=U,V=!1)}this.g=I}var p={};function v(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return Z(y(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return Z(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=w;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const x=parseInt(C.substring(U,U+N),A);N<8?(N=y(Math.pow(A,N)),V=V.j(N).add(y(x))):(V=V.j(I),V=V.add(y(x)))}return V}var w=v(0),M=v(1),H=v(16777216);s=d.prototype,s.m=function(){if(ee(this))return-Z(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(ee(this))return"-"+Z(this).toString(C);const A=y(Math.pow(C,6));var I=this;let V="";for(;;){const N=$e(I,A).g;I=me(I,N.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,J(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function ee(C){return C.h==-1}s.l=function(C){return C=me(this,C),ee(C)?-1:J(C)?0:1};function Z(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return ee(this)?Z(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),x=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=x>>>16,U&=65535,x&=65535,I[N]=x<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function me(C,A){return C.add(Z(A))}s.j=function(C){if(J(this)||J(C))return w;if(ee(this))return ee(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(ee(C))return Z(this.j(Z(C)));if(this.l(H)<0&&C.l(H)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,x=this.i(V)&65535,lt=C.i(N)>>>16,vt=C.i(N)&65535;I[2*V+2*N]+=x*vt,Te(I,2*V+2*N),I[2*V+2*N+1]+=U*vt,Te(I,2*V+2*N+1),I[2*V+2*N+1]+=x*lt,Te(I,2*V+2*N+1),I[2*V+2*N+2]+=U*lt,Te(I,2*V+2*N+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function Te(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function ge(C,A){this.g=C,this.h=A}function $e(C,A){if(J(A))throw Error("division by zero");if(J(C))return new ge(w,w);if(ee(C))return A=$e(Z(C),A),new ge(Z(A.g),Z(A.h));if(ee(A))return A=$e(C,Z(A)),new ge(Z(A.g),A.h);if(C.g.length>30){if(ee(C)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(C)<=0;)I=Fe(I),V=Fe(V);var N=Ne(I,1),U=Ne(V,1);for(V=Ne(V,2),I=Ne(I,2);!J(V);){var x=U.add(V);x.l(C)<=0&&(N=N.add(I),U=x),V=Ne(V,1),I=Ne(I,1)}return A=me(C,N.j(A)),new ge(N,A)}for(N=w;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),x=U.j(A);ee(x)||x.l(C)>0;)I-=V,U=y(I),x=U.j(A);J(U)&&(U=M),N=N.add(U),C=me(C,x)}return new ge(N,C)}s.B=function(C){return $e(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Fe(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ne(C,A){const I=A>>5;A%=32;const V=C.g.length-I,N=[];for(let U=0;U<V;U++)N[U]=A>0?C.i(U+I)>>>A|C.i(U+I+1)<<32-A:C.i(U+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,v1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,fr=d}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E1,So,T1,zc,om,b1,S1,A1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var _=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in _))break e;_=_[L]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&_.push([S,m[S]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function E(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,L,B){for(var W=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)W[xe-2]=arguments[xe];return m.prototype[L].apply(S,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function J(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let W=0;W<B;W++)u[_+W]=L[W]}else u.push(L)}}class ee{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function me(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Te{constructor(){this.h=this.g=null}add(m,_){const S=ge.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ge=new ee(()=>new $e,u=>u.reset());class $e{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,Ne=!1,C=new Te,A=()=>{const u=Promise.resolve(void 0);Fe=()=>{u.then(I)}};function I(){for(var u;u=me();){try{u.h.call(u.g)}catch(_){Z(_)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ne=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(lt,N),lt.prototype.init=function(u,m){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,_,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=L,this.key=++G,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function Qe(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let _,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(_ in S)u[_]=S[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,_,S,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=Se(u,m,S,L);return W>-1?(m=u[W],_||(m.fa=!1)):(m=new ne(m,this.src,B,!!S,L),m.fa=_,u.push(m)),m};function ve(u,m){const _=m.type;if(_ in u.g){var S=u.g[_],L=Array.prototype.indexOf.call(S,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(fe(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Se(u,m,_,S){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==S)return L}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Et={};function ct(u,m,_,S,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ct(u,m[B],_,S,L);return null}return _=zt(_),u&&u[vt]?u.J(m,_,p(S)?!!S.capture:!1,L):se(u,m,_,!1,S,L)}function se(u,m,_,S,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let xe=Tt(u);if(xe||(u[ke]=xe=new re(u)),_=xe.add(m,_,S,W,B),_.proxy)return _;if(S=te(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(De(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function te(){function u(_){return m.call(u.src,u.listener,_)}const m=qe;return u}function le(u,m,_,S,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)le(u,m[B],_,S,L);else S=p(S)?!!S.capture:!!S,_=zt(_),u&&u[vt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=Se(m,_,S,L),_>-1&&(fe(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Tt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,_,S,L)),(_=u>-1?m[u]:null)&&Ue(_))}function Ue(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])ve(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(De(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Tt(m))?(ve(_,u),_.h==0&&(_.src=null,m[ke]=null)):fe(u)}}}function De(u){return u in Et?Et[u]:Et[u]="on"+u}function qe(u,m){if(u.da)u=!0;else{m=new lt(m,this);const _=u.listener,S=u.ha||u.src;u.fa&&Ue(u),u=_.call(S,m)}return u}function Tt(u){return u=u[ke],u instanceof re?u:null}var ot="__closure_events_fn_"+(Math.random()*1e9>>>0);function zt(u){return typeof u=="function"?u:(u[ot]||(u[ot]=function(m){return u.handleEvent(m)}),u[ot])}function ce(){V.call(this),this.i=new re(this),this.M=this,this.G=null}w(ce,V),ce.prototype[vt]=!0,ce.prototype.removeEventListener=function(u,m,_,S){le(this,u,m,_,S)};function Ce(u,m){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(S,u),ie(m,L)}L=!0;let B,W;if(_)for(W=_.length-1;W>=0;W--)B=m.g=_[W],L=Kt(B,S,!0,m)&&L;if(B=m.g=u,L=Kt(B,S,!0,m)&&L,L=Kt(B,S,!1,m)&&L,_)for(W=0;W<_.length;W++)B=m.g=_[W],L=Kt(B,S,!1,m)&&L}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let S=0;S<_.length;S++)fe(_[S]);delete u.g[m],u.h--}}this.G=null},ce.prototype.J=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},ce.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function Kt(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==_){const xe=W.listener,wt=W.ha||W.src;W.fa&&ve(u.i,W),L=xe.call(wt,S)!==!1&&L}}return L&&!S.defaultPrevented}function jn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function bs(u){u.g=jn(()=>{u.g=null,u.i&&(u.i=!1,bs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xt extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:bs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(u){V.call(this),this.h=u,this.g={}}w(Rn,V);var vl=[];function El(u){Ve(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ue(m)},u),u.g={}}Rn.prototype.N=function(){Rn.Z.N.call(this),El(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=d.JSON.stringify,kh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){N.call(this,"d")}w($t,N);function Pn(){N.call(this,"c")}w(Pn,N);var At={},ru=null;function la(){return ru=ru||new ce}At.Ia="serverreachability";function au(u){N.call(this,At.Ia,u)}w(au,N);function gi(u){const m=la();Ce(m,new au(m))}At.STAT_EVENT="statevent";function Sr(u,m){N.call(this,At.STAT_EVENT,u),this.stat=m}w(Sr,N);function Ct(u){const m=la();Ce(m,new Sr(m,u))}At.Ja="timingevent";function pi(u,m){N.call(this,At.Ja,u),this.size=m}w(pi,N);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Uh(u,m,_,S,L,B){u.info(function(){if(u.g)if(B){var W="",xe=B.split("&");for(let Ze=0;Ze<xe.length;Ze++){var wt=xe[Ze].split("=");if(wt.length>1){const gt=wt[0];wt=wt[1];const Hn=gt.split("_");W=Hn.length>=2&&Hn[1]=="type"?W+(gt+"="+wt+"&"):W+(gt+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+_+`
`+W})}function lu(u,m,_,S,L,B,W){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+W})}function _i(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,_)+(S?" "+S:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<S.length;W++)S[W]=""}}}}return Ss(B)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function xr(){}w(xr,iu),xr.prototype.g=function(){return new XMLHttpRequest},bl=new xr;function Fi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function ni(u,m,_,S){this.j=u,this.i=m,this.l=_,this.S=S||1,this.V=new Rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Nt={},Gt={};function vi(u,m,_){u.M=1,u.A=Rr(Ot(m)),u.u=_,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),Ei(u),u.B=Ot(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),fa(_.i,"t",S),u.C=0,_=u.j.L,u.h=new ii,u.g=Su(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Xt(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(vl[0]=L.toString()),L=vl);for(let B=0;B<L.length;B++){const W=ct(_,L[B],S||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ai(this.g),wt=this.g.ya(),Ze=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||xe!=4||wt==7||(wt==8||Ze<=0?gi(3):gi(2)),Ti(this);var m=this.g.ca();this.X=m;var _=jh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var B=S;break t}}B=null}if(u=B)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Ct(12),In(this),zn(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<_.length;)if(gt=cu(this,_),gt==Gt){xe==4&&(this.m=4,Ct(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Nt){this.m=4,Ct(15),_i(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,gt,null),bi(this,gt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,_,"[Invalid Chunked Response]"),In(this),zn(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ll(W),W.P=!0,Ct(11))}}else _i(this.i,this.l,_,null),bi(this,_);xe==4&&In(this),this.o&&!this.K&&(xe==4?vu(this.j,this):(this.o=!1,Ei(this)))}else Yi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),In(this),zn(this)}}}catch{}finally{}};function jh(u){if(!uu(u))return u.g.la();const m=Zt(u.g);if(m==="")return"";let _="";const S=m.length,L=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return In(u),zn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==S-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?Gt:(_=Number(m.substring(_,S)),isNaN(_)?Nt:(S+=1,S+_>m.length?Gt:(m=m.slice(S,S+_),u.C=S+_,m)))}ni.prototype.cancel=function(){this.K=!0,In(this)};function Ei(u){u.T=Date.now()+u.H,ua(u,u.H)}function ua(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(y(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(gi(),Ct(17)),In(this),this.m=2,zn(this)):ua(this,this.T-u)};function zn(u){u.j.I==0||u.K||vu(u.j,u)}function In(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,El(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ai(_.h,u))){if(!u.L&&Ai(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ya(_),Ds(_);else break e;Vr(_),Ct(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=yi(y(_.Va,_),6e3));Si(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ni(_,11)}else if((u.L||_.g==u)&&ya(_),!x(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Ze=L[m];const gt=Ze[0];if(!(gt<=_.K))if(_.K=gt,Ze=Ze[1],_.I==2)if(Ze[0]=="c"){_.M=Ze[1],_.ba=Ze[2];const Hn=Ze[3];Hn!=null&&(_.ka=Hn,_.j.info("VER="+_.ka));const Di=Ze[4];Di!=null&&(_.za=Di,_.j.info("SVER="+_.za));const li=Ze[5];li!=null&&typeof li=="number"&&li>0&&(S=1.5*li,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const oi=u.g;if(oi){const kr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var B=S.h;B.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wl(B,B.h),B.h=null))}if(S.G){const _a=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(S.wa=_a,et(S.J,S.G,_a))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var W=u;if(S.na=bu(S,S.L?S.ba:null,S.W),W.L){xl(S.h,W);var xe=W,wt=S.O;wt&&(xe.H=wt),xe.D&&(Ti(xe),Ei(xe)),S.g=W}else yu(S);_.i.length>0&&Ci(_)}else Ze[0]!="stop"&&Ze[0]!="close"||Ni(_,7);else _.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ni(_,7):kl(_):Ze[0]!="noop"&&_.l&&_.l.qa(Ze),_.A=0)}}gi(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function Sl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wl(u,m){u.g?u.g.add(m):u.h=m}function xl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Sl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Rl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return H(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let L,B=null;S>=0?(L=u[_].substring(0,S),B=u[_].substring(S+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Il(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),As(this,m[4]),this.h=wi(m[5]||"",!0),Il(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,ha,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,ha,!0),"@"),u.push(Fi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ir(_,_.charAt(0)=="/"?Cl:fu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ir(_,du)),u.join("")},Cn.prototype.resolve=function(u){const m=Ot(this);let _=!!u.j;_?Ft(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var S=u.h;if(_)As(m,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const xe=L[W++];xe=="."?S&&W==L.length&&B.push(""):xe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&W==L.length&&B.push("")):(B.push(xe),S=!0)}S=B.join("/")}else S=L}return _?m.h=S:_=u.i.toString()!=="",_?Il(m,gu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ot(u){return new Cn(u)}function Ft(u,m,_){u.j=_?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Il(u,m,_){m instanceof xs?(u.i=m,da(u.i,u.l)):(_||(m=Ir(m,ws)),u.i=new xs(m,u.l))}function et(u,m,_){u.i.set(m,_)}function Rr(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ha=/[#\/\?@]/g,fu=/[#\?:]/g,Cl=/[#\?]/g,ws=/[#\?@]/g,du=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ca(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=xs.prototype,s.add=function(u,m){_n(this),this.i=null,u=Rs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function mu(u,m){_n(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nl(u,m){return _n(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(_,S){_.forEach(function(L){u.call(m,L,S,this)},this)},this)};function Dl(u,m){_n(u);let _=[];if(typeof m=="string")Nl(u,m)&&(_=_.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return _n(this),this.i=null,u=Rs(this,u),Nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Dl(this,u),u.length>0?String(u[0]):m):m};function fa(u,m,_){mu(u,m),_.length>0&&(u.i=null,u.g.set(Rs(u,m),H(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var _=m[S];const L=Fi(_);_=Dl(this,_);for(let B=0;B<_.length;B++){let W=L;_[B]!==""&&(W+="="+Fi(_[B])),u.push(W)}}return this.i=u.join("&")};function gu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function da(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,S){const L=S.toLowerCase();S!=L&&(mu(this,S),fa(this,L,_))},u)),u.j=m}function si(u,m){const _=new ti;if(d.Image){const S=new Image;S.onload=E(Bn,_,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Bn,_,"TestLoadImage: error",!1,m,S),S.onabort=E(Bn,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Bn,_,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Ol(u,m){const _=new ti,S=new AbortController,L=setTimeout(()=>{S.abort(),Bn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?Bn(_,"TestPingServer: ok",!0,m):Bn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Bn(_,"TestPingServer: error",!1,m)})}function Bn(u,m,_,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(_)}catch{}}function Is(){this.g=new nu}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(xi,iu),xi.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){ce.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Cr,ce),s=Cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ri(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ri(this),this.readyState==3&&ma(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qn(u){let m="";return Ve(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function Nr(u,m,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=qn(_),typeof u=="string"?_!=null&&Fi(_):et(u,m,_))}function it(u){ce.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(it,ce);var Ri=/^https?$/i,Ml=["POST","PUT"];s=it.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Dr(this,B);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)_.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())_.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ml,m,void 0)>=0)||S||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of _)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Dr(this,B)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vl(u),Qi(u)}function Vl(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),it.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),ai(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var S;if(S=B===0){let W=String(u.D).match(hu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),S=!Ri.test(W?W.toLowerCase():"")}_=S}if(_)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var L=ai(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Vl(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ce(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kh(m)}};function Zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var _=ou(u[S]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Qe(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,S){Ct(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=bu(this,null,this.W),Ci(this)};function kl(u){if(ga(u),u.I==3){var m=u.V++,_=Ot(u.J);if(et(_,"SID",u.M),et(_,"RID",m),et(_,"TYPE","terminate"),Mr(u,_),m=new ni(u,u.j,m),m.M=2,m.A=Rr(Ot(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Tu(u)}function Ds(u){u.g&&(Ll(u),u.g.cancel(),u.g=null)}function ga(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!Al(u.h)&&!u.m){u.m=!0;var m=u.Ea;Fe||A(),Ne||(Fe(),Ne=!0),C.add(m,u),u.D=0}}function pa(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(y(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ni(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=pu(this,L,m),_=Ot(this.J),et(_,"RID",u),et(_,"CVER",22),this.G&&et(_,"X-HTTP-Session-Id",this.G),Mr(this,_),B&&(this.R?m="headers="+Fi(qn(B))+"&"+m:this.u&&Nr(_,this.u,B)),wl(this.h,L),this.Ra&&et(_,"TYPE","init"),this.S?(et(_,"$req",m),et(_,"SID","null"),L.U=!0,vi(L,_,null)):vi(L,_,m),this.I=2}}else this.I==3&&(u?Ul(this,u):this.i.length==0||Al(this.h)||Ul(this))};function Ul(u,m){var _;m?_=m.l:_=u.V++;const S=Ot(u.J);et(S,"SID",u.M),et(S,"RID",_),et(S,"AID",u.K),Mr(u,S),u.u&&u.o&&Nr(S,u.u,u.o),_=new ni(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wl(u.h,_),vi(_,S,m)}function Mr(u,m){u.H&&Ve(u.H,function(_,S){et(m,S,_)}),u.l&&Ve({},function(_,S){et(m,S,_)})}function pu(u,m,_){_=Math.min(u.i.length,_);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let xe=-1;for(;;){const wt=["count="+_];xe==-1?_>0?(xe=L[0].g,wt.push("ofs="+xe)):xe=0:wt.push("ofs="+xe);let Ze=!0;for(let gt=0;gt<_;gt++){var B=L[gt].g;const Hn=L[gt].map;if(B-=xe,B<0)xe=Math.max(0,L[gt].g-100),Ze=!1;else try{B="req"+B+"_"||"";try{var W=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Di,li]of W){let oi=li;p(li)&&(oi=Ss(li)),wt.push(B+Di+"="+encodeURIComponent(oi))}}catch(Di){throw wt.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{S&&S(Hn)}}if(Ze){W=wt.join("&");break e}}W=void 0}return u=u.i.splice(0,_),m.G=u,W}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Fe||A(),Ne||(Fe(),Ne=!0),C.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(y(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Ds(this),_u(this))};function Ll(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Rr(Ot(m)),_.u=null,_.R=!0,oa(_,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Vr(this),Ct(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var _=null;if(u.g==m){ya(u),Ll(u),u.g=null;var S=2}else if(Ai(u.h,m))_=m.G,xl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=la(),Ce(S,new pi(S,_)),Ci(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&pa(u,m)||S==2&&Vr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Eu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),S=u.Ua;const L=!S;S=new Cn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(S,"https"),Rr(S),L?si(S.toString(),_):Ol(S.toString(),_)}else Ct(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ga(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Rl(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,_){var S=_ instanceof Cn?Ot(_):new Cn(_);if(S.g!="")m&&(S.g=m+"."+S.g),As(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Cn(null);S&&Ft(B,S),m&&(B.g=m),L&&As(B,L),_&&(B.h=_),S=B}return _=u.G,m=u.wa,_&&m&&et(S,_,m),et(S,"VER",u.ka),Mr(u,S),S}function Su(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new xi({ab:_})):new it(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){ce.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}w(mn,ce),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){kl(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Ss(u),u=_);m.i.push(new Dt(m.Ya++,u)),m.I==3&&Ci(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,mn.Z.N.call(this)};function wu(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(wu,$t);function xu(){Pn.call(this),this.status=1}w(xu,Pn);function Ki(u){this.g=u}w(Ki,Au),Ki.prototype.ra=function(){Ce(this.g,"a")},Ki.prototype.qa=function(u){Ce(this.g,new wu(u))},Ki.prototype.pa=function(u){Ce(this.g,new xu)},Ki.prototype.oa=function(){Ce(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,A1=function(){return new Os},S1=function(){return la()},b1=At,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,zc=wr,Tl.COMPLETE="complete",T1=Tl,su.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ce.prototype.listen=ce.prototype.J,So=su,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,E1=it}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const S0="@firebase/firestore",A0="4.9.2";let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let gl="12.3.0";const na=new Rm("@firebase/firestore");function Ka(){return na.logLevel}function ae(s,...e){if(na.logLevel<=Pe.DEBUG){const i=e.map(jm);na.debug(`Firestore (${gl}): ${s}`,...i)}}function _s(s,...e){if(na.logLevel<=Pe.ERROR){const i=e.map(jm);na.error(`Firestore (${gl}): ${s}`,...i)}}function rl(s,...e){if(na.logLevel<=Pe.WARN){const i=e.map(jm);na.warn(`Firestore (${gl}): ${s}`,...i)}}function jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _e(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,w1(s,a,i)}function w1(s,e,i){let a=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw _s(a),new Error(a)}function We(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||w1(e,o,a)}function we(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class x1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class Nw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Dw{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new dr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new dr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new x1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class Ow{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Ow(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){We(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new w0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Pm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=kw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ze(s,e){return s<e?-1:s>e?1:0}function um(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Qd(o)===Qd(c)?ze(o,c):Qd(o)?1:-1}return ze(s.length,e.length)}const Uw=55296,Lw=57343;function Qd(s){const e=s.charCodeAt(0);return e>=Uw&&e<=Lw}function al(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const x0="__name__";class Ui{constructor(e,i,a){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&_e(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ui.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const a=Ui.isNumericId(e),o=Ui.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):um(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class yt extends Ui{construct(e,i,a){return new yt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Ui{construct(e,i,a){return new an(e,i,a)}static isValidIdentifier(e){return jw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new an([x0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new he($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new he($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new he($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(yt.fromString(e))}static fromName(e){return new pe(yt.fromString(e).popFirst(5))}static empty(){return new pe(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new yt(e.slice()))}}function Pw(s,e,i){if(!i)throw new he($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function zw(s,e,i,a){if(e===!0&&a===!0)throw new he($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function R0(s){if(!pe.isDocumentKey(s))throw new he($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function R1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function zm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(s);throw new he($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function $o(s,e){if(!R1(s))throw new he($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he($.INVALID_ARGUMENT,i);return!0}const I0=-62135596800,C0=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*C0);return new mt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<I0)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($o(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:jt("string",mt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new mt(0,0))}static max(){return new be(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uo=-1;function Bw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new mt(i+1,0):new mt(i,a));return new gr(o,pe.empty(),e)}function qw(s){return new gr(s.readTime,s.key,Uo)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(be.min(),pe.empty(),Uo)}static max(){return new gr(be.max(),pe.empty(),Uo)}}function Hw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:ze(s.largestBatchId,e.largestBatchId))}const Gw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pl(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Gw)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(e[y]).next((E=>{d[y]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Qw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yl(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Bm=-1;function _h(s){return s==null}function th(s){return s===0&&1/s==-1/0}function Yw(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const I1="";function Kw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=N0(e)),e=Xw(s.get(i),e);return N0(e)}function Xw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case I1:i+="";break;default:i+=c}}return i}function N0(s){return s+I1+""}function D0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function C1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _t{constructor(e,i){this.comparator=e,this.root=i||rn.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new rn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new rn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(e){return new O0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ht(this.comparator);return i.data=e,i}}class O0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new Ht(an.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new N1("Invalid base64 string: "+c):c}})(e);return new ln(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new ln(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const $w=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(s){if(We(!!s,39018),typeof s=="string"){let e=0;const i=$w.exec(s);if(We(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:It(s.seconds),nanos:It(s.nanos)}}function It(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yr(s){return typeof s=="string"?ln.fromBase64String(s):ln.fromUint8Array(s)}const D1="server_timestamp",O1="__type__",M1="__previous_value__",V1="__local_write_time__";function qm(s){return(s?.mapValue?.fields||{})[O1]?.stringValue===D1}function vh(s){const e=s.mapValue.fields[M1];return qm(e)?vh(e):e}function Lo(s){const e=pr(s.mapValue.fields[V1].timestampValue);return new mt(e.seconds,e.nanos)}class Zw{constructor(e,i,a,o,c,d,p,v,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=E}}const nh="(default)";class jo{constructor(e,i){this.projectId=e,this.database=i||nh}static empty(){return new jo("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof jo&&e.projectId===this.projectId&&e.database===this.database}}const k1="__type__",Jw="__max__",Mc={mapValue:{}},U1="__vector__",ih="value";function _r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qm(s)?4:ex(s)?9007199254740991:Ww(s)?10:11:_e(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=_r(s);if(i!==_r(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Lo(s).isEqual(Lo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=pr(o.timestampValue),p=pr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return yr(o.bytesValue).isEqual(yr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return It(o.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return It(o.integerValue)===It(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=It(o.doubleValue),p=It(c.doubleValue);return d===p?th(d)===th(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return al(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(D0(d)!==D0(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Hi(d[v],p[v])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Po(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function ll(s,e){if(s===e)return 0;const i=_r(s),a=_r(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=It(c.integerValue||c.doubleValue),v=It(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return M0(s.timestampValue,e.timestampValue);case 4:return M0(Lo(s),Lo(e));case 5:return um(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=yr(c),v=yr(d);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const E=ze(p[y],v[y]);if(E!==0)return E}return ze(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(It(c.latitude),It(d.latitude));return p!==0?p:ze(It(c.longitude),It(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return V0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[ih]?.arrayValue,E=v[ih]?.arrayValue,w=ze(y?.values?.length||0,E?.values?.length||0);return w!==0?w:V0(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},E=Object.keys(y);v.sort(),E.sort();for(let w=0;w<v.length&&w<E.length;++w){const M=um(v[w],E[w]);if(M!==0)return M;const H=ll(p[v[w]],y[E[w]]);if(H!==0)return H}return ze(v.length,E.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function M0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const i=pr(s),a=pr(e),o=ze(i.seconds,a.seconds);return o!==0?o:ze(i.nanos,a.nanos)}function V0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ll(i[o],a[o]);if(c)return c}return ze(i.length,a.length)}function ol(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=pr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return yr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=cm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${cm(i.fields[d])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function Bc(s){switch(_r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(s);return e?16+Bc(e):16;case 5:return 2*s.stringValue.length;case 6:return yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Bc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Tr(a.fields,((c,d)=>{o+=c.length+Bc(d)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function hm(s){return!!s&&"integerValue"in s}function Hm(s){return!!s&&"arrayValue"in s}function k0(s){return!!s&&"nullValue"in s}function U0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function Ww(s){return(s?.mapValue?.fields||{})[k1]?.stringValue===U1}function Co(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Co(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Co(s.arrayValue.values[i]);return e}return{...s}}function ex(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Jw}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Co(i)}setAll(e){let i=an.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Co(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Tr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new xn(Co(this.value))}}function L1(s){const e=[];return Tr(s.fields,((i,a)=>{const o=new an([i]);if(qc(a)){const c=L1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Ln(e)}class fn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,be.min(),be.min(),be.min(),xn.empty(),0)}static newFoundDocument(e,i,a,o){return new fn(e,1,i,be.min(),a,o,0)}static newNoDocument(e,i){return new fn(e,2,i,be.min(),be.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new fn(e,3,i,be.min(),be.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,i){this.position=e,this.inclusive=i}}function L0(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=ll(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function j0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class rh{constructor(e,i="asc"){this.field=e,this.dir=i}}function tx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class j1{}class qt extends j1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new ix(e,i,a):i==="array-contains"?new ax(e,a):i==="in"?new lx(e,a):i==="not-in"?new ox(e,a):i==="array-contains-any"?new ux(e,a):new qt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new sx(e,a):new rx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ll(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(ll(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends j1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return P1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(s){return s.op==="and"}function z1(s){return nx(s)&&P1(s)}function nx(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function fm(s){if(s instanceof qt)return s.field.canonicalString()+s.op.toString()+ol(s.value);if(z1(s))return s.filters.map((e=>fm(e))).join(",");{const e=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${e})`}}function B1(s,e){return s instanceof qt?(function(a,o){return o instanceof qt&&a.op===o.op&&a.field.isEqual(o.field)&&Hi(a.value,o.value)})(s,e):s instanceof Gi?(function(a,o){return o instanceof Gi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&B1(d,o.filters[p])),!0):!1})(s,e):void _e(19439)}function q1(s){return s instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ol(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(q1).join(" ,")+"}"})(s):"Filter"}class ix extends qt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class sx extends qt{constructor(e,i){super(e,"in",i),this.keys=H1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rx extends qt{constructor(e,i){super(e,"not-in",i),this.keys=H1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function H1(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class ax extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Hm(i)&&Po(i.arrayValue,this.value)}}class lx extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Po(this.value.arrayValue,i)}}class ox extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Po(this.value.arrayValue,i)}}class ux extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Po(this.value.arrayValue,a)))}}class cx{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function P0(s,e=null,i=[],a=[],o=null,c=null,d=null){return new cx(s,e,i,a,o,c,d)}function Gm(s){const e=we(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>fm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ol(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ol(a))).join(",")),e.Te=i}return e.Te}function Fm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!tx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!B1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!j0(s.startAt,e.startAt)&&j0(s.endAt,e.endAt)}function dm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hx(s,e,i,a,o,c,d,p){return new Eh(s,e,i,a,o,c,d,p)}function Th(s){return new Eh(s)}function z0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function fx(s){return s.collectionGroup!==null}function No(s){const e=we(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ht(an.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new rh(c,a))})),i.has(an.keyField().canonicalString())||e.Ie.push(new rh(an.keyField(),a))}return e.Ie}function Pi(s){const e=we(s);return e.Ee||(e.Ee=dx(e,No(s))),e.Ee}function dx(s,e){if(s.limitType==="F")return P0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new rh(o.field,c)}));const i=s.endAt?new sh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new sh(s.startAt.position,s.startAt.inclusive):null;return P0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function mm(s,e,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function bh(s,e){return Fm(Pi(s),Pi(e))&&s.limitType===e.limitType}function G1(s){return`${Gm(Pi(s))}|lt:${s.limitType}`}function Xa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>q1(o))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>ol(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>ol(o))).join(",")),`Target(${a})`})(Pi(s))}; limitType=${s.limitType})`}function Sh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of No(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const y=L0(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,No(a),o)||a.endAt&&!(function(d,p,v){const y=L0(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,No(a),o))})(s,e)}function mx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function F1(s){return(e,i)=>{let a=!1;for(const o of No(s)){const c=gx(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function gx(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?ll(v,y):_e(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:s.dir})}}class ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}const px=new _t(pe.comparator);function vs(){return px}const Q1=new _t(pe.comparator);function Ao(...s){let e=Q1;for(const i of s)e=e.insert(i.key,i);return e}function Y1(s){let e=Q1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Jr(){return Do()}function K1(){return Do()}function Do(){return new ra((s=>s.toString()),((s,e)=>s.isEqual(e)))}const yx=new _t(pe.comparator),_x=new Ht(pe.comparator);function Be(...s){let e=_x;for(const i of s)e=e.add(i);return e}const vx=new Ht(ze);function Ex(){return vx}function Qm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function X1(s){return{integerValue:""+s}}function Tx(s,e){return Yw(e)?X1(e):Qm(s,e)}class Ah{constructor(){this._=void 0}}function bx(s,e,i){return s instanceof ah?(function(o,c){const d={fields:{[O1]:{stringValue:D1},[V1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qm(c)&&(c=vh(c)),c&&(d.fields[M1]=c),{mapValue:d}})(i,e):s instanceof ul?Z1(s,e):s instanceof zo?J1(s,e):(function(o,c){const d=$1(o,c),p=B0(d)+B0(o.Ae);return hm(d)&&hm(o.Ae)?X1(p):Qm(o.serializer,p)})(s,e)}function Sx(s,e,i){return s instanceof ul?Z1(s,e):s instanceof zo?J1(s,e):i}function $1(s,e){return s instanceof lh?(function(a){return hm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ah extends Ah{}class ul extends Ah{constructor(e){super(),this.elements=e}}function Z1(s,e){const i=W1(e);for(const a of s.elements)i.some((o=>Hi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class zo extends Ah{constructor(e){super(),this.elements=e}}function J1(s,e){let i=W1(e);for(const a of s.elements)i=i.filter((o=>!Hi(o,a)));return{arrayValue:{values:i}}}class lh extends Ah{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function B0(s){return It(s.integerValue||s.doubleValue)}function W1(s){return Hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Ax{constructor(e,i){this.field=e,this.transform=i}}function wx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof ul&&o instanceof ul||a instanceof zo&&o instanceof zo?al(a.elements,o.elements,Hi):a instanceof lh&&o instanceof lh?Hi(a.Ae,o.Ae):a instanceof ah&&o instanceof ah})(s.transform,e.transform)}class xx{constructor(e,i){this.version=e,this.transformResults=i}}class mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class wh{}function eE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ym(s.key,mi.none()):new Zo(s.key,s.data,mi.none());{const i=s.data,a=xn.empty();let o=new Ht(an.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new br(s.key,a,new Ln(o.toArray()),mi.none())}}function Rx(s,e,i){s instanceof Zo?(function(o,c,d){const p=o.value.clone(),v=H0(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(o,c,d){if(!Hc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=H0(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(tE(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Oo(s,e,i,a){return s instanceof Zo?(function(c,d,p,v){if(!Hc(c.precondition,d))return p;const y=c.value.clone(),E=G0(c.fieldTransforms,v,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof br?(function(c,d,p,v){if(!Hc(c.precondition,d))return p;const y=G0(c.fieldTransforms,v,d),E=d.data;return E.setAll(tE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,p){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function Ix(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=$1(a.transform,o||null);c!=null&&(i===null&&(i=xn.empty()),i.set(a.field,c))}return i||null}function q0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&al(a,o,((c,d)=>wx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Zo extends wh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class br extends wh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function H0(s,e,i){const a=new Map;We(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,Sx(d,p,i[o]))}return a}function G0(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,bx(c,d,e))}return a}class Ym extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cx extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Rx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Oo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Oo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=K1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=eE(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,((i,a)=>q0(i,a)))&&al(this.baseMutations,e.baseMutations,((i,a)=>q0(i,a)))}}class Km{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return yx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Km(e,i,a,o)}}class Dx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ox{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Ge;function Mx(s){switch(s){case $.OK:return _e(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function nE(s){if(s===void 0)return _s("GRPC error has no .code"),$.UNKNOWN;switch(s){case Lt.OK:return $.OK;case Lt.CANCELLED:return $.CANCELLED;case Lt.UNKNOWN:return $.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return $.INTERNAL;case Lt.UNAVAILABLE:return $.UNAVAILABLE;case Lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Lt.NOT_FOUND:return $.NOT_FOUND;case Lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Lt.ABORTED:return $.ABORTED;case Lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Lt.DATA_LOSS:return $.DATA_LOSS;default:return _e(39323,{code:s})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function Vx(){return new TextEncoder}const kx=new fr([4294967295,4294967295],0);function F0(s){const e=Vx().encode(s),i=new v1;return i.update(e),new Uint8Array(i.digest())}function Q0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fr([i,a],0),new fr([o,c],0)]}class Xm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wo(`Invalid padding: ${i}`);if(a<0)throw new wo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new wo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(fr.fromNumber(a)));return o.compare(kx)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=F0(e),[a,o]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Xm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=F0(e),[a,o]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Jo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new xh(be.min(),o,new _t(ze),vs(),Be())}}class Jo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Jo(a,i,Be(),Be(),Be())}}class Gc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class iE{constructor(e,i){this.targetId=e,this.Ce=i}}class sE{constructor(e,i,a=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Y0{constructor(){this.ve=0,this.Fe=K0(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),a=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:c})}})),new Jo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=K0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ux{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.Je=Vc(),this.He=Vc(),this.Ye=new _t(ze)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(dm(c))if(a===0){const d=new pe(c.path);this.et(i,d,fn.newNoDocument(d,be.min()))}else We(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=yr(a).toUint8Array()}catch(v){if(v instanceof N1)return rl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Xm(d,o,c)}catch(v){return rl(v instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&dm(p.target)){const v=new pe(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,fn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Be();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new xh(e,i,this.Ye,this.je,a);return this.je=vs(),this.Je=Vc(),this.He=Vc(),this.Ye=new _t(ze),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Y0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ht(ze),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ht(ze),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new _t(pe.comparator)}function K0(){return new _t(pe.comparator)}const Lx={asc:"ASCENDING",desc:"DESCENDING"},jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class zx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gm(s,e){return s.useProto3Json||_h(e)?e:{value:e}}function oh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Bx(s,e){return oh(s,e.toTimestamp())}function zi(s){return We(!!s,49232),be.fromTimestamp((function(i){const a=pr(i);return new mt(a.seconds,a.nanos)})(s))}function $m(s,e){return pm(s,e).canonicalString()}function pm(s,e){const i=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function aE(s){const e=yt.fromString(s);return We(hE(e),10190,{key:e.toString()}),e}function ym(s,e){return $m(s.databaseId,e.path)}function Yd(s,e){const i=aE(e);if(i.get(1)!==s.databaseId.projectId)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(oE(i))}function lE(s,e){return $m(s.databaseId,e)}function qx(s){const e=aE(s);return e.length===4?yt.emptyPath():oE(e)}function _m(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function oE(s){return We(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function X0(s,e,i){return{name:ym(s,e),fields:i.value.mapValue.fields}}function Hx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(We(E===void 0||typeof E=="string",58123),ln.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),ln.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?$.UNKNOWN:nE(y.code);return new he(E,y.message||"")})(d);i=new sE(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Yd(s,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):be.min(),p=new xn({mapValue:{fields:a.document.fields}}),v=fn.newFoundDocument(o,c,d,p),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Gc(y,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Yd(s,a.document),c=a.readTime?zi(a.readTime):be.min(),d=fn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Gc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Yd(s,a.document),c=a.removedTargetIds||[];i=new Gc([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Ox(o,c),p=a.targetId;i=new iE(p,d)}}return i}function Gx(s,e){let i;if(e instanceof Zo)i={update:X0(s,e.key,e.value)};else if(e instanceof Ym)i={delete:ym(s,e.key)};else if(e instanceof br)i={update:X0(s,e.key,e.data),updateMask:Wx(e.fieldMask)};else{if(!(e instanceof Cx))return _e(16599,{Vt:e.type});i={verify:ym(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ul)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Bx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),i}function Fx(s,e){return s&&s.length>0?(We(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?zi(o.updateTime):zi(c);return d.isEqual(be.min())&&(d=zi(c)),new xx(d,o.transformResults||[])})(i,e)))):[]}function Qx(s,e){return{documents:[lE(s,e.path)]}}function Yx(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=lE(s,o);const c=(function(y){if(y.length!==0)return cE(Gi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:$a(M.field),direction:$x(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=gm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function Kx(s){let e=qx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){We(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=uE(w);return M instanceof Gi&&z1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(J){return new rh(Za(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,_h(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(w){const M=!!w.before,H=w.values||[];return new sh(H,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,H=w.values||[];return new sh(H,M)})(i.endAt)),hx(e,o,d,c,p,"F",v,y)}function Xx(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function uE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Za(i.unaryFilter.field);return qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(i.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Za(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qt.create(Za(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>uE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(s):_e(30097,{filter:s})}function $x(s){return Lx[s]}function Zx(s){return jx[s]}function Jx(s){return Px[s]}function $a(s){return{fieldPath:s.canonicalString()}}function Za(s){return an.fromServerFormat(s.fieldPath)}function cE(s){return s instanceof qt?(function(i){if(i.op==="=="){if(U0(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NAN"}};if(k0(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(U0(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NAN"}};if(k0(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(i.field),op:Zx(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const a=i.getFilters().map((o=>cE(o)));return a.length===1?a[0]:{compositeFilter:{op:Jx(i.op),filters:a}}})(s):_e(54877,{filter:s})}function Wx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function hE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class or{constructor(e,i,a,o,c=be.min(),d=be.min(),p=ln.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eR{constructor(e){this.yt=e}}function tR(s){const e=Kx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(e,e.limit,"L"):e}class nR{constructor(){this.Cn=new iR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(gr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class iR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ht(yt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ht(yt.comparator)).toArray()}}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(fE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cl(0)}static cr(){return new cl(-1)}}const Z0="LruGarbageCollector",sR=1048576;function J0([s,e],[i,a]){const o=ze(s,i);return o===0?ze(e,a):o}class rR{constructor(e){this.Ir=e,this.buffer=new Ht(J0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();J0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(Z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yl(i)?ae(Z0,"Ignoring IndexedDB error during garbage collection: ",i):await pl(i)}await this.Vr(3e5)}))}}class lR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(yh.ce);const a=new rR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve($0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,v,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),Ka()<=Pe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function oR(s,e){return new lR(s,e)}class uR{constructor(){this.changes=new ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class hR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Oo(a.mutation,o,Ln.empty(),mt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Be()){const o=Jr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Ao();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Jr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Be())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=vs();const d=Do(),p=(function(){return Do()})();return i.forEach(((v,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof br)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Oo(E.mutation,y,E.mutation.getFieldMask(),mt.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new cR(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Do();let o=new _t(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let E=a.get(v)||Ln.empty();E=p.applyToLocalView(y,E),a.set(v,E);const w=(o.get(p.batchId)||Be()).add(v);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,E=v.value,w=K1();E.forEach((M=>{if(!c.has(M)){const H=eE(i.get(M),a.get(M));H!==null&&w.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(Jr());let p=Uo,v=c;return d.next((y=>X.forEach(y,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{v=v.insert(E,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,v,y,Be()))).next((E=>({batchId:p,changes:Y1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=Ao();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Ao();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(v=>{const y=(function(w,M){return new Eh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,fn.newInvalidDocument(E)))}));let p=Ao();return d.forEach(((v,y)=>{const E=c.get(v);E!==void 0&&Oo(E.mutation,y,Ln.empty(),mt.now()),Sh(i,y)&&(p=p.insert(v,y))})),p}))}}class fR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:tR(o.bundledQuery),readTime:zi(o.readTime)}})(i)),X.resolve()}}class dR{constructor(){this.overlays=new _t(pe.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Jr();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=Jr(),c=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new _t(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=Jr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Jr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return X.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Dx(i,a));let c=this.qr.get(i);c===void 0&&(c=Be(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class mR{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.Qr=new Ht(Yt.$r),this.Ur=new Ht(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Yt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Yt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pe(new yt([])),a=new Yt(i,e),o=new Yt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new yt([])),a=new Yt(i,e),o=new Yt(i,e+1);let c=Be();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Yt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Yt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class gR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Yt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Nx(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Yt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Yt(i,0),o=new Yt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ht(ze);return i.forEach((o=>{const c=new Yt(o,0),d=new Yt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new Yt(new pe(c),0);let p=new Ht(ze);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){We(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Yt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Yt(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class pR{constructor(e){this.ri=e,this.docs=(function(){return new _t(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(e,i){let a=vs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():fn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=vs();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:E}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Hw(qw(E),a)<=0||(o.has(E.key)||Sh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){_e(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new yR(this)}getSize(e){return X.resolve(this.size)}}class yR extends uR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class _R{constructor(e){this.persistence=e,this.si=new ra((i=>Gm(i)),Fm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=cl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new cl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class dE{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new mR,this.referenceDelegate=e(this),this.Pi=new _R(this),this.indexManager=new nR,this.remoteDocumentCache=(function(o){return new pR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new eR(i),this.Ii=new fR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new dR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new gR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new vR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class vR extends Fw{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=pe.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uh{constructor(e,i){this.persistence=e,this.pi=new ra((a=>Kw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=oR(this,i)}static mi(e,i){return new uh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Be(),o=Be();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wm(e,i.fromCache,a,o)}}class ER{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lS()?8:Qw(dn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new ER;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ka()<=Pe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ka()<=Pe.DEBUG&&ae("QueryEngine","Query:",Xa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ka()<=Pe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):X.resolve())}ys(e,i){if(z0(i))return X.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=mm(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(e,mm(i,null,"F")):this.vs(e,y,i,v)}))))})))))}ws(e,i,a,o){return z0(i)||o.isEqual(be.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Ka()<=Pe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(i)),this.vs(e,d,i,Bw(o,Uo)).next((p=>p)))}))}Ds(e,i){let a=new Ht(F1(e));return i.forEach(((o,c)=>{Sh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ka()<=Pe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Xa(i)),this.ps.getDocumentsMatchingQuery(e,i,gr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const eg="LocalStore",bR=3e8;class SR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new _t(ze),this.xs=new ra((c=>Gm(c)),Fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function AR(s,e,i,a){return new SR(s,e,i,a)}async function mE(s,e){const i=we(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Be();for(const y of o){d.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function wR(s,e){const i=we(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,E){const w=y.batch,M=w.keys();let H=X.resolve();return M.forEach((J=>{H=H.next((()=>E.getEntry(v,J))).next((ee=>{const Z=y.docVersions.get(J);We(Z!==null,48541),ee.version.compareTo(Z)<0&&(w.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),E.addEntry(ee)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(v,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function gE(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function xR(s,e){const i=we(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,w)=>{const M=o.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let H=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?H=H.withResumeToken(ln.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,a)),o=o.insert(w,H),(function(ee,Z,me){return ee.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=bR?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(M,H,E)&&p.push(i.Pi.updateTargetData(c,H))}));let v=vs(),y=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(RR(c,d,e.documentUpdates).next((E=>{v=E.ks,y=E.qs}))),!a.isEqual(be.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function RR(s,e,i){let a=Be(),o=Be();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=vs();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(be.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ae(eg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function IR(s,e){const i=we(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function CR(s,e){const i=we(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new or(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function vm(s,e,i){const a=we(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!yl(d))throw d;ae(eg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function W0(s,e,i){const a=we(s);let o=be.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,E){const w=we(v),M=w.xs.get(E);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(y,E)})(a,d,Pi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:Be()))).next((p=>(NR(a,mx(e),p),{documents:p,Qs:c})))))}function NR(s,e,i){let a=s.Os.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class ev{constructor(){this.activeTargetIds=Ex()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DR{constructor(){this.Mo=new ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ev,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OR{Oo(e){}shutdown(){}}const tv="ConnectivityMonitor";class nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(tv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function Em(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Kd="RestConnection",MR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Em(),p=this.zo(e,i.toUriEncodedString());ae(Kd,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(p),E=fl(y);return this.Jo(e,p,v,a,E).then((w=>(ae(Kd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw rl(Kd,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=MR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class kR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class UR extends VR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Em();return new Promise(((p,v)=>{const y=new E1;y.setWithCredentials(!0),y.listenOnce(T1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const w=y.getResponseJson();ae(un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case zc.TIMEOUT:ae(un,`RPC '${e}' ${d} timed out`),v(new he($.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const M=y.getStatus();if(ae(un,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const ee=(function(me){const Te=me.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Te)>=0?Te:$.UNKNOWN})(J.status);v(new he(ee,J.message))}else v(new he($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new he($.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(un,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ae(un,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=A1(),p=S1(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const E=c.join("");ae(un,`Creating RPC '${e}' stream ${o}: ${E}`,v);const w=d.createWebChannel(E,v);this.I_(w);let M=!1,H=!1;const J=new kR({Yo:Z=>{H?ae(un,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(M||(ae(un,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),ae(un,`RPC '${e}' stream ${o} sending:`,Z),w.send(Z))},Zo:()=>w.close()}),ee=(Z,me,Te)=>{Z.listen(me,(ge=>{try{Te(ge)}catch($e){setTimeout((()=>{throw $e}),0)}}))};return ee(w,So.EventType.OPEN,(()=>{H||(ae(un,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),ee(w,So.EventType.CLOSE,(()=>{H||(H=!0,ae(un,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(w))})),ee(w,So.EventType.ERROR,(Z=>{H||(H=!0,rl(un,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new he($.UNAVAILABLE,"The operation could not be completed")))})),ee(w,So.EventType.MESSAGE,(Z=>{if(!H){const me=Z.data[0];We(!!me,16349);const Te=me,ge=Te?.error||Te[0]?.error;if(ge){ae(un,`RPC '${e}' stream ${o} received error:`,ge);const $e=ge.status;let Fe=(function(A){const I=Lt[A];if(I!==void 0)return nE(I)})($e),Ne=ge.message;Fe===void 0&&(Fe=$.INTERNAL,Ne="Unknown error status: "+$e+" with message "+ge.message),H=!0,J.a_(new he(Fe,Ne)),w.close()}else ae(un,`RPC '${e}' stream ${o} received:`,me),J.u_(me)}})),ee(p,b1.STAT_EVENT,(Z=>{Z.stat===om.PROXY?ae(un,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===om.NOPROXY&&ae(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Xd(){return typeof document<"u"?document:null}function Rh(s){return new zx(s,!0)}class pE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iv="PersistentStream";class yE{constructor(e,i,a,o,c,d,p,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new he($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LR extends yE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Hx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?zi(d.readTime):be.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=dm(v)?{documents:Qx(c,v)}:{query:Yx(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=rE(c,d.resumeToken);const y=gm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){p.readTime=oh(c,d.snapshotVersion.toTimestamp());const y=gm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=Xx(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=_m(this.serializer),i.removeTarget=e,this.q_(i)}}class jR extends yE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Fx(e.writeResults,e.commitTime),a=zi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=_m(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Gx(this.serializer,a)))};this.q_(i)}}class PR{}class zR extends PR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,pm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class qR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{aa(this)&&(ae(ia,"Restarting streams for network reachability change."),await(async function(v){const y=we(v);y.Ea.add(4),await Wo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ih(y)})(this))}))})),this.Ra=new BR(a,o)}}async function Ih(s){if(aa(s))for(const e of s.da)await e(!0)}async function Wo(s){for(const e of s.da)await e(!1)}function _E(s,e){const i=we(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),sg(i)?ig(i):_l(i).O_()&&ng(i,e))}function tg(s,e){const i=we(s),a=_l(i);i.Ia.delete(e),a.O_()&&vE(i,e),i.Ia.size===0&&(a.O_()?a.L_():aa(i)&&i.Ra.set("Unknown"))}function ng(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}_l(s).Y_(e)}function vE(s,e){s.Va.Ue(e),_l(s).Z_(e)}function ig(s){s.Va=new Ux({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),_l(s).start(),s.Ra.ua()}function sg(s){return aa(s)&&!_l(s).x_()&&s.Ia.size>0}function aa(s){return we(s).Ea.size===0}function EE(s){s.Va=void 0}async function HR(s){s.Ra.set("Online")}async function GR(s){s.Ia.forEach(((e,i)=>{ng(s,e)}))}async function FR(s,e){EE(s),sg(s)?(s.Ra.ha(e),ig(s)):s.Ra.set("Unknown")}async function QR(s,e,i){if(s.Ra.set("Online"),e instanceof sE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(a){ae(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ch(s,a)}else if(e instanceof Gc?s.Va.Ze(e):e instanceof iE?s.Va.st(e):s.Va.tt(e),!i.isEqual(be.min()))try{const a=await gE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const E=c.Ia.get(v);if(!E)return;c.Ia.set(v,E.withResumeToken(ln.EMPTY_BYTE_STRING,E.snapshotVersion)),vE(c,v);const w=new or(E.target,v,y,E.sequenceNumber);ng(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ae(ia,"Failed to raise snapshot:",a),await ch(s,a)}}async function ch(s,e,i){if(!yl(e))throw e;s.Ea.add(1),await Wo(s),s.Ra.set("Offline"),i||(i=()=>gE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function TE(s,e){return e().catch((i=>ch(s,i,e)))}async function Ch(s){const e=we(s),i=vr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;YR(e);)try{const o=await IR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,KR(e,o)}catch(o){await ch(e,o)}bE(e)&&SE(e)}function YR(s){return aa(s)&&s.Ta.length<10}function KR(s,e){s.Ta.push(e);const i=vr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function bE(s){return aa(s)&&!vr(s).x_()&&s.Ta.length>0}function SE(s){vr(s).start()}async function XR(s){vr(s).ra()}async function $R(s){const e=vr(s);for(const i of s.Ta)e.ea(i.mutations)}async function ZR(s,e,i){const a=s.Ta.shift(),o=Km.from(a,e,i);await TE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ch(s)}async function JR(s,e){e&&vr(s).X_&&await(async function(a,o){if((function(d){return Mx(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();vr(a).B_(),await TE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(a)}})(s,e),bE(s)&&SE(s)}async function sv(s,e){const i=we(s);i.asyncQueue.verifyOperationInProgress(),ae(ia,"RemoteStore received new credentials");const a=aa(i);i.Ea.add(3),await Wo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function WR(s,e){const i=we(s);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await Wo(i),i.Ra.set("Unknown"))}function _l(s){return s.ma||(s.ma=(function(i,a,o){const c=we(i);return c.sa(),new LR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:HR.bind(null,s),t_:GR.bind(null,s),r_:FR.bind(null,s),H_:QR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),sg(s)?ig(s):s.Ra.set("Unknown")):(await s.ma.stop(),EE(s))}))),s.ma}function vr(s){return s.fa||(s.fa=(function(i,a,o){const c=we(i);return c.sa(),new jR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:XR.bind(null,s),r_:JR.bind(null,s),ta:$R.bind(null,s),na:ZR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class rg{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new rg(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(s,e){if(_s("AsyncQueue",`${e}: ${s}`),yl(s))return new he($.UNAVAILABLE,`${e}: ${s}`);throw s}class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Ao(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new nl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class rv{constructor(){this.ga=new _t(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class hl{constructor(e,i,a,o,c,d,p,v,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new hl(e,i,nl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class eI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tI{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=av(),c.forEach(((d,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new he($.ABORTED,"Firestore shutting down"))}}function av(){return new ra((s=>G1(s)),bh)}async function AE(s,e){const i=we(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new eI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ag(d,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&lg(i)}async function wE(s,e){const i=we(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function nI(s,e){const i=we(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&lg(i)}function iI(s,e,i){const a=we(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function lg(s){s.Ca.forEach((e=>{e.next()}))}var Tm,lv;(lv=Tm||(Tm={})).Ma="default",lv.Cache="cache";class xE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new hl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tm.Cache}}class RE{constructor(e){this.key=e}}class IE{constructor(e){this.key=e}}class sI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=F1(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new rv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const M=o.get(E),H=Sh(this.query,w)?w:null,J=!!M&&this.mutatedKeys.has(M.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;M&&H?M.data.isEqual(H.data)?J!==ee&&(a.track({type:3,doc:H}),Z=!0):this.su(M,H)||(a.track({type:2,doc:H}),Z=!0,(v&&this.eu(H,v)>0||y&&this.eu(H,y)<0)&&(p=!0)):!M&&H?(a.track({type:0,doc:H}),Z=!0):M&&!H&&(a.track({type:1,doc:M}),Z=!0,(v||y)&&(p=!0)),Z&&(H?(d=d.add(H),c=ee?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,w)=>(function(H,J){const ee=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:Z})}};return ee(H)-ee(J)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new hl(this.query,e.tu,c,d,e.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new IE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new RE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class rI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class aI{constructor(e){this.key=e,this.hu=!1}}class lI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((p=>G1(p)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(pe.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oI(s,e,i=!0){const a=VE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await CE(a,e,i,!0),o}async function uI(s,e){const i=VE(s);await CE(i,e,!0,!1)}async function CE(s,e,i,a){const o=await CR(s.localStore,Pi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await cI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&_E(s.remoteStore,o),p}async function cI(s,e,i,a,o){s.pu=(w,M,H)=>(async function(ee,Z,me,Te){let ge=Z.view.ru(me);ge.Cs&&(ge=await W0(ee.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,ge))));const $e=Te&&Te.targetChanges.get(Z.targetId),Fe=Te&&Te.targetMismatches.get(Z.targetId)!=null,Ne=Z.view.applyChanges(ge,ee.isPrimaryClient,$e,Fe);return uv(ee,Z.targetId,Ne.au),Ne.snapshot})(s,w,M,H);const c=await W0(s.localStore,e,!0),d=new sI(e,c.Qs),p=d.ru(c.documents),v=Jo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,v);uv(s,i,y.au);const E=new rI(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function hI(s,e,i){const a=we(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!bh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&tg(a.remoteStore,o.targetId),bm(a,o.targetId)})).catch(pl)):(bm(a,o.targetId),await vm(a.localStore,o.targetId,!0))}async function fI(s,e){const i=we(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),tg(i.remoteStore,a.targetId))}async function dI(s,e,i){const a=EI(s);try{const o=await(function(d,p){const v=we(d),y=mt.now(),E=p.reduce(((H,J)=>H.add(J.key)),Be());let w,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=vs(),ee=Be();return v.Ns.getEntries(H,E).next((Z=>{J=Z,J.forEach(((me,Te)=>{Te.isValidDocument()||(ee=ee.add(me))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,J))).next((Z=>{w=Z;const me=[];for(const Te of p){const ge=Ix(Te,w.get(Te.key).overlayedDocument);ge!=null&&me.push(new br(Te.key,ge,L1(ge.value.mapValue),mi.exists(!0)))}return v.mutationQueue.addMutationBatch(H,y,me,p)})).next((Z=>{M=Z;const me=Z.applyToLocalDocumentSet(w,ee);return v.documentOverlayCache.saveOverlays(H,Z.batchId,me)}))})).then((()=>({batchId:M.batchId,changes:Y1(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new _t(ze)),y=y.insert(p,v),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await eu(a,o.changes),await Ch(a.remoteStore)}catch(o){const c=ag(o,"Failed to persist write");i.reject(c)}}async function NE(s,e){const i=we(s);try{const a=await xR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?We(d.hu,14607):o.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await eu(i,a,e)}catch(a){await pl(a)}}function ov(s,e,i){const a=we(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=we(d);v.onlineState=p;let y=!1;v.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(p)&&(y=!0)})),y&&lg(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mI(s,e,i){const a=we(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new _t(pe.comparator);d=d.insert(c,fn.newNoDocument(c,be.min()));const p=Be().add(c),v=new xh(be.min(),new Map,new _t(ze),d,p);await NE(a,v),a.du=a.du.remove(c),a.Au.delete(e),ug(a)}else await vm(a.localStore,e,!1).then((()=>bm(a,e,i))).catch(pl)}async function gI(s,e){const i=we(s),a=e.batch.batchId;try{const o=await wR(i.localStore,e);OE(i,a,null),DE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,o)}catch(o){await pl(o)}}async function pI(s,e,i){const a=we(s);try{const o=await(function(d,p){const v=we(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return v.mutationQueue.lookupMutationBatch(y,p).next((w=>(We(w!==null,37113),E=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>v.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);OE(a,e,i),DE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await eu(a,o)}catch(o){await pl(o)}}function DE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function OE(s,e,i){const a=we(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function bm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||ME(s,a)}))}function ME(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(tg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),ug(s))}function uv(s,e,i){for(const a of i)a instanceof RE?(s.Ru.addReference(a.key,e),yI(s,a)):a instanceof IE?(ae(og,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||ME(s,a.key)):_e(19791,{wu:a})}function yI(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ae(og,"New document in limbo: "+i),s.Eu.add(a),ug(s))}function ug(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(yt.fromString(e)),a=s.fu.next();s.Au.set(a,new aI(i)),s.du=s.du.insert(i,a),_E(s.remoteStore,new or(Pi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function eu(s,e,i){const a=we(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Wm.As(v.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,y){const E=we(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(M=>X.forEach(M.Es,(H=>E.persistence.referenceDelegate.addReference(w,M.targetId,H))).next((()=>X.forEach(M.ds,(H=>E.persistence.referenceDelegate.removeReference(w,M.targetId,H)))))))))}catch(w){if(!yl(w))throw w;ae(eg,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const H=E.Ms.get(M),J=H.snapshotVersion,ee=H.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(M,ee)}}})(a.localStore,c))}async function _I(s,e){const i=we(s);if(!i.currentUser.isEqual(e)){ae(og,"User change. New user:",e.toKey());const a=await mE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new he($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await eu(i,a.Ls)}}function vI(s,e){const i=we(s),a=i.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let o=Be();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function VE(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mI.bind(null,e),e.Pu.H_=nI.bind(null,e.eventManager),e.Pu.yu=iI.bind(null,e.eventManager),e}function EI(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pI.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return AR(this.persistence,new TR,e.initialUser,this.serializer)}Cu(e){return new dE(Jm.mi,this.serializer)}Du(e){return new DR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class TI extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){We(this.persistence.referenceDelegate instanceof uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new aR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new dE((a=>uh.mi(a,i)),this.serializer)}}class Sm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_I.bind(null,this.syncEngine),await WR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tI})()}createDatastore(e){const i=Rh(e.databaseInfo.databaseId),a=(function(c){return new UR(c)})(e.databaseInfo);return(function(c,d,p,v){return new zR(c,d,p,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new qR(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return nv.v()?new nv:new OR})())}createSyncEngine(e,i){return(function(o,c,d,p,v,y,E){const w=new lI(o,c,d,p,v,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);ae(ia,"RemoteStore shutting down."),a.Ea.add(5),await Wo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};class kE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class bI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ag(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function $d(s,e){s.asyncQueue.verifyOperationInProgress(),ae(Er,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await mE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function cv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await SI(s);ae(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>sv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>sv(e.remoteStore,o))),s._onlineComponents=e}async function SI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(Er,"Using user provided OfflineComponentProvider");try{await $d(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;rl("Error using user provided cache. Falling back to memory cache: "+i),await $d(s,new hh)}}else ae(Er,"Using default OfflineComponentProvider"),await $d(s,new TI(void 0));return s._offlineComponents}async function UE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(Er,"Using user provided OnlineComponentProvider"),await cv(s,s._uninitializedComponentsProvider._online)):(ae(Er,"Using default OnlineComponentProvider"),await cv(s,new Sm))),s._onlineComponents}function AI(s){return UE(s).then((e=>e.syncEngine))}async function Am(s){const e=await UE(s),i=e.eventManager;return i.onListen=oI.bind(null,e.syncEngine),i.onUnlisten=hI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=uI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fI.bind(null,e.syncEngine),i}function wI(s,e,i={}){const a=new dr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const E=new kE({next:M=>{E.Nu(),d.enqueueAndForget((()=>wE(c,w)));const H=M.docs.has(p);!H&&M.fromCache?y.reject(new he($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&v&&v.source==="server"?y.reject(new he($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),w=new xE(Th(p.path),E,{includeMetadataChanges:!0,qa:!0});return AE(c,w)})(await Am(s),s.asyncQueue,e,i,a))),a.promise}function LE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const hv=new Map;const jE="firestore.googleapis.com",fv=!0;class dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sR)throw new he($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Cw;switch(a.type){case"firstParty":return new Mw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=hv.get(i);a&&(ae("ComponentProvider","Removing Datastore"),hv.delete(i),a.terminate())})(this),Promise.resolve()}}function xI(s,e,i,a={}){s=di(s,cg);const o=fl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(Vv(`https://${p}`),kv("Firestore",!0)),c.host!==jE&&c.host!==p&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:a};if(!mr(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=hn.MOCK_USER;else{y=Jb(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new he($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(w)}s._authCredentials=new Nw(new x1(y,E))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Pt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if($o(i,Pt._jsonSchema))return new Pt(e,a||null,new pe(yt.fromString(i.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:jt("string",Pt._jsonSchemaVersion),referencePath:jt("string")};class Bo extends Nh{constructor(e,i,a){super(e,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new pe(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function nn(s,e,...i){if(s=pn(s),arguments.length===1&&(e=Pm.newId()),Pw("doc","path",e),s instanceof cg){const a=yt.fromString(e,...i);return R0(a),new Pt(s,null,new pe(a))}{if(!(s instanceof Pt||s instanceof Bo))throw new he($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yt.fromString(e,...i));return R0(a),new Pt(s.firestore,s instanceof Bo?s.converter:null,new pe(a))}}const mv="AsyncQueue";class gv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pE(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&ae(mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;ae(mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",pv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=rg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function pv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function yv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class sa extends cg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new gv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gv(e),this._firestoreClient=void 0,await e}}}function RI(s,e){const i=typeof s=="object"?s:Pv(),a=typeof s=="string"?s:nh,o=Cm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=$b("firestore");c&&xI(o,...c)}return o}function hg(s){if(s._terminated)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||II(s),s._firestoreClient}function II(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new Zw(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,LE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new bI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(ln.fromBase64String(e))}catch(i){throw new he($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Wn(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($o(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:jt("string",Wn._jsonSchemaVersion),bytes:jt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if($o(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:jt("string",Bi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class qi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($o(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new qi(e.vectorValues);throw new he($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:jt("string",qi._jsonSchemaVersion),vectorValues:jt("object")};const CI=/^__.*__$/;class NI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new Zo(e,this.data,i,this.fieldTransforms)}}class PE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function zE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:s})}}class Mh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zE(this.Ac)&&CI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Rh(e)}Cc(e,i,a,o=!1){return new Mh({Ac:e,methodName:i,Dc:a,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BE(s){const e=s._freezeSettings(),i=Rh(s._databaseId);return new DI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function OI(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);dg("Data must be an object, but it was:",d,a);const p=qE(a,d);let v,y;if(c.merge)v=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=wm(e,w,i);if(!d.contains(M))throw new he($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);GE(E,M)||E.push(M)}v=new Ln(E),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new NI(new xn(p),v,y)}class Vh extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function MI(s,e,i){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fg extends Oh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=MI(this,e,!0),a=this.vc.map((c=>tu(c,i))),o=new ul(a);return new Ax(e.path,o)}isEqual(e){return e instanceof fg&&mr(this.vc,e.vc)}}function VI(s,e,i,a){const o=s.Cc(1,e,i);dg("Data must be an object, but it was:",o,a);const c=[],d=xn.empty();Tr(a,((v,y)=>{const E=mg(e,v,i);y=pn(y);const w=o.yc(E);if(y instanceof Vh)c.push(E);else{const M=tu(y,w);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Ln(c);return new PE(d,p,o.fieldTransforms)}function kI(s,e,i,a,o,c){const d=s.Cc(1,e,i),p=[wm(e,a,i)],v=[o];if(c.length%2!=0)throw new he($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(wm(e,c[M])),v.push(c[M+1]);const y=[],E=xn.empty();for(let M=p.length-1;M>=0;--M)if(!GE(y,p[M])){const H=p[M];let J=v[M];J=pn(J);const ee=d.yc(H);if(J instanceof Vh)y.push(H);else{const Z=tu(J,ee);Z!=null&&(y.push(H),E.set(H,Z))}}const w=new Ln(y);return new PE(E,w,d.fieldTransforms)}function tu(s,e){if(HE(s=pn(s)))return dg("Unsupported field value:",e,s),qE(s,e);if(s instanceof Oh)return(function(a,o){if(!zE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let v=tu(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Tx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=mt.fromDate(a);return{timestampValue:oh(o.serializer,c)}}if(a instanceof mt){const c=new mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(o.serializer,c)}}if(a instanceof Bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Wn)return{bytesValue:rE(o.serializer,a._byteString)};if(a instanceof Pt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof qi)return(function(d,p){return{mapValue:{fields:{[k1]:{stringValue:U1},[ih]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${zm(a)}`)})(s,e)}function qE(s,e){const i={};return C1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((a,o)=>{const c=tu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function HE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Bi||s instanceof Wn||s instanceof Pt||s instanceof Oh||s instanceof qi)}function dg(s,e,i){if(!HE(i)||!R1(i)){const a=zm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function wm(s,e,i){if((e=pn(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return mg(s,e);throw fh("Field path arguments must be of type string or ",s,!1,void 0,i)}const UI=new RegExp("[~\\*/\\[\\]]");function mg(s,e,i){if(e.search(UI)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new he($.INVALID_ARGUMENT,p+s+v)}function GE(s,e){return s.some((i=>i.isEqual(e)))}class FE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(QE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LI extends FE{data(){return super.data()}}function QE(s,e){return typeof e=="string"?mg(s,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function jI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PI{convertValue(e,i="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Tr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ih].arrayValue?.values?.map((a=>It(a.doubleValue)));return new qi(i)}convertGeoPoint(e){return new Bi(It(e.latitude),It(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Lo(e));default:return null}}convertTimestamp(e){const i=pr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=yt.fromString(e);We(hE(a),9688,{name:e});const o=new jo(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function zI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class xo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends FE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(QE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:jt("string",Wr._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Fc extends Wr{data(e={}){return super.data(e)}}class il{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new xo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:BI(p.type),doc:v,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}function qI(s){s=di(s,Pt);const e=di(s.firestore,sa);return wI(hg(e),s._key).then((i=>KE(e,s,i)))}il._jsonSchemaVersion="firestore/querySnapshot/1.0",il._jsonSchema={type:jt("string",il._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class YE extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,i)}}function HI(s,e,i){s=di(s,Pt);const a=di(s.firestore,sa),o=zI(s.converter,e);return gg(a,[OI(BE(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,mi.none())])}function An(s,e,i,...a){s=di(s,Pt);const o=di(s.firestore,sa),c=BE(o);let d;return d=typeof(e=pn(e))=="string"||e instanceof Dh?kI(c,"updateDoc",s._key,e,i,a):VI(c,"updateDoc",s._key,e),gg(o,[d.toMutation(s._key,mi.exists(!0))])}function _v(s){return gg(di(s.firestore,sa),[new Ym(s._key,mi.none())])}function vv(s,...e){s=pn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||yv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yv(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,d,p;if(s instanceof Pt)d=di(s.firestore,sa),p=Th(s._key.path),c={next:v=>{e[a]&&e[a](KE(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=di(s,Nh);d=di(v.firestore,sa),p=v._query;const y=new YE(d);c={next:E=>{e[a]&&e[a](new il(d,y,v,E))},error:e[a+1],complete:e[a+2]},jI(s._query)}return(function(y,E,w,M){const H=new kE(M),J=new xE(E,H,w);return y.asyncQueue.enqueueAndForget((async()=>AE(await Am(y),J))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>wE(await Am(y),J)))}})(hg(d),p,o,c)}function gg(s,e){return(function(a,o){const c=new dr;return a.asyncQueue.enqueueAndForget((async()=>dI(await AI(a),o,c))),c.promise})(hg(s),e)}function KE(s,e,i){const a=i.docs.get(e._key),o=new YE(s);return new Wr(s,o,e._key,a,new xo(i.hasPendingWrites,i.fromCache),e.converter)}function nr(...s){return new fg("arrayUnion",s)}(function(e,i=!0){(function(o){gl=o})(dl),sl(new ea("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new sa(new Dw(a.getProvider("auth-internal")),new Vw(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),hr(S0,A0,e),hr(S0,A0,"esm2020")})();const GI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Ev=s=>{const e=FI(s);return e.charAt(0).toUpperCase()+e.slice(1)},XE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),QI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var YI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KI=Xe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},v)=>Xe.createElement("svg",{ref:v,...YI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:XE("lucide",o),...!c&&!QI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>Xe.createElement(y,E)),...Array.isArray(c)?c:[c]]));const ht=(s,e)=>{const i=Xe.forwardRef(({className:a,...o},c)=>Xe.createElement(KI,{ref:c,iconNode:e,className:XE(`lucide-${GI(Ev(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Ev(s),i};const XI=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],$I=ht("apple",XI);const ZI=[["path",{d:"M4 13c3.5-2 8-2 10 2a5.5 5.5 0 0 1 8 5",key:"1cscit"}],["path",{d:"M5.15 17.89c5.52-1.52 8.65-6.89 7-12C11.55 4 11.5 2 13 2c3.22 0 5 5.5 5 8 0 6.5-4.2 12-10.49 12C5.11 22 2 22 2 20c0-1.5 1.14-1.55 3.15-2.11Z",key:"1y1nbv"}]],qo=ht("banana",ZI);const JI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tv=ht("book-open",JI);const WI=[["path",{d:"M2 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"cvxqlc"}],["path",{d:"M12 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"1ostrc"}],["path",{d:"M7 14c3.22-2.91 4.29-8.75 5-12 1.66 2.38 4.94 9 5 12",key:"hqx58h"}],["path",{d:"M22 9c-4.29 0-7.14-2.33-10-7 5.71 0 10 4.67 10 7Z",key:"eykp1o"}]],$E=ht("cherry",WI);const eC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dh=ht("circle-check-big",eC);const tC=[["path",{d:"M21.66 17.67a1.08 1.08 0 0 1-.04 1.6A12 12 0 0 1 4.73 2.38a1.1 1.1 0 0 1 1.61-.04z",key:"4ite01"}],["path",{d:"M19.65 15.66A8 8 0 0 1 8.35 4.34",key:"1gxipu"}],["path",{d:"m14 10-5.5 5.5",key:"92pfem"}],["path",{d:"M14 17.85V10H6.15",key:"xqmtsk"}]],nC=ht("citrus",tC);const iC=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],sC=ht("flower",iC);const rC=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],aC=ht("gem",rC);const lC=[["path",{d:"M22 5V2l-5.89 5.89",key:"1eenpo"}],["circle",{cx:"16.6",cy:"15.89",r:"3",key:"xjtalx"}],["circle",{cx:"8.11",cy:"7.4",r:"3",key:"u2fv6i"}],["circle",{cx:"12.35",cy:"11.65",r:"3",key:"i6i8g7"}],["circle",{cx:"13.91",cy:"5.85",r:"3",key:"6ye0dv"}],["circle",{cx:"18.15",cy:"10.09",r:"3",key:"snx9no"}],["circle",{cx:"6.56",cy:"13.2",r:"3",key:"17x4xg"}],["circle",{cx:"10.8",cy:"17.44",r:"3",key:"1hogw9"}],["circle",{cx:"5",cy:"19",r:"3",key:"1sn6vo"}]],oC=ht("grape",lC);const uC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],cC=ht("hammer",uC);const hC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],pg=ht("hand",hC);const fC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],dC=ht("history",fC);const mC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gC=ht("info",mC);const pC=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],yC=ht("leaf",pC);const _C=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bv=ht("log-out",_C);const vC=[["path",{d:"M12 4V2",key:"1k5q1u"}],["path",{d:"M5 10v4a7.004 7.004 0 0 0 5.277 6.787c.412.104.802.292 1.102.592L12 22l.621-.621c.3-.3.69-.488 1.102-.592A7.003 7.003 0 0 0 19 14v-4",key:"1tgyif"}],["path",{d:"M12 4C8 4 4.5 6 4 8c-.243.97-.919 1.952-2 3 1.31-.082 1.972-.29 3-1 .54.92.982 1.356 2 2 1.452-.647 1.954-1.098 2.5-2 .595.995 1.151 1.427 2.5 2 1.31-.621 1.862-1.058 2.5-2 .629.977 1.162 1.423 2.5 2 1.209-.548 1.68-.967 2-2 1.032.916 1.683 1.157 3 1-1.297-1.036-1.758-2.03-2-3-.5-2-4-4-8-4Z",key:"tnsqj"}]],EC=ht("nut",vC);const TC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ZE=ht("play",TC);const bC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SC=ht("shield-check",bC);const AC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],JE=ht("skull",AC);const wC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sv=ht("sparkles",wC);const xC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],RC=ht("sun",xC);const IC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],WE=ht("trash-2",IC);const CC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eT=ht("triangle-alert",CC);const NC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Av=ht("trophy",NC);const DC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mo=ht("user",DC);const OC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yg=ht("x",OC),MC={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c447da22d85544e16aa637"},tT=jv(MC),Zd=Rw(tT),sn=RI(tT),cn=typeof __app_id<"u"?__app_id:"fructose-fury-game",VC="20",Es={CHERRY:{name:"Strawberry",val:1,count:11,color:"text-red-400",bg:"bg-red-900/50",border:"border-red-500",icon:$E},CITRUS:{name:"Tangerine",val:2,count:11,color:"text-orange-400",bg:"bg-orange-900/50",border:"border-orange-500",icon:nC},APPLE:{name:"Peach",val:3,count:11,color:"text-pink-400",bg:"bg-pink-900/50",border:"border-pink-500",icon:$I},GRAPE:{name:"Grape",val:4,count:11,color:"text-purple-400",bg:"bg-purple-900/50",border:"border-purple-500",icon:oC},BANANA:{name:"Banana",val:5,count:11,color:"text-yellow-400",bg:"bg-yellow-900/50",border:"border-yellow-500",icon:qo},NUT:{name:"Coconut",val:6,count:7,color:"text-stone-400",bg:"bg-stone-800/80",border:"border-stone-500",icon:EC},LEAF:{name:"Pear",val:7,count:7,color:"text-lime-400",bg:"bg-lime-900/50",border:"border-lime-500",icon:yC},FLOWER:{name:"Dragonfruit",val:8,count:7,color:"text-fuchsia-400",bg:"bg-fuchsia-900/50",border:"border-fuchsia-500",icon:sC},SUN:{name:"Melon",val:9,count:7,color:"text-amber-300",bg:"bg-amber-900/50",border:"border-amber-500",icon:RC},GEM:{name:"Pineapple",val:10,count:7,color:"text-cyan-300",bg:"bg-cyan-900/50",border:"border-cyan-500",icon:aC}},Qc=[];Object.keys(Es).forEach(s=>{const e=Es[s].count;for(let i=0;i<e;i++)Qc.push(s)});const wv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(qo,{size:12,className:"text-yellow-400"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-yellow-400 uppercase",children:"FRUCTOSE FURY"})]}),kC=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(qo,{size:20,className:"text-yellow-400"}),b.jsx("span",{className:"text-[20px] font-black tracking-widest text-yellow-400 uppercase",children:"FRUCTOSE FURY"})]}),Jd=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},ir=s=>!s||!Array.isArray(s)?0:s.reduce((e,i)=>e+(Es[i]?.val||0),0),Wd=({isShaking:s})=>b.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(Es),o=Es[a[i%a.length]].icon;return b.jsx("div",{className:"absolute animate-float text-white/20",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:b.jsx(o,{size:32})},i)})}),b.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),fs=({type:s,size:e="md",animate:i=!1})=>{const a=Es[s];if(!a)return b.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded-lg"});const o=e==="sm"?"w-10 h-14 md:w-12 md:h-16 p-1":e==="lg"?"w-32 h-48 p-4":"w-20 h-28 md:w-24 md:h-32 p-2",c=a.icon;return b.jsxs("div",{className:`
      ${o} rounded-xl border-2 ${a.bg} ${a.border} 
      flex flex-col items-center justify-center shadow-lg relative overflow-hidden
      ${i?"animate-in zoom-in duration-300":""}
    `,children:[b.jsx("div",{className:"absolute -right-2 -top-2 opacity-20 rotate-12",children:b.jsx(c,{size:e==="lg"?80:40})}),b.jsx(c,{className:`${a.color} drop-shadow-md z-10`,size:e==="sm"?20:e==="lg"?64:32}),e!=="sm"&&b.jsx("span",{className:"font-bold uppercase tracking-wider text-[10px] md:text-xs mt-2 text-white/90 z-10 text-center leading-none",children:a.name}),b.jsx("div",{className:"absolute bottom-1 right-1 bg-black/50 px-1 rounded text-white/80 text-[10px] md:text-xs font-mono font-bold",children:a.val})]})},UC=({event:s,currentUserId:e})=>{if(!s||s.type==="STEAL"&&s.targetIds&&s.targetIds.includes(e)||s.type==="STEAL"&&s.thiefId===e||s.type==="BANK"&&s.playerId===e)return null;let i=gC,a="text-white",o="bg-gray-800";return s.type==="BUST"?(i=JE,a="text-red-500",o="bg-red-900/90"):s.type==="STEAL"?(i=pg,a="text-orange-500",o="bg-orange-900/90"):s.type==="BANK"&&(i=dh,a="text-green-500",o="bg-green-900/90"),b.jsx("div",{className:"fixed inset-0 pointer-events-none z-[200] flex items-center justify-center p-4",children:b.jsxs("div",{className:`p-6 md:p-8 rounded-3xl ${o} border-4 border-white/20 shadow-2xl flex flex-col items-center animate-in zoom-in fade-in duration-300 transform scale-110 max-w-sm w-full text-center`,children:[b.jsx(i,{size:48,className:`${a} mb-4 animate-bounce`}),b.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white uppercase drop-shadow-lg",children:s.title}),b.jsx("p",{className:"text-lg md:text-xl text-white/90 font-bold mt-2",children:s.message})]})})},LC=({event:s,onClose:e})=>(Xe.useEffect(()=>{const i=setTimeout(e,2500);return()=>clearTimeout(i)},[e]),b.jsx("div",{className:"fixed inset-0 z-[210] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in slide-in-from-top-5",children:b.jsxs("div",{className:"bg-red-950/90 border-2 border-red-500 p-4 rounded-2xl max-w-xs w-full text-center shadow-2xl backdrop-blur-md",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[b.jsx(eT,{size:32,className:"text-red-500 animate-pulse"}),b.jsx("h2",{className:"text-2xl font-black text-white uppercase",children:"ROBBED!"})]}),b.jsx("p",{className:"text-red-200 text-sm mb-4 font-bold",children:s.message||"Someone stole your fruits!"}),s.cardType&&b.jsxs("div",{className:"flex flex-col items-center gap-1 mb-2",children:[b.jsx("span",{className:"text-[10px] uppercase font-bold text-red-300 tracking-widest",children:"Stolen Fruit"}),b.jsx("div",{className:"transform scale-90",children:b.jsx(fs,{type:s.cardType,size:"md"})})]})]})})),jC=({data:s,onClose:e})=>(Xe.useEffect(()=>{const i=setTimeout(e,2500);return()=>clearTimeout(i)},[e]),b.jsx("div",{className:"fixed inset-0 z-[210] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in slide-in-from-top-5",children:b.jsxs("div",{className:"bg-green-950/90 border-2 border-green-500 p-4 rounded-2xl max-w-xs w-full text-center shadow-2xl backdrop-blur-md",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[b.jsx(SC,{size:32,className:"text-green-400 animate-bounce"}),b.jsx("h2",{className:"text-2xl font-black text-white uppercase",children:"SECURED!"})]}),b.jsxs("p",{className:"text-green-100 text-sm mb-3 font-bold",children:["You secured"," ",b.jsx("span",{className:"text-yellow-300 text-xl font-black",children:s.amount})," ","points!"]}),s.cards&&s.cards.length>0&&b.jsx("div",{className:"flex flex-wrap justify-center gap-1 opacity-90 max-h-24 overflow-hidden",children:s.cards.map((i,a)=>b.jsx("div",{className:"transform scale-75",children:b.jsx(fs,{type:i,size:"sm"})},a))})]})})),PC=({targets:s,fruitType:e,onSteal:i,onPass:a})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-gray-800 rounded-2xl border-4 border-yellow-500 p-4 md:p-6 max-w-md w-full text-center shadow-[0_0_50px_rgba(234,179,8,0.3)] relative overflow-hidden flex flex-col max-h-[90vh]",children:[b.jsx("div",{className:"absolute inset-0 bg-yellow-500/10 animate-pulse pointer-events-none"}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsx("h3",{className:"text-2xl md:text-3xl font-black text-white mb-2 uppercase italic transform -rotate-2",children:"Sweet Opportunity!"}),b.jsxs("p",{className:"text-gray-300 mb-4 text-sm md:text-base",children:["You drew a"," ",b.jsx("strong",{className:"text-yellow-400",children:Es[e].name}),"! The following players have them ripe for the taking:"]}),b.jsx("div",{className:"flex justify-center mb-4 shrink-0",children:b.jsx(fs,{type:e,size:"lg",animate:!0})}),b.jsx("div",{className:"bg-black/40 rounded-xl p-3 mb-4 overflow-y-auto border border-gray-700 flex-1 min-h-0",children:s.map((o,c)=>b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700 last:border-0",children:[b.jsxs("span",{className:"font-bold text-white flex items-center gap-2",children:[b.jsx(Mo,{size:16,className:"text-gray-400"})," ",o.name]}),b.jsxs("span",{className:"bg-yellow-900/50 text-yellow-200 px-2 py-1 rounded text-xs font-mono border border-yellow-500/30",children:["Has ",o.count]})]},c))}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-auto",children:[b.jsx("button",{onClick:a,className:"bg-gray-700 hover:bg-gray-600 text-gray-300 py-3 rounded-xl font-bold transition-all text-sm md:text-base",children:"Pass"}),b.jsxs("button",{onClick:i,className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 text-white py-3 rounded-xl font-black text-sm md:text-xl shadow-lg transform hover:scale-105 transition-all flex items-center justify-center gap-2",children:[b.jsx(pg,{size:18})," STEAL ALL!"]})]})]})]})}),xv=({onConfirm:s,onCancel:e,isHost:i,onReturnToLobby:a})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Harvest?"}),b.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Leaving now will forfeit your gathered fruits."}),b.jsxs("div",{className:"flex flex-col gap-3",children:[i&&a&&b.jsx("button",{onClick:a,className:"w-full bg-orange-700 hover:bg-orange-600 text-white py-3 rounded font-bold transition-colors border border-orange-500 shadow-lg mb-2",children:"Return Group to Lobby"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),b.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors",children:"Leave"})]})]})]})}),zC=({players:s,destroyedCards:e,onClose:i})=>b.jsx("div",{className:"fixed inset-0 z-[250] bg-black/95 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-300",children:b.jsxs("div",{className:"bg-gray-900 border-2 border-yellow-600 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl overflow-hidden relative",children:[b.jsxs("div",{className:"p-6 bg-gray-950 border-b border-gray-800 flex justify-between items-center shrink-0",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500 uppercase italic",children:"Harvest Report"}),b.jsx("p",{className:"text-gray-400 text-sm font-bold",children:"All cards collected and destroyed"})]}),b.jsx("button",{onClick:i,className:"bg-gray-800 hover:bg-gray-700 text-white p-3 rounded-full transition-colors",children:b.jsx(yg,{size:24})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[b.jsxs("div",{className:"bg-red-950/30 rounded-2xl p-4 border border-red-900/50",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4 text-red-400",children:[b.jsx(WE,{size:24}),b.jsx("h3",{className:"text-xl font-bold uppercase",children:"Rotten Fruit (Destroyed)"}),b.jsxs("span",{className:"bg-red-900/50 px-2 py-0.5 rounded text-xs text-red-200",children:[e?.length||0," Cards"]})]}),!e||e.length===0?b.jsx("p",{className:"text-gray-500 italic text-sm",children:"No fruits were harmed in this game."}):b.jsx("div",{className:"flex flex-wrap gap-2",children:e.sort().map((a,o)=>b.jsx("div",{className:"transform scale-75 origin-top-left -mr-4 -mb-4",children:b.jsx(fs,{type:a,size:"sm"})},o))})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(a=>b.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-4 border border-gray-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsxs("span",{className:"font-bold text-yellow-500 text-lg flex items-center gap-2",children:[b.jsx(Mo,{size:18})," ",a.name]}),b.jsxs("span",{className:"text-white font-mono font-bold bg-gray-900 px-2 py-1 rounded",children:["Score: ",ir(a.bank)]})]}),b.jsx("div",{className:"flex flex-wrap gap-1 min-h-[60px] content-start bg-black/20 p-2 rounded-xl",children:a.bank&&a.bank.length>0?a.bank.sort().map((o,c)=>b.jsx("div",{className:"transform scale-75 origin-top-left -mr-3 -mb-3",children:b.jsx(fs,{type:o,size:"sm"})},c)):b.jsx("span",{className:"text-gray-600 text-xs italic w-full text-center py-2",children:"Empty Basket"})})]},a.id))})]}),b.jsx("div",{className:"p-4 bg-gray-950 border-t border-gray-800 shrink-0 flex justify-center",children:b.jsx("button",{onClick:i,className:"bg-yellow-600 hover:bg-yellow-500 text-black font-black text-xl py-3 px-12 rounded-xl shadow-lg hover:scale-105 transition-transform",children:"SEE WINNER"})})]})}),Rv=({onClose:s})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-0 md:p-4",children:b.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-3xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border border-yellow-500/30 flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[b.jsx("h2",{className:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500 uppercase italic",children:"Farming Guide"}),b.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:b.jsx(yg,{})})]}),b.jsxs("div",{className:"p-6 overflow-y-auto space-y-6 text-gray-300",children:[b.jsxs("div",{className:"flex gap-4 items-start",children:[b.jsx("div",{className:"bg-yellow-500/20 p-3 rounded-lg text-yellow-500",children:b.jsx(ZE,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-white text-lg",children:"1. Push Your Luck"}),b.jsxs("p",{className:"text-sm",children:["Draw fruits from the deck. They enter your"," ",b.jsx("strong",{className:"text-red-400",children:"Risk Zone"}),"."]})]})]}),b.jsxs("div",{className:"flex gap-4 items-start",children:[b.jsx("div",{className:"bg-red-500/20 p-3 rounded-lg text-red-500",children:b.jsx(JE,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-white text-lg",children:"2. The Bust Rule"}),b.jsxs("p",{className:"text-sm",children:["You are safe if you have ",b.jsx("strong",{children:"3 or fewer cards"})," in your Risk Zone.",b.jsx("br",{}),b.jsx("strong",{children:"Only if you have 3+ cards:"})," Drawing a fruit that matches one ",b.jsx("em",{children:"already"})," in your Risk Zone causes a"," ",b.jsx("strong",{children:"BUST"}),"! All fruits from this turn are lost.",b.jsx("br",{}),b.jsx("em",{children:"Note: Stealing does NOT cause a Bust, but having 3+ cards after stealing puts you in danger for your NEXT draw!"})]})]})]}),b.jsxs("div",{className:"flex gap-4 items-start",children:[b.jsx("div",{className:"bg-orange-500/20 p-3 rounded-lg text-orange-500",children:b.jsx(pg,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-white text-lg",children:"3. Steal!"}),b.jsxs("p",{className:"text-sm",children:["If you draw a fruit that an opponent has in their"," ",b.jsx("strong",{className:"text-orange-400",children:"Danger Zone"})," (Table), you can ",b.jsx("strong",{children:"STEAL"})," them! They are added to your Risk Zone. Watch out: this increases your card count, making a Bust more likely on your next draw!"]})]})]}),b.jsxs("div",{className:"flex gap-4 items-start",children:[b.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg text-green-500",children:b.jsx(dh,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-white text-lg",children:"4. Bank & Win"}),b.jsxs("p",{className:"text-sm",children:["Stop before busting to move fruits to your"," ",b.jsx("strong",{children:"Danger Zone"}),". At the start of your ",b.jsx("em",{children:"next"})," ","turn, they move to your ",b.jsx("strong",{children:"Safe Zone"}),".",b.jsx("br",{}),b.jsx("br",{}),b.jsx("strong",{children:"Winning:"})," The player with the highest total"," ",b.jsx("strong",{children:"VALUE"})," (not count) of banked fruits wins!"]})]})]})]}),b.jsx("div",{className:"p-4 bg-gray-900 border-t border-gray-800 text-center",children:b.jsx("button",{onClick:s,className:"bg-yellow-600 hover:bg-yellow-500 text-white px-8 py-3 rounded-lg font-bold",children:"Got it!"})})]})});function BC(){const[s,e]=Xe.useState(null),[i,a]=Xe.useState("menu"),[o,c]=Xe.useState(()=>localStorage.getItem("fructosefury_playerName")||""),[d,p]=Xe.useState(""),[v,y]=Xe.useState(""),[E,w]=Xe.useState(null),[M,H]=Xe.useState(""),[J,ee]=Xe.useState(!1),[Z,me]=Xe.useState(!1),[Te,ge]=Xe.useState(!1),[$e,Fe]=Xe.useState(!1),[Ne,C]=Xe.useState(!1),[A,I]=Xe.useState(null),[V,N]=Xe.useState(!1),[U,x]=Xe.useState(null),[lt,vt]=Xe.useState(null),G=Xe.useRef(null);Xe.useEffect(()=>{const se=localStorage.getItem("fructose_room_id");se&&p(se)},[]),Xe.useEffect(()=>{o&&localStorage.setItem("fructosefury_playerName",o)},[o]),Xe.useEffect(()=>{E?.status==="finished"&&N(!0)},[E?.status]),Xe.useEffect(()=>{d?localStorage.setItem("fructose_room_id",d):localStorage.removeItem("fructose_room_id")},[d]),Xe.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await d2(Zd,__initial_auth_token):await o2(Zd)})();const te=p2(Zd,e);return()=>te()},[]),Xe.useEffect(()=>{const se=vv(nn(sn,"game_hub_settings","config"),te=>{te.exists()&&(te.data()[VC]?.maintenance?me(!0):me(!1))});return()=>se()},[]),Xe.useEffect(()=>{if(!d||!s)return;const se=vv(nn(sn,"artifacts",cn,"public","data","rooms",d),te=>{if(te.exists()){const le=te.data();if(!le.players.find(De=>De.id===s.uid)){p(""),a("menu"),H("You were kicked by the host."),localStorage.removeItem("fructose_room_id");return}w(le),le.status==="playing"||le.status==="finished"?a("game"):le.status==="lobby"&&a("lobby"),le.lastEvent&&le.lastEvent.id!==G.current&&(le.lastEvent.timestamp||Date.now())>Date.now()-1e4&&(G.current=le.lastEvent.id,I(le.lastEvent),le.lastEvent.type==="STEAL"&&le.lastEvent.targetIds&&le.lastEvent.targetIds.includes(s.uid)&&vt(le.lastEvent),le.lastEvent.type==="BANK"&&le.lastEvent.playerId===s.uid&&x({amount:le.lastEvent.amount,cards:le.lastEvent.cards}),setTimeout(()=>I(null),3e3))}else p(""),a("menu"),H("The Fruit Stand has closed (Host left)."),localStorage.removeItem("fructose_room_id")});return()=>se()},[d,s]);const ne=async()=>{if(!o)return H("Name required");ee(!0);const se=Math.random().toString(36).substring(2,7).toUpperCase(),te=Jd([...Qc]),le={roomId:se,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,hand:[],table:[],bank:[],ready:!1}],deck:te,turnIndex:0,turnPhase:"IDLE",stealTargetIds:[],destroyedCards:[],drawnCard:null,lastEvent:null,logs:[]};await HI(nn(sn,"artifacts",cn,"public","data","rooms",se),le),p(se),y(se),ee(!1)},fe=async()=>{if(!v||!o)return H("Code and Name required");ee(!0);const se=nn(sn,"artifacts",cn,"public","data","rooms",v),te=await qI(se);if(!te.exists()){H("Room not found"),ee(!1);return}const le=te.data();if(le.status!=="lobby"){H("Game already started"),ee(!1);return}if(le.players.length>=6){H("Room full"),ee(!1);return}le.players.find(Ue=>Ue.id===s.uid)||await An(se,{players:nr({id:s.uid,name:o,hand:[],table:[],bank:[],ready:!1})}),p(v),ee(!1)},Ve=async()=>{if(E.hostId!==s.uid)return;const se=Jd([...Qc]),te=E.players.map(le=>({...le,ready:!1,hand:[],table:[],bank:[]}));await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{status:"playing",players:te,deck:se,turnIndex:0,turnPhase:"DRAWING",logs:[{text:"The Harvest Begins! Draw fruits without busting.",type:"neutral"}],stealTargetIds:[],destroyedCards:[],drawnCard:null,lastEvent:null})},Qe=async()=>{if(E.hostId!==s.uid)return;const se=E.players.map(te=>({...te,hand:[],table:[],bank:[],ready:!1}));await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{status:"lobby",players:se,deck:Jd([...Qc]),logs:[],turnIndex:0,destroyedCards:[]}),Fe(!1)},O=async()=>{if(!d)return;localStorage.removeItem("fructose_room_id");const se=nn(sn,"artifacts",cn,"public","data","rooms",d);if(E.hostId===s.uid)await _v(se);else if(E.players.length<=1)await _v(se);else{const te=E.players.findIndex(ot=>ot.id===s.uid),le=E.players.filter(ot=>ot.id!==s.uid);let Ue=E.turnIndex,De=!1;te<E.turnIndex?Ue=Math.max(0,E.turnIndex-1):te===E.turnIndex&&(De=!0),le.length>0?Ue>=le.length&&(Ue=0):Ue=0;let qe=E.status;E.status==="playing"&&le.length<2&&(qe="finished");const Tt={players:le,status:qe,turnIndex:Ue,logs:nr({text:`${o} left the game.`,type:"danger"})};De&&(Tt.turnPhase="DRAWING",Tt.drawnCard=null,Tt.stealTargetIds=[]),await An(se,Tt)}p(""),a("menu"),Fe(!1)},Y=async(se,te,le=[],Ue=null)=>{let De=(E.turnIndex+1)%se.length;const qe=se[De];let Tt=null;if(qe.table.length>0){const ot=ir(qe.table),zt=[...qe.table];qe.bank=[...qe.bank||[],...qe.table],qe.table=[],le.push({text:`${qe.name} banked ${ot} points!`,type:"success"}),Tt={id:Date.now(),timestamp:Date.now(),type:"BANK",playerId:qe.id,amount:ot,cards:zt,title:"SECURED!",message:`${qe.name} banked ${ot} points!`}}await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{players:se,deck:te,turnIndex:De,turnPhase:"DRAWING",drawnCard:null,stealTargetIds:[],lastEvent:Ue||Tt||null,logs:nr(...le)})},ie=(se,te)=>se.length<3?!1:se.includes(te),re=se=>se.map(te=>({...te,bank:[...te.bank,...te.table,...te.hand],table:[],hand:[]})),ve=async()=>{if(E.deck.length===0)return;const se=[...E.players],te=[...E.deck],le=se[E.turnIndex],Ue=te.pop();if(ie(le.hand,Ue)){const qe=[...le.hand,Ue],ot=[...E.destroyedCards||[],...qe],zt={id:Date.now(),timestamp:Date.now(),type:"BUST",title:"BUSTED!",message:`${le.name} got greedy!`},ce=[{text:`${le.name} drew ${Es[Ue].name} and BUSTED!`,type:"danger"}];if(te.length===0){le.hand=[];const Kt=re(se);await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{players:Kt,deck:te,status:"finished",lastEvent:zt,destroyedCards:ot,logs:nr(...ce,{text:"Deck Empty on a Bust! Game Over!",type:"neutral"}),drawnCard:Ue,turnPhase:"BUSTED"});return}await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{players:se,deck:te,lastEvent:zt,destroyedCards:ot,logs:nr(...ce),drawnCard:Ue,turnPhase:"BUSTED"});const Ce=JSON.parse(JSON.stringify(se));Ce[E.turnIndex].hand=[],setTimeout(()=>Y(Ce,te,[],null),2500);return}const De=[];for(let qe of se)qe.id!==le.id&&qe.table.includes(Ue)&&De.push(qe.id);if(De.length>0)await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{deck:te,drawnCard:Ue,turnPhase:"STEALING",stealTargetIds:De});else if(le.hand.push(Ue),te.length===0){const qe=re(se);await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{players:qe,deck:te,status:"finished",logs:nr({text:"Deck Empty! Game Over!",type:"neutral"})})}else await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{players:se,deck:te})},Se=async se=>{const te=[...E.players],le=E.turnIndex,Ue=te[le],De=E.drawnCard,qe=[];let Tt=null;if(Ue.hand.push(De),se){let ot=0;const zt=[],ce=[];E.stealTargetIds.forEach(Ce=>{const Kt=te.findIndex(Rn=>Rn.id===Ce);if(Kt===-1)return;const jn=te[Kt],bs=jn.table.filter(Rn=>Rn===De),Xt=jn.table.filter(Rn=>Rn!==De);bs.length>0&&(jn.table=Xt,Ue.hand=[...Ue.hand,...bs],ot+=bs.length,zt.push(jn.name),ce.push(Ce))}),qe.push({text:`${Ue.name} stole ${ot} ${Es[De].name}(s) from ${zt.join(", ")}!`,type:"warning"}),Tt={id:Date.now(),timestamp:Date.now(),type:"STEAL",title:"THIEF!",message:`${Ue.name} stole ${ot} fruits from ${zt.join(", ")}!`,targetIds:ce,thiefId:Ue.id,cardType:De}}else qe.push({text:`${Ue.name} passed on stealing.`,type:"neutral"});if(E.deck.length===0){const ot=re(te);await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{players:ot,status:"finished",logs:nr(...qe,{text:"Deck Empty! Game Over!",type:"neutral"})})}else await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{players:te,turnPhase:"DRAWING",stealTargetIds:[],drawnCard:null,lastEvent:Tt,logs:nr(...qe)})},ke=async()=>{const se=[...E.players],te=se[E.turnIndex];te.hand.length,te.table=[...te.table,...te.hand],te.hand=[];const le=[{text:`${te.name} stopped safely.`,type:"neutral"}];await Y(se,E.deck,le)},Et=async()=>{if(!d)return;const se=[...E.players],te=se.findIndex(le=>le.id===s.uid);se[te].ready=!se[te].ready,await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{players:se})},ct=async se=>{const te=E.players.filter(le=>le.id!==se);await An(nn(sn,"artifacts",cn,"public","data","rooms",d),{players:te})};if(Z)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(cC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The farmers are tending to the trees. Come back later for fresh fruit."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(Sv,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(Sv,{size:16})]})})})})]});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Wd,{}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700 relative",children:[b.jsxs("div",{className:"flex justify-center gap-2 mb-4 animate-bounce",children:[b.jsx(qo,{size:48,className:"text-yellow-400"}),b.jsx($E,{size:48,className:"text-red-500"})]}),b.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 font-serif tracking-tight drop-shadow-xl italic transform -rotate-2",children:"FRUCTOSE FURY"}),b.jsx("p",{className:"text-white/60 tracking-[0.5em] uppercase mt-4 text-sm font-bold",children:"Juicy Risks & Sweet Rewards"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-yellow-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[M&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded-xl mb-4 text-white placeholder-gray-500 focus:border-yellow-500 outline-none transition-colors",placeholder:"Farmer Name",value:o,onChange:se=>c(se.target.value)}),b.jsxs("button",{onClick:ne,disabled:J,className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 p-4 rounded-xl font-bold mb-4 flex items-center justify-center gap-2 shadow-lg transform hover:scale-105 transition-all text-white",children:[b.jsx(ZE,{size:20,fill:"currentColor"})," Open New Stand"]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[b.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded-xl text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-yellow-500 outline-none",placeholder:"ROOM CODE",value:v,onChange:se=>y(se.target.value.toUpperCase())}),b.jsx("button",{onClick:fe,disabled:J,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded-xl font-bold transition-colors",children:"Join"})]}),b.jsxs("button",{onClick:()=>ge(!0),className:"w-full text-center text-gray-400 hover:text-white text-sm flex items-center justify-center gap-2",children:[b.jsx(Tv,{size:14})," Farming Guide"]})]}),Te&&b.jsx(Rv,{onClose:()=>ge(!1)}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Fruit Fight. A tribute game.",b.jsx("br",{}),"Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-yellow-500 underline hover:text-yellow-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const se=E.hostId===s.uid;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[b.jsx(Wd,{}),b.jsx(kC,{}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-orange-500/30 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-800",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl text-yellow-500 font-bold uppercase tracking-wider",children:"Fruit Stand"}),b.jsx("div",{className:"text-3xl font-mono text-white font-black tracking-widest",children:E.roomId})]}),b.jsx("button",{onClick:()=>Fe(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded-full text-red-400 transition-colors",children:b.jsx(bv,{size:20})})]}),b.jsxs("div",{className:"space-y-3 mb-8",children:[E.players.map(te=>b.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-3 rounded-xl border border-gray-700",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-full ${te.ready?"bg-green-500 text-black":"bg-gray-700 text-gray-400"}`,children:b.jsx(Mo,{size:18})}),b.jsx("span",{className:`font-bold ${te.id===s.uid?"text-yellow-400":"text-gray-300"}`,children:te.name})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[te.ready&&b.jsx("span",{className:"text-green-500 text-xs font-bold uppercase tracking-wider",children:"Ready"}),se&&te.id!==s.uid&&b.jsx("button",{onClick:()=>ct(te.id),className:"text-gray-600 hover:text-red-500",children:b.jsx(WE,{size:16})})]})]},te.id)),E.players.length<2&&b.jsx("div",{className:"text-center text-gray-500 py-4 italic",children:"Waiting for more farmers..."})]}),se?b.jsx("button",{onClick:Ve,disabled:E.players.length<2,className:`w-full py-4 rounded-xl font-black text-xl uppercase tracking-widest shadow-lg transition-all ${E.players.length>=2?"bg-green-600 hover:bg-green-500 text-white hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:"Start Harvest"}):b.jsx("div",{className:"w-full py-4 rounded-xl font-bold text-xl text-center text-gray-500 bg-gray-800/50 border border-gray-700 animate-pulse",children:"Waiting for Host to Start..."})]}),$e&&b.jsx(xv,{onConfirm:O,onCancel:()=>Fe(!1),isHost:se}),b.jsx(wv,{})]})}if(i==="game"&&E){const se=E.players.find(ce=>ce.id===s.uid);if(!se)return b.jsx("div",{className:"text-white text-center mt-20",children:"Syncing game data..."});const te=E.players[E.turnIndex];if(!te)return b.jsx("div",{className:"text-white text-center mt-20",children:"Syncing turn data..."});const le=te.id===s.uid,Ue=E.players.filter(ce=>ce.id!==s.uid),De=E.turnPhase==="STEALING",qe=A&&A.type==="BUST";let Tt=[];De&&E.stealTargetIds&&(Tt=E.stealTargetIds.map(ce=>{const Ce=E.players.find(jn=>jn.id===ce);if(!Ce)return null;const Kt=Ce.table.filter(jn=>jn===E.drawnCard).length;return{name:Ce.name,count:Kt}}).filter(ce=>ce!==null));let ot=null;E.status==="finished"&&(ot=[...E.players].sort((ce,Ce)=>ir(Ce.bank)-ir(ce.bank))[0]);const zt=E.players.every(ce=>ce.id===E.hostId||ce.ready);return b.jsxs("div",{className:`h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden transition-colors duration-100 ${qe?"animate-shake !bg-red-900":""}`,children:[b.jsx(Wd,{}),b.jsx(UC,{event:A,currentUserId:s.uid}),lt&&b.jsx(LC,{event:lt,onClose:()=>vt(null)}),U!==null&&b.jsx(jC,{data:U,onClose:()=>x(null)}),b.jsxs("div",{className:"h-14 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-4 z-[160] sticky top-0 backdrop-blur-md shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(qo,{className:"text-yellow-500",size:20}),b.jsx("span",{className:"font-black uppercase tracking-tight text-lg hidden md:block",children:"Fructose Fury"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>ge(!0),className:"p-2 text-gray-400 hover:bg-gray-800 rounded-full",children:b.jsx(Tv,{size:20})}),b.jsx("button",{onClick:()=>C(!Ne),className:`p-2 rounded-full ${Ne?"bg-yellow-900 text-yellow-400":"text-gray-400 hover:bg-gray-800"}`,children:b.jsx(dC,{size:20})}),b.jsx("button",{onClick:()=>Fe(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full",children:b.jsx(bv,{size:20})})]})]}),De&&le&&b.jsx(PC,{targets:Tt,fruitType:E.drawnCard,onSteal:()=>Se(!0),onPass:()=>Se(!1)}),Te&&b.jsx(Rv,{onClose:()=>ge(!1)}),$e&&b.jsx(xv,{onConfirm:O,onCancel:()=>Fe(!1),isHost:E.hostId===s.uid,onReturnToLobby:Qe}),Ne&&b.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:b.jsxs("div",{className:"bg-gray-900 w-full max-w-md h-[70vh] rounded-2xl flex flex-col border border-gray-700",children:[b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold",children:"Log"}),b.jsx("button",{onClick:()=>C(!1),children:b.jsx(yg,{})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs].reverse().map((ce,Ce)=>b.jsx("div",{className:`p-2 rounded text-sm border-l-2 ${ce.type==="danger"?"border-red-500 bg-red-900/20":ce.type==="warning"?"border-orange-500 bg-orange-900/20":"border-gray-500 bg-gray-800"}`,children:ce.text},Ce))})]})}),V&&b.jsx(zC,{players:E.players,destroyedCards:E.destroyedCards||[],onClose:()=>N(!1)}),E.status==="finished"&&b.jsxs("div",{className:"fixed inset-0 top-14 z-[150] bg-black/95 flex flex-col items-center justify-center p-6 text-center animate-in zoom-in overflow-y-auto",children:[b.jsx(Av,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),b.jsx("h1",{className:"text-5xl font-black text-white mb-2 uppercase",children:"Harvest Complete!"}),b.jsxs("p",{className:"text-2xl text-gray-300 mb-8",children:["The Master Farmer is"," ",b.jsx("span",{className:"text-yellow-400 font-bold",children:ot?.name})," ","with ",ir(ot?.bank||[])," points!"]}),b.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md w-full mb-8",children:E.players.map(ce=>b.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl flex justify-between items-center border border-gray-700",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[ce.ready&&b.jsx(dh,{size:16,className:"text-green-500"}),b.jsx("span",{className:ce.id===ot.id?"text-yellow-400 font-bold":"text-gray-400",children:ce.name})]}),b.jsx("span",{className:"font-mono text-xl",children:ir(ce.bank||[])})]},ce.id))}),b.jsxs("div",{className:"flex flex-col gap-4 items-center w-full max-w-md pb-10",children:[E.hostId!==s.uid&&(se.ready?b.jsx("button",{onClick:Et,className:"w-full py-3 bg-gray-700 hover:bg-gray-600 rounded-xl font-bold text-green-400 border border-green-500/50",children:"Waiting for others..."}):b.jsx("button",{onClick:Et,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-white shadow-lg animate-pulse",children:"Ready for Next Game"})),E.hostId===s.uid&&b.jsxs("div",{className:"flex gap-4 w-full",children:[b.jsx("button",{onClick:Qe,disabled:!zt,className:`flex-1 py-3 rounded-xl font-bold transition-colors ${zt?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,children:"Lobby"}),b.jsx("button",{onClick:Ve,disabled:!zt,className:`flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all ${zt?"bg-green-600 hover:bg-green-500 hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:"New Harvest"})]})]})]}),b.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-6xl mx-auto p-2 md:p-4 gap-2 md:gap-4 overflow-hidden",children:[b.jsx("div",{className:"flex-none flex items-stretch gap-3 overflow-x-auto py-4 px-2 no-scrollbar md:flex-wrap md:justify-center min-h-[25vh] md:min-h-0",children:Ue.map(ce=>b.jsxs("div",{className:`bg-gray-900/80 p-3 rounded-xl border-2 flex flex-col gap-2 
                  min-w-[150px] md:min-w-[160px] 
                  transition-all relative group
                  ${E.players[E.turnIndex].id===ce.id?"border-yellow-500 shadow-yellow-900/20 shadow-lg scale-[1.02] animate-pulse":"border-gray-800 opacity-90"}`,children:[b.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-1",children:[b.jsx("span",{className:"font-bold text-sm truncate max-w-[90px]",children:ce.name}),b.jsxs("div",{className:"flex items-center gap-1 bg-green-900/30 px-1.5 rounded text-green-400 text-xs",children:[b.jsx(Av,{size:10})," ",ir(ce.bank||[])]})]}),b.jsx("div",{className:"flex flex-wrap content-start gap-1 flex-1 bg-black/20 rounded p-1 overflow-y-auto min-h-[80px] max-h-[160px]",children:ce.table.length===0?b.jsx("span",{className:"text-[10px] text-gray-600 w-full text-center py-4",children:"Safe"}):ce.table.map((Ce,Kt)=>b.jsx("div",{className:"transform scale-75 origin-top-left -mr-3 -mb-3 hover:z-10 hover:scale-100 transition-transform",children:b.jsx(fs,{type:Ce,size:"sm"})},Kt))})]},ce.id))}),b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 relative min-h-0",children:[b.jsx("div",{className:"absolute top-0 pointer-events-none w-full flex justify-center z-10",children:E.logs.length>0&&b.jsx("div",{className:"bg-black/60 backdrop-blur px-4 py-1 rounded-full text-xs text-yellow-100/80 border border-yellow-500/20 animate-in fade-in slide-in-from-top-2 text-center max-w-[90%] truncate shadow-lg",children:E.logs[E.logs.length-1].text})}),b.jsxs("div",{className:"flex items-center gap-4 md:gap-16 w-full justify-center",children:[b.jsxs("button",{onClick:le&&!De&&E.turnPhase!=="BUSTED"?ve:void 0,disabled:!le||De||E.turnPhase==="BUSTED",className:`relative w-24 h-36 md:w-32 md:h-48 bg-gray-800 rounded-xl border-4 border-gray-700 shadow-2xl flex items-center justify-center group transition-all shrink-0 ${le&&!De&&E.turnPhase!=="BUSTED"?"hover:scale-105 cursor-pointer hover:border-yellow-500 ring-4 ring-yellow-500/20":"opacity-80 cursor-default"}`,children:[b.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-gray-600 rounded-lg"}),b.jsxs("div",{className:"text-center z-10",children:[b.jsx("span",{className:"block font-black text-xl md:text-2xl text-gray-500",children:E.deck.length}),b.jsx("span",{className:"text-[10px] uppercase text-gray-600 font-bold",children:"Cards"})]}),le&&!De&&E.turnPhase!=="BUSTED"&&b.jsx("div",{className:"absolute -bottom-4 md:-bottom-8 bg-yellow-500 text-black text-[10px] md:text-xs font-bold px-3 py-1 rounded-full animate-bounce shadow-lg z-20",children:"DRAW!"})]}),b.jsxs("div",{className:"flex items-center justify-start p-2 pl-4 pt-10 pb-4 bg-gray-900/50 rounded-3xl border-2 border-dashed border-gray-700 h-[160px] md:h-[180px] w-full max-w-[500px] overflow-x-auto no-scrollbar relative",children:[E.drawnCard&&E.turnPhase==="BUSTED"&&b.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-3xl animate-in fade-in",children:b.jsxs("div",{className:"transform rotate-12 scale-110 shadow-2xl shadow-red-500/50",children:[b.jsx(fs,{type:E.drawnCard,size:"lg"}),b.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 bg-red-600 text-white font-black px-2 py-1 rounded text-xs uppercase tracking-widest whitespace-nowrap",children:"Fatal Draw"})]})}),te.hand.length===0&&!E.drawnCard?b.jsx("div",{className:"w-full text-center",children:b.jsx("span",{className:"text-gray-600 font-bold uppercase tracking-widest text-xs md:text-sm",children:"Risk Zone Empty"})}):b.jsx("div",{className:"flex -space-x-8 md:-space-x-12 px-2",children:te.hand.map((ce,Ce)=>b.jsx("div",{className:"transform transition-transform duration-200 hover:-translate-y-6 hover:scale-110 z-0 hover:z-30 shrink-0 shadow-xl",children:b.jsx(fs,{type:ce,animate:Ce===te.hand.length-1})},Ce))})]})]}),le&&te.hand.length>0&&!De&&b.jsx("div",{className:"flex gap-4 animate-in slide-in-from-bottom-4 z-20 mt-2",children:b.jsxs("button",{onClick:ke,className:"bg-green-600 hover:bg-green-500 text-white px-8 md:px-12 py-3 md:py-4 rounded-xl font-black text-lg md:text-xl shadow-lg shadow-green-900/20 transform hover:scale-105 transition-all flex items-center gap-2 border-b-4 border-green-800 active:border-b-0 active:translate-y-1",children:[b.jsx(dh,{size:20})," BANK IT!"]})}),!le&&b.jsxs("div",{className:"bg-gray-900/80 px-4 md:px-6 py-2 md:py-3 rounded-full border border-gray-700 text-gray-400 font-mono text-xs md:text-sm animate-pulse text-center mt-2",children:["Waiting for ",te.name,"..."]})]}),b.jsx("div",{className:`flex-none bg-gray-900 p-3 md:p-4 rounded-t-3xl border-t-4 ${le?"border-yellow-500":"border-gray-800"} shadow-[0_-10px_40px_rgba(0,0,0,0.5)] z-20 pb-6 md:pb-4`,children:b.jsxs("div",{className:"flex justify-between items-end",children:[b.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[b.jsxs("div",{className:"relative",children:[b.jsxs("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gray-800 rounded-full border-2 border-gray-600 flex items-center justify-center overflow-hidden",children:[b.jsx(Mo,{size:24,className:"text-gray-400 md:hidden"}),b.jsx(Mo,{size:32,className:"text-gray-400 hidden md:block"})]}),b.jsx("div",{className:"absolute -top-2 -right-2 bg-green-600 text-white w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center font-bold text-xs md:text-base shadow-lg border-2 border-gray-900",children:ir(se.bank||[])})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-sm md:text-xl font-bold text-white",children:[se.name," (You)"]}),b.jsx("div",{className:"text-[10px] md:text-xs text-green-400 font-bold uppercase tracking-wider",children:"Safe Zone"})]})]}),b.jsxs("div",{className:"flex-1 ml-4 md:ml-8 flex flex-col items-end overflow-hidden",children:[b.jsxs("span",{className:"text-[10px] md:text-xs text-orange-400 font-bold uppercase tracking-wider mb-1 md:mb-2 flex items-center gap-1 whitespace-nowrap",children:[b.jsx(eT,{size:12})," Danger Zone (Next Turn)"]}),b.jsx("div",{className:"flex flex-wrap justify-end gap-1 md:gap-2 bg-black/30 p-2 rounded-xl border border-gray-800 w-full md:w-auto min-h-[60px] md:min-h-[70px] max-h-[100px] min-w-[120px] overflow-y-auto",children:se.table.length===0?b.jsx("span",{className:"text-gray-600 text-[10px] md:text-xs self-center mx-auto",children:"Empty"}):se.table.map((ce,Ce)=>b.jsx("div",{className:"transform scale-75 hover:scale-100 transition-transform origin-bottom shrink-0 z-10",children:b.jsx(fs,{type:ce,size:"sm"})},Ce))})]})]})})]}),b.jsx(wv,{})]})}return null}Bb.createRoot(document.getElementById("root")).render(b.jsx(Xe.StrictMode,{children:b.jsx(BC,{})}));
